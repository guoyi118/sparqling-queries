 | Idx | Table      | Column | Primary Key | Foreign Key | 
 | ----------- | ----------- | ----------- | ----------- | ----------- | 
  | 0 |  | * |   |   | 
 | 1 | **festival_detail** | Festival_ID | + |   | 
 | 2 |   | Festival_Name |   |   | 
 | 3 |   | Chair_Name |   |   | 
 | 4 |   | Location |   |   | 
 | 5 |   | Year |   |   | 
 | 6 |   | Num_of_Audience |   |   | 
 | 7 | **artwork** | Artwork_ID | + |   | 
 | 8 |   | Type |   |   | 
 | 9 |   | Name |   |   | 
 | 10 | **nomination** | Artwork_ID | + | --> 7 | 
 | 11 |   | Festival_ID |   | --> 1 | 
 | 12 |   | Result |   |   | 
 
  | Index | Question  | SQL | gold QDMR | pred QDMR | Exec | SQL hardness |
  | ----------- | ----------- | ----------- |  ----------- | ----------- | ----------- | ----------- | 
 | SPIDER_train_4598 | How many artworks are there? | SELECT count(*) FROM artwork | 1. SELECT[tbl:​artwork] <br>2. AGGREGATE[count, #1] <br> | 1. SELECT[tbl:​artwork] <br>2. AGGREGATE[count, #1] <br> | + | easy | 
  | SPIDER_train_4599 | List the name of artworks in ascending alphabetical order. | SELECT Name FROM artwork ORDER BY Name ASC | 1. SELECT[tbl:​artwork] <br>2. PROJECT[col:​artwork:​Name, #1] <br>3. SORT[#2, #2, sortdir:​ascending] <br> | 1. SELECT[tbl:​artwork] <br>2. PROJECT[col:​artwork:​Name, #1] <br>3. SORT[#2, #2, sortdir:​ascending] <br> | + | easy | 
  | SPIDER_train_4601 | What are the names and locations of festivals? | SELECT Festival_Name ,  LOCATION FROM festival_detail | 1. SELECT[tbl:​festival_detail] <br>2. PROJECT[col:​festival_detail:​Festival_Name, #1] <br>3. PROJECT[col:​festival_detail:​Location, #1] <br>4. UNION[#2, #3] <br> | 1. SELECT[tbl:​festival_detail] <br>2. PROJECT[col:​festival_detail:​Festival_Name, #1] <br>3. PROJECT[col:​festival_detail:​Location, #1] <br>4. UNION[#2, #3] <br> | + | medium | 
  | SPIDER_train_4602 | What are the names of the chairs of festivals, sorted in ascending order of the year held? | SELECT Chair_Name FROM festival_detail ORDER BY YEAR ASC | 1. SELECT[tbl:​festival_detail] <br>2. PROJECT[col:​festival_detail:​Chair_Name, #1] <br>3. PROJECT[col:​festival_detail:​Year, #1] <br>4. SORT[#2, #3] <br> | 1. SELECT[tbl:​festival_detail] <br>2. PROJECT[col:​festival_detail:​Chair_Name, #1] <br>3. PROJECT[col:​festival_detail:​Year, #1] <br>4. SORT[#2, #3, sortdir:​ascending] <br> | + | easy | 
  | SPIDER_train_4603 | What is the location of the festival with the largest number of audience? | SELECT LOCATION FROM festival_detail ORDER BY Num_of_Audience DESC LIMIT 1 | 1. SELECT[tbl:​festival_detail] <br>2. PROJECT[col:​festival_detail:​Num_of_Audience, #1] <br>3. GROUP[col:​festival_detail:​Num_of_Audience, #2, #1] <br>4. SUPERLATIVE[comparative:​max:​None, #1, #3] <br>5. PROJECT[col:​festival_detail:​Location, #4] <br> | 1. SELECT[tbl:​festival_detail] <br>2. PROJECT[col:​festival_detail:​Num_of_Audience, #1] <br>3. GROUP[sum, #2, #1] <br>4. SUPERLATIVE[comparative:​max:​None, #1, #3] <br>5. PROJECT[col:​festival_detail:​Location, #4] <br> | + | medium | 
  | SPIDER_train_4604 | What are the names of festivals held in year 2007? | SELECT Festival_Name FROM festival_detail WHERE YEAR  =  2007 | 1. SELECT[tbl:​festival_detail] <br>2. PROJECT[col:​festival_detail:​Year, #1] <br>3. COMPARATIVE[#1, #2, comparative:​=:​2007:​col:​festival_detail:​Year] <br>4. PROJECT[col:​festival_detail:​Festival_Name, #3] <br> | 1. SELECT[tbl:​festival_detail] <br>2. PROJECT[col:​festival_detail:​Year, #1] <br>3. COMPARATIVE[#1, #2, comparative:​=:​2007:​col:​festival_detail:​Year] <br>4. PROJECT[col:​festival_detail:​Festival_Name, #3] <br> | + | easy | 
  | SPIDER_train_4605 | What is the average number of audience for festivals? | SELECT avg(Num_of_Audience) FROM festival_detail | 1. SELECT[tbl:​festival_detail] <br>2. PROJECT[col:​festival_detail:​Num_of_Audience, #1] <br>3. GROUP[col:​festival_detail:​Num_of_Audience, #2, #1] <br>4. AGGREGATE[avg, #3] <br> | 1. SELECT[tbl:​festival_detail] <br>2. PROJECT[col:​festival_detail:​Num_of_Audience, #1] <br>3. GROUP[sum, #2, #1] <br>4. AGGREGATE[avg, #3] <br> | + | easy | 
  | SPIDER_train_4607 | For each nomination, show the name of the artwork and name of the festival where it is nominated. | SELECT T2.Name ,  T3.Festival_Name FROM nomination AS T1 JOIN artwork AS T2 ON T1.Artwork_ID  =  T2.Artwork_ID JOIN festival_detail AS T3 ON T1.Festival_ID  =  T3.Festival_ID | 1. SELECT[tbl:​nomination] <br>2. PROJECT[tbl:​artwork, #1] <br>3. PROJECT[col:​artwork:​Name, #2] <br>4. PROJECT[tbl:​festival_detail, #1] <br>5. PROJECT[col:​festival_detail:​Festival_Name, #4] <br>6. UNION[#3, #5] <br> | 1. SELECT[tbl:​nomination] <br>2. PROJECT[tbl:​artwork, #1] <br>3. PROJECT[col:​artwork:​Name, #2] <br>4. PROJECT[tbl:​festival_detail, #1] <br>5. PROJECT[col:​festival_detail:​Festival_Name, #4] <br>6. UNION[#3, #5] <br> | + | medium | 
  | SPIDER_train_4609 | Show the names of artworks in ascending order of the year they are nominated in. | SELECT T2.Name FROM nomination AS T1 JOIN artwork AS T2 ON T1.Artwork_ID  =  T2.Artwork_ID JOIN festival_detail AS T3 ON T1.Festival_ID  =  T3.Festival_ID ORDER BY T3.Year | 1. SELECT[col:​artwork:​Name] <br>2. PROJECT[col:​festival_detail:​Year, #1] <br>3. SORT[#1, #2, sortdir:​ascending] <br> | 1. SELECT[col:​artwork:​Name] <br>2. PROJECT[col:​festival_detail:​Year, #1] <br>3. SORT[#1, #2, sortdir:​ascending] <br> | + | hard | 
  | SPIDER_train_4610 | Show the names of festivals that have nominated artworks of type "Program Talent Show". | SELECT T3.Festival_Name FROM nomination AS T1 JOIN artwork AS T2 ON T1.Artwork_ID  =  T2.Artwork_ID JOIN festival_detail AS T3 ON T1.Festival_ID  =  T3.Festival_ID WHERE T2.Type  =  "Program Talent Show" | 1. SELECT[tbl:​festival_detail] <br>2. FILTER[#1, tbl:​artwork] <br>3. PROJECT[col:​artwork:​Type, #2] <br>4. COMPARATIVE[#2, #3, comparative:​=:​Program Talent Show:​col:​artwork:​Type] <br>5. PROJECT[col:​festival_detail:​Festival_Name, #4] <br> | 1. SELECT[tbl:​festival_detail] <br>2. COMPARATIVE[#1, #1, tbl:​artwork] <br>3. PROJECT[col:​artwork:​Type, #2] <br>4. COMPARATIVE[#2, #3, comparative:​=:​Program Talent Show:​col:​artwork:​Type] <br>5. PROJECT[col:​festival_detail:​Festival_Name, #4] <br> | + | hard | 
  | SPIDER_train_4611 | Show the ids and names of festivals that have at least two nominations for artworks. | SELECT T1.Festival_ID ,  T3.Festival_Name FROM nomination AS T1 JOIN artwork AS T2 ON T1.Artwork_ID  =  T2.Artwork_ID JOIN festival_detail AS T3 ON T1.Festival_ID  =  T3.Festival_ID GROUP BY T1.Festival_ID HAVING COUNT(*)  >=  2 | 1. SELECT[tbl:​festival_detail] <br>2. PROJECT[tbl:​nomination, #1] <br>3. FILTER[#2, tbl:​artwork] <br>4. GROUP[count, #3, #1] <br>5. COMPARATIVE[#1, #4, comparative:​>=:​2] <br>6. PROJECT[col:​nomination:​Festival_ID, #5] <br>7. PROJECT[col:​festival_detail:​Festival_Name, #5] <br>8. UNION[#6, #7] <br> | 1. SELECT[tbl:​festival_detail] <br>2. PROJECT[tbl:​nomination, #1] <br>3. COMPARATIVE[#2, #2, tbl:​artwork] <br>4. GROUP[count, #3, #1] <br>5. COMPARATIVE[#1, #4, comparative:​>=:​2] <br>6. PROJECT[col:​nomination:​Festival_ID, #5] <br>7. PROJECT[col:​festival_detail:​Festival_Name, #5] <br>8. UNION[#6, #7] <br> | + | hard | 
  | SPIDER_train_4612 | Show the id, name of each festival and the number of artworks it has nominated. | SELECT T1.Festival_ID ,  T3.Festival_Name ,  COUNT(*) FROM nomination AS T1 JOIN artwork AS T2 ON T1.Artwork_ID  =  T2.Artwork_ID JOIN festival_detail AS T3 ON T1.Festival_ID  =  T3.Festival_ID GROUP BY T1.Festival_ID | 1. SELECT[col:​nomination:​Festival_ID] <br>2. PROJECT[col:​nomination:​Festival_ID, #1] <br>3. PROJECT[col:​festival_detail:​Festival_Name, #1] <br>4. PROJECT[tbl:​artwork, #1] <br>5. GROUP[count, #4, #1] <br>6. UNION[#2, #3, #5] <br> | 1. SELECT[col:​nomination:​Festival_ID] <br>2. PROJECT[col:​nomination:​Festival_ID, #1] <br>3. PROJECT[col:​festival_detail:​Festival_Name, #1] <br>4. PROJECT[tbl:​artwork, #1] <br>5. GROUP[count, #4, #1] <br>6. UNION[#2, #3, #5] <br> | + | hard | 
  | SPIDER_train_4613 | Please show different types of artworks with the corresponding number of artworks of each type. | SELECT TYPE ,  COUNT(*) FROM artwork GROUP BY TYPE | 1. SELECT[col:​artwork:​Type] <br>2.*(distinct)* PROJECT[different #REF, #1] <br>3. PROJECT[tbl:​artwork, #1] <br>4. GROUP[count, #3, #2] <br>5. UNION[#2, #4] <br> | 1. SELECT[col:​artwork:​Type] <br>2.*(distinct)* PROJECT[None, #1] <br>3. PROJECT[tbl:​artwork, #1] <br>4. GROUP[count, #3, #2] <br>5. UNION[#2, #4] <br> | + | medium | 
  | SPIDER_train_4614 | List the most common type of artworks. | SELECT TYPE FROM artwork GROUP BY TYPE ORDER BY COUNT(*) DESC LIMIT 1 | 1. SELECT[tbl:​artwork] <br>2. PROJECT[col:​artwork:​Type, #1] <br>3. GROUP[count, #1, #2] <br>4. COMPARATIVE[#2, #3, comparative:​max:​None] <br> | 1. SELECT[tbl:​artwork] <br>2. PROJECT[col:​artwork:​Type, #1] <br>3. GROUP[count, #1, #2] <br>4. SUPERLATIVE[comparative:​max:​None, #2, #3] <br> | + | hard | 
  | SPIDER_train_4615 | List the year in which there are more than one festivals. | SELECT YEAR FROM festival_detail GROUP BY YEAR HAVING COUNT(*)  >  1 | 1. SELECT[col:​festival_detail:​Year] <br>2. PROJECT[tbl:​festival_detail, #1] <br>3. GROUP[count, #2, #1] <br>4. COMPARATIVE[#1, #3, comparative:​>:​1] <br> | 1. SELECT[col:​festival_detail:​Year] <br>2. PROJECT[tbl:​festival_detail, #1] <br>3. GROUP[count, #2, #1] <br>4. COMPARATIVE[#1, #3, comparative:​>:​1] <br> | + | easy | 
  | SPIDER_train_4617 | Show the number of audience in year 2008 or 2010. | SELECT Num_of_Audience FROM festival_detail WHERE YEAR  =  2008 OR YEAR  =  2010 | 1. SELECT[col:​festival_detail:​Num_of_Audience] <br>2. PROJECT[col:​festival_detail:​Year, #1] <br>3. COMPARATIVE[#1, #2, comparative:​=:​2010:​col:​festival_detail:​Year] <br>4. COMPARATIVE[#1, #2, comparative:​=:​2008:​col:​festival_detail:​Year] <br>5. UNION[#3, #4] <br>6. AGGREGATE[col:​festival_detail:​Num_of_Audience, #5] <br> | 1. SELECT[col:​festival_detail:​Num_of_Audience] <br>2. PROJECT[col:​festival_detail:​Year, #1] <br>3. COMPARATIVE[#1, #2, comparative:​=:​2010:​col:​festival_detail:​Year] <br>4. COMPARATIVE[#1, #2, comparative:​=:​2008:​col:​festival_detail:​Year] <br>5. UNION[#3, #4] <br>6. AGGREGATE[sum, #5] <br> | + | medium | 
  | SPIDER_train_4618 | What are the total number of the audiences who visited any of the festivals? | SELECT sum(Num_of_Audience) FROM festival_detail | 1. SELECT[tbl:​festival_detail] <br>2. PROJECT[col:​festival_detail:​Num_of_Audience, #1] <br>3. AGGREGATE[sum, #2] <br> | 1. SELECT[tbl:​festival_detail] <br>2. PROJECT[col:​festival_detail:​Num_of_Audience, #1] <br>3. AGGREGATE[sum, #2] <br> | + | easy | 
  | SPIDER_train_4619 | In which year are there festivals both inside the 'United States' and outside the 'United States'? | SELECT YEAR FROM festival_detail WHERE LOCATION  =  'United States' INTERSECT SELECT YEAR FROM festival_detail WHERE LOCATION != 'United States' | 1. SELECT[tbl:​festival_detail] <br>2. FILTER[#1, comparative:​=:​United States:​col:​festival_detail:​Location] <br>3. FILTER[#1, comparative:​!=:​United States:​col:​festival_detail:​Location] <br>4. INTERSECTION[#1, #2, #3] <br>5. PROJECT[col:​festival_detail:​Year, #4] <br> | 1. SELECT[tbl:​festival_detail] <br>2. COMPARATIVE[#1, #1, comparative:​=:​United States:​col:​festival_detail:​Location] <br>3. COMPARATIVE[#1, #1, comparative:​!=:​United States:​col:​festival_detail:​Location] <br>4. INTERSECTION[#1, #2, #3] <br>5. PROJECT[col:​festival_detail:​Year, #4] <br> | + | hard | 
 ***
 Exec acc: **1.0000**
