 | Idx | Table      | Column | Primary Key | Foreign Key | 
 | ----------- | ----------- | ----------- | ----------- | ----------- | 
  | 0 |  | * |   |   | 
 | 1 | **Student** | StuID | + |   | 
 | 2 |   | LName |   |   | 
 | 3 |   | Fname |   |   | 
 | 4 |   | Age |   |   | 
 | 5 |   | Sex |   |   | 
 | 6 |   | Major |   |   | 
 | 7 |   | Advisor |   |   | 
 | 8 |   | city_code |   |   | 
 | 9 | **Restaurant** | ResID | + |   | 
 | 10 |   | ResName |   |   | 
 | 11 |   | Address |   |   | 
 | 12 |   | Rating |   |   | 
 | 13 | **Type_Of_Restaurant** | ResID |   | --> 9 | 
 | 14 |   | ResTypeID |   | --> 15 | 
 | 15 | **Restaurant_Type** | ResTypeID | + |   | 
 | 16 |   | ResTypeName |   |   | 
 | 17 |   | ResTypeDescription |   |   | 
 | 18 | **Visits_Restaurant** | StuID |   | --> 1 | 
 | 19 |   | ResID |   | --> 9 | 
 | 20 |   | Time |   |   | 
 | 21 |   | Spent |   |   | 
 
  | Index | Question  | SQL | gold QDMR | pred QDMR | Exec | SQL hardness |
  | ----------- | ----------- | ----------- |  ----------- | ----------- | ----------- | ----------- | 
 | SPIDER_train_2820 | Show me all the restaurants. | SELECT ResName FROM Restaurant; | 1. SELECT[col:​Restaurant:​ResName] <br> | 1. SELECT[col:​Restaurant:​ResName] <br> | + | easy | 
  | SPIDER_train_2821 | What is the address of the restaurant Subway? | SELECT Address FROM Restaurant WHERE ResName = "Subway"; | 1. SELECT[tbl:​Restaurant] <br>2. FILTER[#1, comparative:​=:​Subway:​col:​Restaurant:​ResName] <br>3. PROJECT[col:​Restaurant:​Address, #2] <br> | 1. SELECT[tbl:​Restaurant] <br>2. COMPARATIVE[#1, #1, comparative:​=:​Subway:​col:​Restaurant:​ResName] <br>3. PROJECT[col:​Restaurant:​Address, #2] <br> | + | easy | 
  | SPIDER_train_2822 | What is the rating of the restaurant Subway? | SELECT Rating FROM Restaurant WHERE ResName = "Subway"; | 1. SELECT[tbl:​Restaurant] <br>2. FILTER[#1, comparative:​=:​Subway:​col:​Restaurant:​ResName] <br>3. PROJECT[col:​Restaurant:​Rating, #2] <br> | 1. SELECT[tbl:​Restaurant] <br>2. COMPARATIVE[#1, #1, comparative:​=:​Subway:​col:​Restaurant:​ResName] <br>3. PROJECT[col:​Restaurant:​Rating, #2] <br> | + | easy | 
  | SPIDER_train_2823 | List all restaurant types. | SELECT ResTypeName FROM Restaurant_Type; | 1. SELECT[tbl:​Restaurant_Type] <br>2. PROJECT[col:​Restaurant_Type:​ResTypeName, #1] <br> | 1. SELECT[tbl:​Restaurant_Type] <br>2. PROJECT[col:​Restaurant_Type:​ResTypeName, #1] <br> | + | easy | 
  | SPIDER_train_2824 | What is the description of the restaurant type Sandwich? | SELECT ResTypeDescription FROM Restaurant_Type WHERE ResTypeName = "Sandwich"; | 1. SELECT[tbl:​Restaurant_Type] <br>2. PROJECT[tbl:​Restaurant_Type, #1] <br>3. COMPARATIVE[#1, #2, comparative:​=:​Sandwich:​col:​Restaurant_Type:​ResTypeName] <br>4. PROJECT[col:​Restaurant_Type:​ResTypeDescription, #3] <br> | 1. SELECT[tbl:​Restaurant_Type] <br>2. PROJECT[tbl:​Restaurant_Type, #1] <br>3. COMPARATIVE[#1, #2, comparative:​=:​Sandwich:​col:​Restaurant_Type:​ResTypeName] <br>4. PROJECT[col:​Restaurant_Type:​ResTypeDescription, #3] <br> | + | easy | 
  | SPIDER_train_2825 | Which restaurants have highest rating? List the restaurant name and its rating. | SELECT ResName , Rating FROM Restaurant ORDER BY Rating DESC LIMIT 1; | 1. SELECT[tbl:​Restaurant] <br>2. PROJECT[col:​Restaurant:​Rating, #1] <br>3. SUPERLATIVE[comparative:​max:​None, #1, #2] <br>4. PROJECT[col:​Restaurant:​ResName, #3] <br>5. PROJECT[col:​Restaurant:​Rating, #3] <br>6. UNION[#4, #5] <br> | 1. SELECT[tbl:​Restaurant] <br>2. PROJECT[col:​Restaurant:​Rating, #1] <br>3. SUPERLATIVE[comparative:​max:​None, #1, #2] <br>4. PROJECT[col:​Restaurant:​ResName, #3] <br>5. PROJECT[col:​Restaurant:​Rating, #3] <br>6. UNION[#4, #5] <br> | + | medium | 
  | SPIDER_train_2828 | List all students' first names and last names who majored in 600. | SELECT Fname , Lname FROM Student WHERE Major  =  600; | 1. SELECT[tbl:​Student] <br>2. FILTER[#1, comparative:​=:​600:​col:​Student:​Major] <br>3. PROJECT[col:​Student:​Fname, #2] <br>4. PROJECT[col:​Student:​LName, #3] <br>5. UNION[#3, #4] <br> | 1. SELECT[tbl:​Student] <br>2. COMPARATIVE[#1, #1, comparative:​=:​600:​col:​Student:​Major] <br>3. PROJECT[col:​Student:​Fname, #2] <br>4. PROJECT[col:​Student:​LName, #3] <br>5. UNION[#3, #4] <br> | + | medium | 
  | SPIDER_train_2830 | Advisor 1121 has how many students? | SELECT count(*) FROM Student WHERE Advisor =  1121; | 1. SELECT[val:​Student:​Advisor:​1121] <br>2. PROJECT[tbl:​Student, #1] <br>3. AGGREGATE[count, #2] <br> | 1. SELECT[val:​Student:​Advisor:​1121] <br>2. PROJECT[tbl:​Student, #1] <br>3. AGGREGATE[count, #2] <br> | + | easy | 
  | SPIDER_train_2831 | Which Advisor has most of students? List advisor and the number of students. | SELECT Advisor ,  count(*) FROM Student GROUP BY Advisor ORDER BY count(Advisor) DESC LIMIT 1; | 1. SELECT[col:​Student:​Advisor] <br>2. PROJECT[tbl:​Student, #1] <br>3. GROUP[count, #2, #1] <br>4. SUPERLATIVE[comparative:​max:​None, #1, #3] <br>5. PROJECT[tbl:​Student, #4] <br>6. AGGREGATE[count, #5] <br>7. UNION[#4, #6] <br> | 1. SELECT[col:​Student:​Advisor] <br>2. PROJECT[tbl:​Student, #1] <br>3. GROUP[count, #2, #1] <br>4. SUPERLATIVE[comparative:​max:​None, #1, #3] <br>5. PROJECT[tbl:​Student, #4] <br>6. AGGREGATE[count, #5] <br>7. UNION[#4, #6] <br> | + | hard | 
  | SPIDER_train_2832 | Which major has least number of students? List the major and the number of students. | SELECT Major ,  count(*) FROM Student GROUP BY Major ORDER BY count(Major) ASC LIMIT 1; | 1. SELECT[col:​Student:​Major] <br>2. PROJECT[tbl:​Student, #1] <br>3. GROUP[count, #2, #1] <br>4. COMPARATIVE[#1, #3, comparative:​min:​None] <br>5. PROJECT[tbl:​Student, #4] <br>6. GROUP[count, #5, #4] <br>7. UNION[#4, #6] <br> | 1. SELECT[col:​Student:​Major] <br>2. PROJECT[tbl:​Student, #1] <br>3. GROUP[count, #2, #1] <br>4. SUPERLATIVE[comparative:​min:​None, #1, #3] <br>5. PROJECT[tbl:​Student, #4] <br>6. GROUP[count, #5, #4] <br>7. UNION[#4, #6] <br> | + | hard | 
  | SPIDER_train_2834 | Which student's age is older than 18 and is majoring in 600? List each student's first and last name. | SELECT Fname , Lname FROM Student WHERE Age  >  18 AND Major = 600; | 1. SELECT[tbl:​Student] <br>2. PROJECT[col:​Student:​Major, #1] <br>3. COMPARATIVE[#1, #2, comparative:​=:​600:​col:​Student:​Major] <br>4. PROJECT[col:​Student:​Age, #3] <br>5. COMPARATIVE[#3, #4, comparative:​>:​18:​col:​Student:​Age] <br>6. PROJECT[col:​Student:​Fname, #5] <br>7. PROJECT[col:​Student:​LName, #5] <br>8. UNION[#6, #7] <br> | 1. SELECT[tbl:​Student] <br>2. PROJECT[col:​Student:​Major, #1] <br>3. COMPARATIVE[#1, #2, comparative:​=:​600:​col:​Student:​Major] <br>4. PROJECT[col:​Student:​Age, #3] <br>5. COMPARATIVE[#3, #4, comparative:​>:​18:​col:​Student:​Age] <br>6. PROJECT[col:​Student:​Fname, #5] <br>7. PROJECT[col:​Student:​LName, #5] <br>8. UNION[#6, #7] <br> | + | medium | 
  | SPIDER_train_2836 | How many restaurant is the Sandwich type restaurant? | SELECT count(*) FROM Restaurant JOIN Type_Of_Restaurant ON Restaurant.ResID =  Type_Of_Restaurant.ResID JOIN Restaurant_Type ON Type_Of_Restaurant.ResTypeID = Restaurant_Type.ResTypeID GROUP BY Type_Of_Restaurant.ResTypeID HAVING Restaurant_Type.ResTypeName = 'Sandwich' | 1. SELECT[tbl:​Type_Of_Restaurant] <br>2. PROJECT[tbl:​Type_Of_Restaurant, #1] <br>3. COMPARATIVE[#1, #2, comparative:​=:​Sandwich:​col:​Restaurant_Type:​ResTypeName] <br>4. AGGREGATE[count, #3] <br> | 1. SELECT[tbl:​Type_Of_Restaurant] <br>2. PROJECT[tbl:​Type_Of_Restaurant, #1] <br>3. COMPARATIVE[#1, #2, comparative:​=:​Sandwich:​col:​Restaurant_Type:​ResTypeName] <br>4. AGGREGATE[count, #3] <br> | + | hard | 
  | SPIDER_train_2840 | At which restaurant did the students spend the least amount of time? List restaurant and the time students spent on in total. | SELECT Restaurant.ResName ,  sum(Visits_Restaurant.Spent) FROM Visits_Restaurant JOIN Restaurant ON Visits_Restaurant.ResID = Restaurant.ResID GROUP BY Restaurant.ResID ORDER BY sum(Visits_Restaurant.Spent) ASC LIMIT 1; | 1. SELECT[col:​Restaurant:​ResName] <br>2. PROJECT[col:​Restaurant:​ResName, #1] <br>3. GROUP[sum, #2, #1] <br>4. SUPERLATIVE[comparative:​max:​None, #1, #3] <br>5. PROJECT[col:​Visits_Restaurant:​Spent, #4] <br>6. AGGREGATE[sum, #5] <br>7. UNION[#4, #6] <br> | 1. SELECT[col:​Restaurant:​ResName] <br>2. PROJECT[col:​Restaurant:​ResName, #1] <br>3. GROUP[sum, #2, #1] <br>4. SUPERLATIVE[comparative:​max:​None, #1, #3] <br>5. PROJECT[col:​Visits_Restaurant:​Spent, #4] <br>6. AGGREGATE[sum, #5] <br>7. UNION[#4, #6] <br> | - | extra | 
 ***
 Exec acc: **0.9231**
