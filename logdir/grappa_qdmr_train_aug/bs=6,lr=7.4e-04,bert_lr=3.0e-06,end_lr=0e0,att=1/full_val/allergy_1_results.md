 | Idx | Table      | Column | Primary Key | Foreign Key | 
 | ----------- | ----------- | ----------- | ----------- | ----------- | 
  | 0 |  | * |   |   | 
 | 1 | **Allergy_Type** | Allergy | + |   | 
 | 2 |   | AllergyType |   |   | 
 | 3 | **Has_Allergy** | StuID |   | --> 5 | 
 | 4 |   | Allergy |   | --> 1 | 
 | 5 | **Student** | StuID | + |   | 
 | 6 |   | LName |   |   | 
 | 7 |   | Fname |   |   | 
 | 8 |   | Age |   |   | 
 | 9 |   | Sex |   |   | 
 | 10 |   | Major |   |   | 
 | 11 |   | Advisor |   |   | 
 | 12 |   | city_code |   |   | 
 
  | Index | Question  | SQL | gold QDMR | pred QDMR | Exec | SQL hardness |
  | ----------- | ----------- | ----------- |  ----------- | ----------- | ----------- | ----------- | 
 | SPIDER_train_439 | How many allergies are there? | SELECT count(DISTINCT allergy) FROM Allergy_type | 1. SELECT[col:​Allergy_Type:​Allergy] <br>2. AGGREGATE[count, #1] <br> | 1. SELECT[col:​Allergy_Type:​Allergy] <br>2. AGGREGATE[count, #1] <br> | + | easy | 
  | SPIDER_train_440 | How many allergy entries are there? | SELECT count(DISTINCT allergy) FROM Allergy_type | 1. SELECT[col:​Allergy_Type:​Allergy] <br>2. AGGREGATE[count, #1] <br> | 1. SELECT[col:​Allergy_Type:​Allergy] <br>2. AGGREGATE[count, #1] <br> | + | easy | 
  | SPIDER_train_441 | How many different allergy types exist? | SELECT count(DISTINCT allergytype) FROM Allergy_type | 1. SELECT[col:​Allergy_Type:​AllergyType] <br>2. AGGREGATE[count, #1] <br> | 1. SELECT[col:​Allergy_Type:​AllergyType] <br>2. AGGREGATE[count, #1] <br> | + | easy | 
  | SPIDER_train_442 | How many distinct allergies are there? | SELECT count(DISTINCT allergytype) FROM Allergy_type | 1. SELECT[col:​Allergy_Type:​AllergyType] <br>2.*(distinct)* PROJECT[distinct #REF, #1] <br>3. AGGREGATE[count, #2] <br> | 1. SELECT[col:​Allergy_Type:​AllergyType] <br>2.*(distinct)* PROJECT[None, #1] <br>3. AGGREGATE[count, #2] <br> | + | easy | 
  | SPIDER_train_443 | Show all allergy types. | SELECT DISTINCT allergytype FROM Allergy_type | 1. SELECT[col:​Allergy_Type:​AllergyType] <br>2. PROJECT[col:​Allergy_Type:​AllergyType, #1] <br> | 1. SELECT[col:​Allergy_Type:​AllergyType] <br>2. PROJECT[col:​Allergy_Type:​AllergyType, #1] <br> | + | easy | 
  | SPIDER_train_444 | What are the different allergy types? | SELECT DISTINCT allergytype FROM Allergy_type | 1. SELECT[tbl:​Allergy_Type] <br>2.*(distinct)* PROJECT[col:​Allergy_Type:​AllergyType, #1] <br> | 1. SELECT[tbl:​Allergy_Type] <br>2.*(distinct)* PROJECT[col:​Allergy_Type:​AllergyType, #1] <br> | + | easy | 
  | SPIDER_train_445 | Show all allergies and their types. | SELECT allergy ,  allergytype FROM Allergy_type | 1. SELECT[col:​Allergy_Type:​Allergy] <br>2. PROJECT[col:​Allergy_Type:​AllergyType, #1] <br>3. UNION[#1, #2] <br> | 1. SELECT[col:​Allergy_Type:​Allergy] <br>2. PROJECT[col:​Allergy_Type:​AllergyType, #1] <br>3. UNION[#1, #2] <br> | + | medium | 
  | SPIDER_train_446 | What are the allergies and their types? | SELECT allergy ,  allergytype FROM Allergy_type | 1. SELECT[col:​Allergy_Type:​Allergy] <br>2. PROJECT[col:​Allergy_Type:​AllergyType, #1] <br>3. UNION[#1, #2] <br> | 1. SELECT[col:​Allergy_Type:​Allergy] <br>2. PROJECT[col:​Allergy_Type:​AllergyType, #1] <br>3. UNION[#1, #2] <br> | + | medium | 
  | SPIDER_train_447 | Show all allergies with type food. | SELECT DISTINCT allergy FROM Allergy_type WHERE allergytype  =  "food" | 1. SELECT[col:​Allergy_Type:​Allergy] <br>2. PROJECT[tbl:​Allergy_Type, #1] <br>3. COMPARATIVE[#1, #2, comparative:​=:​food:​col:​Allergy_Type:​AllergyType] <br> | 1. SELECT[col:​Allergy_Type:​Allergy] <br>2. PROJECT[tbl:​Allergy_Type, #1] <br>3. COMPARATIVE[#1, #2, comparative:​=:​food:​col:​Allergy_Type:​AllergyType] <br> | + | easy | 
  | SPIDER_train_449 | What is the type of allergy Cat? | SELECT allergytype FROM Allergy_type WHERE allergy  =  "Cat" | 1. SELECT[tbl:​Allergy_Type] <br>2. FILTER[#1, comparative:​=:​Cat:​col:​Allergy_Type:​Allergy] <br>3. PROJECT[col:​Allergy_Type:​AllergyType, #2] <br> | 1. SELECT[tbl:​Allergy_Type] <br>2. COMPARATIVE[#1, #1, comparative:​=:​Cat:​col:​Allergy_Type:​Allergy] <br>3. PROJECT[col:​Allergy_Type:​AllergyType, #2] <br> | + | easy | 
  | SPIDER_train_450 | What is allergy type of a cat allergy? | SELECT allergytype FROM Allergy_type WHERE allergy  =  "Cat" | 1. SELECT[tbl:​Allergy_Type] <br>2. PROJECT[col:​Allergy_Type:​AllergyType, #1] <br>3. COMPARATIVE[#2, #1, comparative:​=:​Cat:​col:​Allergy_Type:​Allergy] <br> | 1. SELECT[tbl:​Allergy_Type] <br>2. PROJECT[col:​Allergy_Type:​AllergyType, #1] <br>3. COMPARATIVE[#2, #1, comparative:​=:​Cat:​col:​Allergy_Type:​Allergy] <br> | + | easy | 
  | SPIDER_train_451 | How many allergies have type animal? | SELECT count(*) FROM Allergy_type WHERE allergytype  =  "animal" | 1. SELECT[tbl:​Allergy_Type] <br>2. FILTER[#1, comparative:​=:​animal:​col:​Allergy_Type:​AllergyType] <br>3. AGGREGATE[count, #2] <br> | 1. SELECT[tbl:​Allergy_Type] <br>2. COMPARATIVE[#1, #1, comparative:​=:​animal:​col:​Allergy_Type:​AllergyType] <br>3. AGGREGATE[count, #2] <br> | + | easy | 
  | SPIDER_train_452 | How many animal type allergies exist? | SELECT count(*) FROM Allergy_type WHERE allergytype  =  "animal" | 1. SELECT[tbl:​Allergy_Type] <br>2. PROJECT[tbl:​Allergy_Type, #1] <br>3. COMPARATIVE[#1, #2, comparative:​=:​animal:​col:​Allergy_Type:​AllergyType] <br>4. AGGREGATE[count, #3] <br> | 1. SELECT[tbl:​Allergy_Type] <br>2. PROJECT[tbl:​Allergy_Type, #1] <br>3. COMPARATIVE[#1, #2, comparative:​=:​animal:​col:​Allergy_Type:​AllergyType] <br>4. AGGREGATE[count, #3] <br> | + | easy | 
  | SPIDER_train_453 | Show all allergy types and the number of allergies in each type. | SELECT allergytype ,  count(*) FROM Allergy_type GROUP BY allergytype | 1. SELECT[tbl:​Allergy_Type] <br>2. PROJECT[col:​Allergy_Type:​AllergyType, #1] <br>3. GROUP[count, #1, #2] <br>4. UNION[#2, #3] <br> | 1. SELECT[tbl:​Allergy_Type] <br>2. PROJECT[col:​Allergy_Type:​AllergyType, #1] <br>3. GROUP[count, #1, #2] <br>4. UNION[#2, #3] <br> | + | medium | 
  | SPIDER_train_454 | What are the allergy types and how many allergies correspond to each one? | SELECT allergytype ,  count(*) FROM Allergy_type GROUP BY allergytype | 1. SELECT[tbl:​Allergy_Type] <br>2. PROJECT[col:​Allergy_Type:​AllergyType, #1] <br>3. GROUP[count, #1, #2] <br>4. UNION[#2, #3] <br> | 1. SELECT[tbl:​Allergy_Type] <br>2. PROJECT[col:​Allergy_Type:​AllergyType, #1] <br>3. GROUP[count, #1, #2] <br>4. UNION[#2, #3] <br> | + | medium | 
  | SPIDER_train_455 | Which allergy type has most number of allergies? | SELECT allergytype FROM Allergy_type GROUP BY allergytype ORDER BY count(*) DESC LIMIT 1 | 1. SELECT[col:​Allergy_Type:​AllergyType] <br>2. PROJECT[tbl:​Allergy_Type, #1] <br>3. GROUP[count, #2, #1] <br>4. SUPERLATIVE[comparative:​max:​None, #1, #3] <br> | 1. SELECT[col:​Allergy_Type:​AllergyType] <br>2. PROJECT[tbl:​Allergy_Type, #1] <br>3. GROUP[count, #2, #1] <br>4. SUPERLATIVE[comparative:​max:​None, #1, #3] <br> | + | hard | 
  | SPIDER_train_456 | Which allergy type is most common? | SELECT allergytype FROM Allergy_type GROUP BY allergytype ORDER BY count(*) DESC LIMIT 1 | 1. SELECT[col:​Allergy_Type:​AllergyType] <br>2. FILTER[#1, comparative:​max:​None] <br> | 1. SELECT[col:​Allergy_Type:​AllergyType] <br>2. SUPERLATIVE[comparative:​max:​None, #1, #1] <br> | + | hard | 
  | SPIDER_train_457 | Which allergy type has least number of allergies? | SELECT allergytype FROM Allergy_type GROUP BY allergytype ORDER BY count(*) ASC LIMIT 1 | 1. SELECT[tbl:​Allergy_Type] <br>2. PROJECT[col:​Allergy_Type:​AllergyType, #1] <br>3. GROUP[count, #1, #2] <br>4. COMPARATIVE[#2, #3, comparative:​min:​None] <br> | 1. SELECT[tbl:​Allergy_Type] <br>2. PROJECT[col:​Allergy_Type:​AllergyType, #1] <br>3. GROUP[count, #1, #2] <br>4. SUPERLATIVE[comparative:​min:​None, #2, #3] <br> | + | hard | 
  | SPIDER_train_459 | How many students are there? | SELECT count(*) FROM Student | 1. SELECT[tbl:​Student] <br>2. AGGREGATE[count, #1] <br> | 1. SELECT[tbl:​Student] <br>2. AGGREGATE[count, #1] <br> | + | easy | 
  | SPIDER_train_460 | What is the total number of students? | SELECT count(*) FROM Student | 1. SELECT[tbl:​Student] <br>2. AGGREGATE[count, #1] <br> | 1. SELECT[tbl:​Student] <br>2. AGGREGATE[count, #1] <br> | + | easy | 
  | SPIDER_train_461 | Show first name and last name for all students. | SELECT Fname ,  Lname FROM Student | 1. SELECT[tbl:​Student] <br>2. PROJECT[col:​Student:​Fname, #1] <br>3. PROJECT[col:​Student:​LName, #1] <br>4. UNION[#2, #3] <br> | 1. SELECT[tbl:​Student] <br>2. PROJECT[col:​Student:​Fname, #1] <br>3. PROJECT[col:​Student:​LName, #1] <br>4. UNION[#2, #3] <br> | + | medium | 
  | SPIDER_train_463 | How many different advisors are listed? | SELECT count(DISTINCT advisor) FROM Student | 1. SELECT[col:​Student:​Advisor] <br>2.*(distinct)* PROJECT[different #REF, #1] <br>3. AGGREGATE[count, #2] <br> | 1. SELECT[col:​Student:​Advisor] <br>2.*(distinct)* PROJECT[None, #1] <br>3. AGGREGATE[count, #2] <br> | + | easy | 
  | SPIDER_train_464 | How many advisors are there? | SELECT count(DISTINCT advisor) FROM Student | 1. SELECT[col:​Student:​Advisor] <br>2. AGGREGATE[count, #1] <br> | 1. SELECT[col:​Student:​Advisor] <br>2. AGGREGATE[count, #1] <br> | + | easy | 
  | SPIDER_train_465 | Show all majors. | SELECT DISTINCT Major FROM Student | 1. SELECT[col:​Student:​Major] <br> | 1. SELECT[col:​Student:​Major] <br> | + | easy | 
  | SPIDER_train_466 | What are the different majors? | SELECT DISTINCT Major FROM Student | 1. SELECT[col:​Student:​Major] <br>2.*(distinct)* PROJECT[different #REF, #1] <br> | 1. SELECT[col:​Student:​Major] <br>2.*(distinct)* PROJECT[None, #1] <br> | + | easy | 
  | SPIDER_train_467 | Show all cities where students live. | SELECT DISTINCT city_code FROM Student | 1. SELECT[col:​Student:​city_code] <br>2. FILTER[#1, tbl:​Student] <br> | 1. SELECT[col:​Student:​city_code] <br>2. COMPARATIVE[#1, #1, tbl:​Student] <br> | + | easy | 
  | SPIDER_train_469 | Show first name, last name, age for all female students. Their sex is F. | SELECT Fname ,  Lname ,  Age FROM Student WHERE Sex  =  'F' | 1. SELECT[tbl:​Student] <br>2. PROJECT[col:​Student:​Sex, #1] <br>3. COMPARATIVE[#1, #2, comparative:​=:​F:​col:​Student:​Sex] <br>4. PROJECT[col:​Student:​Fname, #3] <br>5. PROJECT[col:​Student:​LName, #3] <br>6. PROJECT[col:​Student:​Age, #3] <br>7. UNION[#4, #5, #6] <br> | 1. SELECT[tbl:​Student] <br>2. PROJECT[col:​Student:​Sex, #1] <br>3. COMPARATIVE[#1, #2, comparative:​=:​F:​col:​Student:​Sex] <br>4. PROJECT[col:​Student:​Fname, #3] <br>5. PROJECT[col:​Student:​LName, #3] <br>6. PROJECT[col:​Student:​Age, #3] <br>7. UNION[#4, #5, #6] <br> | + | medium | 
  | SPIDER_train_471 | Show student ids for all male students. | SELECT StuID FROM Student WHERE Sex  =  'M' | 1. SELECT[tbl:​Student] <br>2. FILTER[#1, comparative:​=:​M:​col:​Student:​Sex] <br>3. PROJECT[col:​Student:​StuID, #2] <br> | 1. SELECT[tbl:​Student] <br>2. COMPARATIVE[#1, #1, comparative:​=:​M:​col:​Student:​Sex] <br>3. PROJECT[col:​Student:​StuID, #2] <br> | + | easy | 
  | SPIDER_train_473 | How many students are age 18? | SELECT count(*) FROM Student WHERE age  =  18 | 1. SELECT[tbl:​Student] <br>2. PROJECT[col:​Student:​Age, #1] <br>3. COMPARATIVE[#1, #2, comparative:​=:​18:​col:​Student:​Age] <br>4. AGGREGATE[count, #3] <br> | 1. SELECT[tbl:​Student] <br>2. PROJECT[col:​Student:​Age, #1] <br>3. COMPARATIVE[#1, #2, comparative:​=:​18:​col:​Student:​Age] <br>4. AGGREGATE[count, #3] <br> | + | easy | 
  | SPIDER_train_474 | How many students are 18 years old? | SELECT count(*) FROM Student WHERE age  =  18 | 1. SELECT[tbl:​Student] <br>2. FILTER[#1, comparative:​=:​18:​col:​Student:​Age] <br>3. AGGREGATE[count, #2] <br> | 1. SELECT[tbl:​Student] <br>2. COMPARATIVE[#1, #1, comparative:​=:​18:​col:​Student:​Age] <br>3. AGGREGATE[count, #2] <br> | + | easy | 
  | SPIDER_train_475 | Show all student ids who are older than 20. | SELECT StuID FROM Student WHERE age  >  20 | 1. SELECT[tbl:​Student] <br>2. PROJECT[col:​Student:​StuID, #1] <br>3. FILTER[#2, comparative:​>:​20:​col:​Student:​Age] <br> | 1. SELECT[tbl:​Student] <br>2. PROJECT[col:​Student:​StuID, #1] <br>3. COMPARATIVE[#2, #2, comparative:​>:​20:​col:​Student:​Age] <br> | + | easy | 
  | SPIDER_train_476 | What are the student ids for students over 20 years old? | SELECT StuID FROM Student WHERE age  >  20 | 1. SELECT[tbl:​Student] <br>2. FILTER[#1, comparative:​>:​20:​col:​Student:​Age] <br>3. PROJECT[col:​Student:​StuID, #2] <br> | 1. SELECT[tbl:​Student] <br>2. COMPARATIVE[#1, #1, comparative:​>:​20:​col:​Student:​Age] <br>3. PROJECT[col:​Student:​StuID, #2] <br> | + | easy | 
  | SPIDER_train_477 | Which city does the student whose last name is "Kim" live in? | SELECT city_code FROM Student WHERE LName  =  "Kim" | 1. SELECT[tbl:​Student] <br>2. PROJECT[col:​Student:​LName, #1] <br>3. COMPARATIVE[#1, #2, comparative:​=:​Kim:​col:​Student:​LName] <br>4. PROJECT[col:​Student:​city_code, #3] <br> | 1. SELECT[tbl:​Student] <br>2. PROJECT[col:​Student:​LName, #1] <br>3. COMPARATIVE[#1, #2, comparative:​=:​Kim:​col:​Student:​LName] <br>4. PROJECT[col:​Student:​city_code, #3] <br> | + | easy | 
  | SPIDER_train_478 | Give the city that the student whose family name is Kim lives in. | SELECT city_code FROM Student WHERE LName  =  "Kim" | 1. SELECT[tbl:​Student] <br>2. FILTER[#1, comparative:​=:​Kim:​col:​Student:​LName] <br>3. PROJECT[col:​Student:​city_code, #2] <br> | 1. SELECT[tbl:​Student] <br>2. COMPARATIVE[#1, #1, comparative:​=:​Kim:​col:​Student:​LName] <br>3. PROJECT[col:​Student:​city_code, #2] <br> | + | easy | 
  | SPIDER_train_479 | Who is the advisor of student with ID 1004? | SELECT Advisor FROM Student WHERE StuID  =  1004 | 1. SELECT[tbl:​Student] <br>2. FILTER[#1, comparative:​=:​1004:​col:​Student:​StuID] <br>3. PROJECT[col:​Student:​Advisor, #2] <br> | 1. SELECT[tbl:​Student] <br>2. COMPARATIVE[#1, #1, comparative:​=:​1004:​col:​Student:​StuID] <br>3. PROJECT[col:​Student:​Advisor, #2] <br> | + | easy | 
  | SPIDER_train_481 | How many students live in HKG or CHI? | SELECT count(*) FROM Student WHERE city_code  =  "HKG" OR city_code  =  "CHI" | 1. SELECT[tbl:​Student] <br>2. FILTER[#1, comparative:​=:​HKG:​col:​Student:​city_code] <br>3. FILTER[#1, comparative:​=:​CHI:​col:​Student:​city_code] <br>4. UNION[#2, #3] <br>5. AGGREGATE[count, #4] <br> | 1. SELECT[tbl:​Student] <br>2. COMPARATIVE[#1, #1, comparative:​=:​HKG:​col:​Student:​city_code] <br>3. COMPARATIVE[#1, #1, comparative:​=:​CHI:​col:​Student:​city_code] <br>4. UNION[#2, #3] <br>5. AGGREGATE[count, #4] <br> | + | medium | 
  | SPIDER_train_482 | Give the number of students living in either HKG or CHI. | SELECT count(*) FROM Student WHERE city_code  =  "HKG" OR city_code  =  "CHI" | 1. SELECT[tbl:​Student] <br>2. FILTER[#1, comparative:​=:​HKG:​col:​Student:​city_code] <br>3. FILTER[#1, comparative:​=:​CHI:​col:​Student:​city_code] <br>4. UNION[#2, #3] <br>5. AGGREGATE[count, #4] <br> | 1. SELECT[tbl:​Student] <br>2. COMPARATIVE[#1, #1, comparative:​=:​HKG:​col:​Student:​city_code] <br>3. COMPARATIVE[#1, #1, comparative:​=:​CHI:​col:​Student:​city_code] <br>4. UNION[#2, #3] <br>5. AGGREGATE[count, #4] <br> | + | medium | 
  | SPIDER_train_483 | Show the minimum, average, and maximum age of all students. | SELECT min(age) ,  avg(age) ,  max(age) FROM Student | 1. SELECT[tbl:​Student] <br>2. PROJECT[col:​Student:​Age, #1] <br>3. AGGREGATE[min, #2] <br>4. AGGREGATE[avg, #2] <br>5. AGGREGATE[max, #2] <br>6. UNION[#3, #4, #5] <br> | 1. SELECT[tbl:​Student] <br>2. PROJECT[col:​Student:​Age, #1] <br>3. AGGREGATE[min, #2] <br>4. AGGREGATE[avg, #2] <br>5. AGGREGATE[max, #2] <br>6. UNION[#3, #4, #5] <br> | + | medium | 
  | SPIDER_train_484 | What is the minimum, mean, and maximum age across all students? | SELECT min(age) ,  avg(age) ,  max(age) FROM Student | 1. SELECT[tbl:​Student] <br>2. PROJECT[col:​Student:​Age, #1] <br>3. AGGREGATE[min, #2] <br>4. AGGREGATE[avg, #2] <br>5. AGGREGATE[max, #2] <br>6. UNION[#3, #4, #5] <br> | 1. SELECT[tbl:​Student] <br>2. PROJECT[col:​Student:​Age, #1] <br>3. AGGREGATE[min, #2] <br>4. AGGREGATE[avg, #2] <br>5. AGGREGATE[max, #2] <br>6. UNION[#3, #4, #5] <br> | + | medium | 
  | SPIDER_train_489 | Show all majors and corresponding number of students. | SELECT major ,  count(*) FROM Student GROUP BY major | 1. SELECT[col:​Student:​Major] <br>2. PROJECT[tbl:​Student, #1] <br>3. GROUP[count, #2, #1] <br>4. UNION[#1, #3] <br> | 1. SELECT[col:​Student:​Major] <br>2. PROJECT[tbl:​Student, #1] <br>3. GROUP[count, #2, #1] <br>4. UNION[#1, #3] <br> | + | medium | 
  | SPIDER_train_490 | How many students are there for each major? | SELECT major ,  count(*) FROM Student GROUP BY major | 1. SELECT[col:​Student:​Major] <br>2. PROJECT[tbl:​Student, #1] <br>3. GROUP[count, #2, #1] <br>4. UNION[#1, #3] <br> | 1. SELECT[col:​Student:​Major] <br>2. PROJECT[tbl:​Student, #1] <br>3. GROUP[count, #2, #1] <br>4. UNION[#1, #3] <br> | + | medium | 
  | SPIDER_train_491 | Which major has most number of students? | SELECT major FROM Student GROUP BY major ORDER BY count(*) DESC LIMIT 1 | 1. SELECT[col:​Student:​Major] <br>2. PROJECT[tbl:​Student, #1] <br>3. GROUP[count, #2, #1] <br>4. SUPERLATIVE[comparative:​max:​None, #1, #3] <br> | 1. SELECT[col:​Student:​Major] <br>2. PROJECT[tbl:​Student, #1] <br>3. GROUP[count, #2, #1] <br>4. SUPERLATIVE[comparative:​max:​None, #1, #3] <br> | + | hard | 
  | SPIDER_train_492 | What is the largest major? | SELECT major FROM Student GROUP BY major ORDER BY count(*) DESC LIMIT 1 | 1. SELECT[col:​Student:​Major] <br>2. PROJECT[size of #REF, #1] <br>3. SUPERLATIVE[comparative:​max:​None, #1, #2] <br> | 1. SELECT[col:​Student:​Major] <br>2. PROJECT[None, #1] <br>3. SUPERLATIVE[comparative:​max:​None, #1, #2] <br> | + | hard | 
  | SPIDER_train_493 | Show all ages and corresponding number of students. | SELECT age ,  count(*) FROM Student GROUP BY age | 1. SELECT[col:​Student:​Age] <br>2. PROJECT[tbl:​Student, #1] <br>3. GROUP[count, #2, #1] <br>4. UNION[#1, #3] <br> | 1. SELECT[col:​Student:​Age] <br>2. PROJECT[tbl:​Student, #1] <br>3. GROUP[count, #2, #1] <br>4. UNION[#1, #3] <br> | + | medium | 
  | SPIDER_train_494 | How old is each student and how many students are each age? | SELECT age ,  count(*) FROM Student GROUP BY age | 1. SELECT[tbl:​Student] <br>2. PROJECT[col:​Student:​Age, #1] <br>3. GROUP[count, #1, #2] <br>4. UNION[#2, #3] <br> | 1. SELECT[tbl:​Student] <br>2. PROJECT[col:​Student:​Age, #1] <br>3. GROUP[count, #1, #2] <br>4. UNION[#2, #3] <br> | + | medium | 
  | SPIDER_train_497 | Show all cities and corresponding number of students. | SELECT city_code ,  count(*) FROM Student GROUP BY city_code | 1. SELECT[col:​Student:​city_code] <br>2. PROJECT[tbl:​Student, #1] <br>3. GROUP[count, #2, #1] <br>4. UNION[#1, #3] <br> | 1. SELECT[col:​Student:​city_code] <br>2. PROJECT[tbl:​Student, #1] <br>3. GROUP[count, #2, #1] <br>4. UNION[#1, #3] <br> | + | medium | 
  | SPIDER_train_498 | How many students live in each city? | SELECT city_code ,  count(*) FROM Student GROUP BY city_code | 1. SELECT[col:​Student:​city_code] <br>2. PROJECT[tbl:​Student, #1] <br>3. GROUP[count, #2, #1] <br>4. UNION[#1, #3] <br> | 1. SELECT[col:​Student:​city_code] <br>2. PROJECT[tbl:​Student, #1] <br>3. GROUP[count, #2, #1] <br>4. UNION[#1, #3] <br> | + | medium | 
  | SPIDER_train_499 | Show all advisors and corresponding number of students. | SELECT advisor ,  count(*) FROM Student GROUP BY advisor | 1. SELECT[tbl:​Student] <br>2. SELECT[col:​Student:​Advisor] <br>3. GROUP[count, #1, #2] <br>4. UNION[#2, #3] <br> | 1. SELECT[tbl:​Student] <br>2. SELECT[col:​Student:​Advisor] <br>3. GROUP[count, #1, #2] <br>4. UNION[#2, #3] <br> | + | medium | 
  | SPIDER_train_500 | How many students does each advisor have? | SELECT advisor ,  count(*) FROM Student GROUP BY advisor | 1. SELECT[col:​Student:​Advisor] <br>2. PROJECT[tbl:​Student, #1] <br>3. GROUP[count, #2, #1] <br>4. UNION[#1, #3] <br> | 1. SELECT[col:​Student:​Advisor] <br>2. PROJECT[tbl:​Student, #1] <br>3. GROUP[count, #2, #1] <br>4. UNION[#1, #3] <br> | + | medium | 
  | SPIDER_train_501 | Which advisor has most number of students? | SELECT advisor FROM Student GROUP BY advisor ORDER BY count(*) DESC LIMIT 1 | 1. SELECT[col:​Student:​Advisor] <br>2. PROJECT[tbl:​Student, #1] <br>3. GROUP[count, #2, #1] <br>4. SUPERLATIVE[comparative:​max:​None, #1, #3] <br> | 1. SELECT[col:​Student:​Advisor] <br>2. PROJECT[tbl:​Student, #1] <br>3. GROUP[count, #2, #1] <br>4. SUPERLATIVE[comparative:​max:​None, #1, #3] <br> | + | hard | 
  | SPIDER_train_502 | Give the advisor with the most students. | SELECT advisor FROM Student GROUP BY advisor ORDER BY count(*) DESC LIMIT 1 | 1. SELECT[col:​Student:​Advisor] <br>2. PROJECT[tbl:​Student, #1] <br>3. GROUP[count, #2, #1] <br>4. SUPERLATIVE[comparative:​max:​None, #1, #3] <br> | 1. SELECT[col:​Student:​Advisor] <br>2. PROJECT[tbl:​Student, #1] <br>3. GROUP[count, #2, #1] <br>4. SUPERLATIVE[comparative:​max:​None, #1, #3] <br> | + | hard | 
  | SPIDER_train_505 | Show all student IDs who have at least two allergies. | SELECT StuID FROM Has_allergy GROUP BY StuID HAVING count(*)  >=  2 | 1. SELECT[col:​Has_Allergy:​StuID] <br>2. PROJECT[tbl:​Has_Allergy, #1] <br>3. GROUP[count, #2, #1] <br>4. COMPARATIVE[#1, #3, comparative:​>=:​2] <br>5. PROJECT[col:​Has_Allergy:​StuID, #4] <br> | 1. SELECT[col:​Has_Allergy:​StuID] <br>2. PROJECT[tbl:​Has_Allergy, #1] <br>3. GROUP[count, #2, #1] <br>4. COMPARATIVE[#1, #3, comparative:​>=:​2] <br>5. PROJECT[col:​Has_Allergy:​StuID, #4] <br> | + | easy | 
  | SPIDER_train_506 | What are the students ids of students who have more than one allergy? | SELECT StuID FROM Has_allergy GROUP BY StuID HAVING count(*)  >=  2 | 1. SELECT[col:​Has_Allergy:​StuID] <br>2. PROJECT[tbl:​Has_Allergy, #1] <br>3. GROUP[count, #2, #1] <br>4. COMPARATIVE[#1, #3, comparative:​>=:​2] <br>5. PROJECT[col:​Has_Allergy:​StuID, #4] <br> | 1. SELECT[col:​Has_Allergy:​StuID] <br>2. PROJECT[tbl:​Has_Allergy, #1] <br>3. GROUP[count, #2, #1] <br>4. COMPARATIVE[#1, #3, comparative:​>=:​1] <br>5. PROJECT[col:​Has_Allergy:​StuID, #4] <br> | - | easy | 
  | SPIDER_train_508 | Which students are unaffected by allergies? | SELECT StuID FROM Student EXCEPT SELECT StuID FROM Has_allergy | 1. SELECT[tbl:​Student] <br>2. FILTER[#1, tbl:​Has_Allergy] <br>3. DISCARD[#1, #2] <br> | 1. SELECT[tbl:​Student] <br>2. COMPARATIVE[#1, #1, tbl:​Has_Allergy] <br>3. DISCARD[#1, #2] <br> | + | hard | 
  | SPIDER_train_513 | Which allergy has most number of students affected? | SELECT Allergy FROM Has_allergy GROUP BY Allergy ORDER BY count(*) DESC LIMIT 1 | 1. SELECT[col:​Has_Allergy:​Allergy] <br>2. PROJECT[students affected of #REF, #1] <br>3. GROUP[count, #2, #1] <br>4. SUPERLATIVE[comparative:​max:​None, #1, #3] <br> | 1. SELECT[col:​Has_Allergy:​Allergy] <br>2. PROJECT[None, #1] <br>3. GROUP[count, #2, #1] <br>4. SUPERLATIVE[comparative:​max:​None, #1, #3] <br> | + | hard | 
  | SPIDER_train_514 | Which allergy is the most common? | SELECT Allergy FROM Has_allergy GROUP BY Allergy ORDER BY count(*) DESC LIMIT 1 | 1. SELECT[col:​Has_Allergy:​Allergy] <br>2. FILTER[#1, comparative:​max:​None] <br> | 1. SELECT[col:​Has_Allergy:​Allergy] <br>2. SUPERLATIVE[comparative:​max:​None, #1, #1] <br> | - | hard | 
  | SPIDER_train_515 | Show all allergies with number of students affected. | SELECT Allergy ,  count(*) FROM Has_allergy GROUP BY Allergy | 1. SELECT[col:​Has_Allergy:​Allergy] <br>2. PROJECT[students affected of #REF, #1] <br>3. GROUP[count, #2, #1] <br>4. UNION[#1, #3] <br> | 1. SELECT[col:​Has_Allergy:​Allergy] <br>2. PROJECT[None, #1] <br>3. GROUP[count, #2, #1] <br>4. UNION[#1, #3] <br> | + | medium | 
  | SPIDER_train_516 | How many students have each different allergy? | SELECT Allergy ,  count(*) FROM Has_allergy GROUP BY Allergy | 1. SELECT[col:​Has_Allergy:​Allergy] <br>2. PROJECT[different #REF, #1] <br>3. PROJECT[students who have #REF, #2] <br>4. GROUP[count, #3, #2] <br>5. UNION[#2, #4] <br> | 1. SELECT[col:​Has_Allergy:​Allergy] <br>2. PROJECT[None, #1] <br>3. PROJECT[None, #2] <br>4. GROUP[count, #3, #2] <br>5. UNION[#2, #4] <br> | + | medium | 
  | SPIDER_train_517 | Show all allergy type with number of students affected. | SELECT T2.allergytype ,  count(*) FROM Has_allergy AS T1 JOIN Allergy_type AS T2 ON T1.allergy  =  T2.allergy GROUP BY T2.allergytype | 1. SELECT[col:​Allergy_Type:​AllergyType] <br>2. PROJECT[tbl:​Has_Allergy, #1] <br>3. GROUP[count, #2, #1] <br>4. UNION[#1, #3] <br> | 1. SELECT[col:​Allergy_Type:​AllergyType] <br>2. PROJECT[tbl:​Has_Allergy, #1] <br>3. GROUP[count, #2, #1] <br>4. UNION[#1, #3] <br> | + | medium | 
  | SPIDER_train_521 | What are the allergies and their types that the student with first name Lisa has? And order the result by name of allergies. | SELECT T1.Allergy ,  T1.AllergyType FROM Allergy_type AS T1 JOIN Has_allergy AS T2 ON T1.Allergy  =  T2.Allergy JOIN Student AS T3 ON T3.StuID  =  T2.StuID WHERE T3.Fname  =  "Lisa" ORDER BY T1.Allergy | 1. SELECT[tbl:​Student] <br>2. PROJECT[col:​Student:​Fname, #1] <br>3. COMPARATIVE[#1, #2, comparative:​=:​Lisa:​col:​Student:​Fname] <br>4. PROJECT[col:​Allergy_Type:​Allergy, #3] <br>5. PROJECT[col:​Allergy_Type:​AllergyType, #4] <br>6. PROJECT[col:​Allergy_Type:​Allergy, #4] <br>7. UNION[#4, #5] <br>8. SORT[#7, #6] <br> | 1. SELECT[tbl:​Student] <br>2. PROJECT[col:​Student:​Fname, #1] <br>3. COMPARATIVE[#1, #2, comparative:​=:​Lisa:​col:​Student:​Fname] <br>4. PROJECT[col:​Allergy_Type:​Allergy, #3] <br>5. PROJECT[col:​Allergy_Type:​AllergyType, #4] <br>6. PROJECT[col:​Allergy_Type:​Allergy, #4] <br>7. UNION[#4, #5] <br>8. SORT[#7, #6, sortdir:​ascending] <br> | + | extra | 
  | SPIDER_train_529 | Find the number of male (sex is 'M') students who have some food type allery. | SELECT count(*) FROM Student WHERE sex  =  "M" AND StuID IN (SELECT StuID FROM Has_allergy AS T1 JOIN Allergy_Type AS T2 ON T1.Allergy  =  T2.Allergy WHERE T2.allergytype  =  "food") | 1. SELECT[tbl:​Student] <br>2. FILTER[#1, comparative:​=:​M:​col:​Student:​Sex] <br>3. FILTER[#2, comparative:​=:​food:​col:​Allergy_Type:​AllergyType] <br>4. AGGREGATE[count, #3] <br> | 1. SELECT[tbl:​Student] <br>2. COMPARATIVE[#1, #1, comparative:​=:​M:​col:​Student:​Sex] <br>3. COMPARATIVE[#2, #2, comparative:​=:​food:​col:​Allergy_Type:​AllergyType] <br>4. AGGREGATE[count, #3] <br> | + | extra | 
  | SPIDER_train_530 | How many male students (sex is 'M') are allergic to any type of food? | SELECT count(*) FROM Student WHERE sex  =  "M" AND StuID IN (SELECT StuID FROM Has_allergy AS T1 JOIN Allergy_Type AS T2 ON T1.Allergy  =  T2.Allergy WHERE T2.allergytype  =  "food") | 1. SELECT[tbl:​Student] <br>2. FILTER[#1, comparative:​=:​M:​col:​Student:​Sex] <br>3. FILTER[#2, comparative:​=:​food:​col:​Allergy_Type:​AllergyType] <br>4. AGGREGATE[count, #3] <br> | 1. SELECT[tbl:​Student] <br>2. COMPARATIVE[#1, #1, comparative:​=:​M:​col:​Student:​Sex] <br>3. COMPARATIVE[#2, #2, comparative:​=:​food:​col:​Allergy_Type:​AllergyType] <br>4. AGGREGATE[count, #3] <br> | + | extra | 
  | SPIDER_train_535 | Find the first name and major of the students who are not allegry to soy. | SELECT fname ,  major FROM Student WHERE StuID NOT IN (SELECT StuID FROM Has_allergy WHERE Allergy  =  "Soy") | 1. SELECT[tbl:​Student] <br>2. FILTER[#1, comparative:​=:​Soy:​col:​Has_Allergy:​Allergy] <br>3. DISCARD[#1, #2] <br>4. PROJECT[col:​Student:​Fname, #3] <br>5. PROJECT[col:​Student:​Major, #3] <br>6. UNION[#4, #5] <br> | 1. SELECT[tbl:​Student] <br>2. COMPARATIVE[#1, #1, comparative:​=:​Soy:​col:​Has_Allergy:​Allergy] <br>3. DISCARD[#1, #2] <br>4. PROJECT[col:​Student:​Fname, #3] <br>5. PROJECT[col:​Student:​Major, #3] <br>6. UNION[#4, #5] <br> | + | extra | 
 ***
 Exec acc: **0.9683**
