 | Idx | Table      | Column | Primary Key | Foreign Key | 
 | ----------- | ----------- | ----------- | ----------- | ----------- | 
  | 0 |  | * |   |   | 
 | 1 | **artist** | Artist_ID | + |   | 
 | 2 |   | Name |   |   | 
 | 3 |   | Country |   |   | 
 | 4 |   | Year_Join |   |   | 
 | 5 |   | Age |   |   | 
 | 6 | **exhibition** | Exhibition_ID | + |   | 
 | 7 |   | Year |   |   | 
 | 8 |   | Theme |   |   | 
 | 9 |   | Artist_ID |   | --> 1 | 
 | 10 |   | Ticket_Price |   |   | 
 | 11 | **exhibition_record** | Exhibition_ID | + | --> 6 | 
 | 12 |   | Date |   |   | 
 | 13 |   | Attendance |   |   | 
 
  | Index | Question  | SQL | gold QDMR | pred QDMR | Exec | SQL hardness |
  | ----------- | ----------- | ----------- |  ----------- | ----------- | ----------- | ----------- | 
 | SPIDER_train_1649 | How many artists do we have? | SELECT count(*) FROM artist | 1. SELECT[tbl:​artist] <br>2. AGGREGATE[count, #1] <br> | 1. SELECT[tbl:​artist] <br>2. AGGREGATE[count, #1] <br> | + | easy | 
  | SPIDER_train_1650 | Count the number of artists. | SELECT count(*) FROM artist | 1. SELECT[tbl:​artist] <br>2. AGGREGATE[count, #1] <br> | 1. SELECT[tbl:​artist] <br>2. AGGREGATE[count, #1] <br> | + | easy | 
  | SPIDER_train_1651 | Show all artist name, age, and country ordered by the yeared they joined. | SELECT name ,  age ,  country FROM artist ORDER BY Year_Join | 1. SELECT[tbl:​artist] <br>2. PROJECT[col:​artist:​Name, #1] <br>3. PROJECT[col:​artist:​Age, #1] <br>4. PROJECT[col:​artist:​Country, #1] <br>5. PROJECT[col:​artist:​Year_Join, #1] <br>6. UNION[#2, #3, #4] <br>7. SORT[#6, #5] <br> | 1. SELECT[tbl:​artist] <br>2. PROJECT[col:​artist:​Name, #1] <br>3. PROJECT[col:​artist:​Age, #1] <br>4. PROJECT[col:​artist:​Country, #1] <br>5. PROJECT[col:​artist:​Year_Join, #1] <br>6. UNION[#2, #3, #4] <br>7. SORT[#6, #5, sortdir:​ascending] <br> | + | medium | 
  | SPIDER_train_1652 | What are the names, ages, and countries of artists, sorted by the year they joined? | SELECT name ,  age ,  country FROM artist ORDER BY Year_Join | 1. SELECT[tbl:​artist] <br>2. PROJECT[col:​artist:​Name, #1] <br>3. PROJECT[col:​artist:​Age, #1] <br>4. PROJECT[col:​artist:​Country, #1] <br>5. PROJECT[col:​artist:​Year_Join, #1] <br>6. UNION[#2, #3, #4] <br>7. SORT[#6, #5] <br> | 1. SELECT[tbl:​artist] <br>2. PROJECT[col:​artist:​Name, #1] <br>3. PROJECT[col:​artist:​Age, #1] <br>4. PROJECT[col:​artist:​Country, #1] <br>5. PROJECT[col:​artist:​Year_Join, #1] <br>6. UNION[#2, #3, #4] <br>7. SORT[#6, #5, sortdir:​ascending] <br> | + | medium | 
  | SPIDER_train_1653 | What are all distinct country for artists? | SELECT DISTINCT country FROM artist | 1. SELECT[tbl:​artist] <br>2. PROJECT[col:​artist:​Country, #1] <br>3.*(distinct)* PROJECT[the distinct #REF, #2] <br> | 1. SELECT[tbl:​artist] <br>2. PROJECT[col:​artist:​Country, #1] <br>3.*(distinct)* PROJECT[None, #2] <br> | + | easy | 
  | SPIDER_train_1654 | Return the different countries for artists. | SELECT DISTINCT country FROM artist | 1. SELECT[tbl:​artist] <br>2. PROJECT[col:​artist:​Country, #1] <br>3.*(distinct)* PROJECT[different #REF, #2] <br> | 1. SELECT[tbl:​artist] <br>2. PROJECT[col:​artist:​Country, #1] <br>3.*(distinct)* PROJECT[None, #2] <br> | + | easy | 
  | SPIDER_train_1655 | Show all artist names and the year joined who are not from United States. | SELECT name ,  year_join FROM artist WHERE country != 'United States' | 1. SELECT[col:​artist:​Name] <br>2. FILTER[#1, comparative:​!=:​United States:​col:​artist:​Country] <br>3. PROJECT[col:​artist:​Year_Join, #2] <br>4. UNION[#2, #3] <br> | 1. SELECT[col:​artist:​Name] <br>2. COMPARATIVE[#1, #1, comparative:​!=:​United States:​col:​artist:​Country] <br>3. PROJECT[col:​artist:​Year_Join, #2] <br>4. UNION[#2, #3] <br> | + | medium | 
  | SPIDER_train_1656 | What are the names and year of joining for artists that do not have the country "United States"? | SELECT name ,  year_join FROM artist WHERE country != 'United States' | 1. SELECT[tbl:​artist] <br>2. PROJECT[col:​artist:​Country, #1] <br>3. COMPARATIVE[#1, #2, comparative:​!=:​United States:​col:​artist:​Country] <br>4. PROJECT[col:​artist:​Name, #3] <br>5. PROJECT[col:​artist:​Year_Join, #3] <br>6. UNION[#4, #5] <br> | 1. SELECT[tbl:​artist] <br>2. PROJECT[col:​artist:​Country, #1] <br>3. COMPARATIVE[#1, #2, comparative:​!=:​United States:​col:​artist:​Country] <br>4. PROJECT[col:​artist:​Name, #3] <br>5. PROJECT[col:​artist:​Year_Join, #3] <br>6. UNION[#4, #5] <br> | + | medium | 
  | SPIDER_train_1657 | How many artists are above age 46 and joined after 1990? | SELECT count(*) FROM artist WHERE age  >  46 AND year_join  >  1990 | 1. SELECT[tbl:​artist] <br>2. PROJECT[col:​artist:​Age, #1] <br>3. COMPARATIVE[#1, #2, comparative:​>:​46:​col:​artist:​Age] <br>4. FILTER[#1, comparative:​>:​1990:​col:​artist:​Year_Join] <br>5. INTERSECTION[#1, #3, #4] <br>6. AGGREGATE[count, #5] <br> | 1. SELECT[tbl:​artist] <br>2. PROJECT[col:​artist:​Age, #1] <br>3. COMPARATIVE[#1, #2, comparative:​>:​46:​col:​artist:​Age] <br>4. COMPARATIVE[#1, #1, comparative:​>:​1990:​col:​artist:​Year_Join] <br>5. INTERSECTION[#1, #3, #4] <br>6. AGGREGATE[count, #5] <br> | + | medium | 
  | SPIDER_train_1658 | Count the number of artists who are older than 46 and joined after 1990. | SELECT count(*) FROM artist WHERE age  >  46 AND year_join  >  1990 | 1. SELECT[tbl:​artist] <br>2. FILTER[#1, comparative:​>:​46:​col:​artist:​Age] <br>3. FILTER[#1, comparative:​>:​1990:​col:​artist:​Year_Join] <br>4. INTERSECTION[#1, #2, #3] <br>5. AGGREGATE[count, #4] <br> | 1. SELECT[tbl:​artist] <br>2. COMPARATIVE[#1, #1, comparative:​>:​46:​col:​artist:​Age] <br>3. COMPARATIVE[#1, #1, comparative:​>:​1990:​col:​artist:​Year_Join] <br>4. INTERSECTION[#1, #2, #3] <br>5. AGGREGATE[count, #4] <br> | + | medium | 
  | SPIDER_train_1659 | What is the average and minimum age of all artists from United States. | SELECT avg(age) ,  min(age) FROM artist WHERE country  =  'United States' | 1. SELECT[tbl:​artist] <br>2. FILTER[#1, comparative:​=:​United States:​col:​artist:​Country] <br>3. PROJECT[col:​artist:​Age, #2] <br>4. AGGREGATE[avg, #3] <br>5. AGGREGATE[min, #3] <br>6. UNION[#4, #5] <br> | 1. SELECT[tbl:​artist] <br>2. COMPARATIVE[#1, #1, comparative:​=:​United States:​col:​artist:​Country] <br>3. PROJECT[col:​artist:​Age, #2] <br>4. AGGREGATE[avg, #3] <br>5. AGGREGATE[min, #3] <br>6. UNION[#4, #5] <br> | + | medium | 
  | SPIDER_train_1660 | Return the average and minimum ages across artists from the United States. | SELECT avg(age) ,  min(age) FROM artist WHERE country  =  'United States' | 1. SELECT[tbl:​artist] <br>2. FILTER[#1, comparative:​=:​United States:​col:​artist:​Country] <br>3. PROJECT[col:​artist:​Age, #2] <br>4. AGGREGATE[avg, #3] <br>5. AGGREGATE[min, #3] <br>6. UNION[#4, #5] <br> | 1. SELECT[tbl:​artist] <br>2. COMPARATIVE[#1, #1, comparative:​=:​United States:​col:​artist:​Country] <br>3. PROJECT[col:​artist:​Age, #2] <br>4. AGGREGATE[avg, #3] <br>5. AGGREGATE[min, #3] <br>6. UNION[#4, #5] <br> | + | medium | 
  | SPIDER_train_1662 | Return the name of the artist who has the latest join year. | SELECT name FROM artist ORDER BY year_join DESC LIMIT 1 | 1. SELECT[tbl:​artist] <br>2. PROJECT[col:​artist:​Year_Join, #1] <br>3. COMPARATIVE[#1, #2, comparative:​max:​None] <br>4. PROJECT[col:​artist:​Name, #3] <br> | 1. SELECT[tbl:​artist] <br>2. PROJECT[col:​artist:​Year_Join, #1] <br>3. SUPERLATIVE[comparative:​max:​None, #1, #2] <br>4. PROJECT[col:​artist:​Name, #3] <br> | + | medium | 
  | SPIDER_train_1663 | How many exhibition are there in year 2005 or after? | SELECT count(*) FROM exhibition WHERE YEAR  >=  2005 | 1. SELECT[tbl:​exhibition] <br>2. PROJECT[col:​exhibition:​Year, #1] <br>3. COMPARATIVE[#1, #2, comparative:​>=:​2005:​col:​exhibition:​Year] <br>4. AGGREGATE[count, #3] <br> | 1. SELECT[tbl:​exhibition] <br>2. PROJECT[col:​exhibition:​Year, #1] <br>3. COMPARATIVE[#1, #2, comparative:​>=:​2005:​col:​exhibition:​Year] <br>4. AGGREGATE[count, #3] <br> | + | easy | 
  | SPIDER_train_1665 | Show theme and year for all exhibitions with ticket prices lower than 15. | SELECT theme ,  YEAR FROM exhibition WHERE ticket_price  <  15 | 1. SELECT[tbl:​exhibition] <br>2. PROJECT[col:​exhibition:​Ticket_Price, #1] <br>3. COMPARATIVE[#1, #2, comparative:​<:​15:​col:​exhibition:​Ticket_Price] <br>4. PROJECT[col:​exhibition:​Theme, #3] <br>5. PROJECT[col:​exhibition:​Year, #3] <br>6. UNION[#4, #5] <br> | 1. SELECT[tbl:​exhibition] <br>2. PROJECT[col:​exhibition:​Ticket_Price, #1] <br>3. COMPARATIVE[#1, #2, comparative:​<:​15:​col:​exhibition:​Ticket_Price] <br>4. PROJECT[col:​exhibition:​Theme, #3] <br>5. PROJECT[col:​exhibition:​Year, #3] <br>6. UNION[#4, #5] <br> | + | medium | 
  | SPIDER_train_1666 | What are the theme and year for all exhibitions that have a ticket price under 15? | SELECT theme ,  YEAR FROM exhibition WHERE ticket_price  <  15 | 1. SELECT[tbl:​exhibition] <br>2. FILTER[#1, comparative:​<:​15:​col:​exhibition:​Ticket_Price] <br>3. PROJECT[col:​exhibition:​Theme, #2] <br>4. PROJECT[col:​exhibition:​Year, #2] <br>5. UNION[#3, #4] <br> | 1. SELECT[tbl:​exhibition] <br>2. COMPARATIVE[#1, #1, comparative:​<:​15:​col:​exhibition:​Ticket_Price] <br>3. PROJECT[col:​exhibition:​Theme, #2] <br>4. PROJECT[col:​exhibition:​Year, #2] <br>5. UNION[#3, #4] <br> | + | medium | 
  | SPIDER_train_1667 | Show all artist names and the number of exhibitions for each artist. | SELECT T2.name ,  count(*) FROM exhibition AS T1 JOIN artist AS T2 ON T1.artist_id  =  T2.artist_id GROUP BY T1.artist_id | 1. SELECT[col:​exhibition:​Artist_ID] <br>2. PROJECT[col:​artist:​Name, #1] <br>3. PROJECT[tbl:​exhibition, #1] <br>4. GROUP[count, #3, #1] <br>5. UNION[#2, #4] <br> | 1. SELECT[col:​exhibition:​Artist_ID] <br>2. PROJECT[col:​artist:​Name, #1] <br>3. PROJECT[tbl:​exhibition, #1] <br>4. GROUP[count, #3, #1] <br>5. UNION[#2, #4] <br> | + | medium | 
  | SPIDER_train_1668 | How many exhibitions has each artist had? | SELECT T2.name ,  count(*) FROM exhibition AS T1 JOIN artist AS T2 ON T1.artist_id  =  T2.artist_id GROUP BY T1.artist_id | 1. SELECT[col:​artist:​Name] <br>2. PROJECT[tbl:​exhibition, #1] <br>3. GROUP[count, #2, #1] <br>4. UNION[#1, #3] <br> | 1. SELECT[col:​artist:​Name] <br>2. PROJECT[tbl:​exhibition, #1] <br>3. GROUP[count, #2, #1] <br>4. UNION[#1, #3] <br> | + | medium | 
  | SPIDER_train_1669 | What is the name and country for the artist with most number of exhibitions? | SELECT T2.name , T2.country FROM exhibition AS T1 JOIN artist AS T2 ON T1.artist_id  =  T2.artist_id GROUP BY T1.artist_id ORDER BY count(*) DESC LIMIT 1 | 1. SELECT[tbl:​artist] <br>2. PROJECT[tbl:​exhibition, #1] <br>3. GROUP[count, #2, #1] <br>4. SUPERLATIVE[comparative:​max:​None, #1, #3] <br>5. PROJECT[col:​artist:​Name, #4] <br>6. PROJECT[col:​artist:​Country, #4] <br>7. UNION[#5, #6] <br> | 1. SELECT[tbl:​artist] <br>2. PROJECT[tbl:​exhibition, #1] <br>3. GROUP[count, #2, #1] <br>4. SUPERLATIVE[comparative:​max:​None, #1, #3] <br>5. PROJECT[col:​artist:​Name, #4] <br>6. PROJECT[col:​artist:​Country, #4] <br>7. UNION[#5, #6] <br> | + | extra | 
  | SPIDER_train_1670 | Return the name and country corresponding to the artist who has had the most exhibitions. | SELECT T2.name , T2.country FROM exhibition AS T1 JOIN artist AS T2 ON T1.artist_id  =  T2.artist_id GROUP BY T1.artist_id ORDER BY count(*) DESC LIMIT 1 | 1. SELECT[tbl:​artist] <br>2. PROJECT[tbl:​exhibition, #1] <br>3. GROUP[count, #2, #1] <br>4. SUPERLATIVE[comparative:​max:​None, #1, #3] <br>5. PROJECT[col:​artist:​Name, #4] <br>6. PROJECT[col:​artist:​Country, #4] <br>7. UNION[#5, #6] <br> | 1. SELECT[tbl:​artist] <br>2. PROJECT[tbl:​exhibition, #1] <br>3. GROUP[count, #2, #1] <br>4. SUPERLATIVE[comparative:​max:​None, #1, #3] <br>5. PROJECT[col:​artist:​Name, #4] <br>6. PROJECT[col:​artist:​Country, #4] <br>7. UNION[#5, #6] <br> | + | extra | 
  | SPIDER_train_1673 | What is the theme and artist name for the exhibition with a ticket price higher than the average? | SELECT T1.theme ,  T2.name FROM exhibition AS T1 JOIN artist AS T2 ON T1.artist_id  =  T2.artist_id WHERE T1.ticket_price  >  (SELECT avg(ticket_price) FROM exhibition) | 1. SELECT[tbl:​exhibition] <br>2. PROJECT[col:​exhibition:​Ticket_Price, #1] <br>3. AGGREGATE[avg, #2] <br>4. COMPARATIVE[#1, #2, comparative:​>:​#3] <br>5. PROJECT[col:​exhibition:​Theme, #4] <br>6. PROJECT[tbl:​artist, #4] <br>7. PROJECT[col:​artist:​Name, #6] <br>8. UNION[#5, #7] <br> | 1. SELECT[tbl:​exhibition] <br>2. PROJECT[col:​exhibition:​Ticket_Price, #1] <br>3. AGGREGATE[avg, #2] <br>4. COMPARATIVE[#1, #2, comparative:​>:​Spring:​col:​exhibition:​Theme] <br>5. PROJECT[col:​exhibition:​Theme, #4] <br>6. PROJECT[tbl:​artist, #4] <br>7. PROJECT[col:​artist:​Name, #6] <br>8. UNION[#5, #7] <br> | - | extra | 
  | SPIDER_train_1674 | Return the names of artists and the themes of their exhibitions that had a ticket price higher than average. | SELECT T1.theme ,  T2.name FROM exhibition AS T1 JOIN artist AS T2 ON T1.artist_id  =  T2.artist_id WHERE T1.ticket_price  >  (SELECT avg(ticket_price) FROM exhibition) | 1. SELECT[tbl:​exhibition] <br>2. PROJECT[col:​exhibition:​Ticket_Price, #1] <br>3. AGGREGATE[avg, #2] <br>4. COMPARATIVE[#1, #2, comparative:​>:​#3] <br>5. PROJECT[tbl:​artist, #4] <br>6. PROJECT[col:​exhibition:​Theme, #5] <br>7. PROJECT[col:​artist:​Name, #4] <br>8. UNION[#6, #7] <br> | 1. SELECT[tbl:​exhibition] <br>2. PROJECT[col:​exhibition:​Ticket_Price, #1] <br>3. AGGREGATE[avg, #2] <br>4. COMPARATIVE[#1, #2, comparative:​>:​Spring:​col:​exhibition:​Theme] <br>5. PROJECT[tbl:​artist, #4] <br>6. PROJECT[col:​exhibition:​Theme, #5] <br>7. PROJECT[col:​artist:​Name, #4] <br>8. UNION[#6, #7] <br> | - | extra | 
  | SPIDER_train_1675 | Show the average, minimum, and maximum ticket prices for exhibitions for all years before 2009. | SELECT avg(ticket_price) ,  min(ticket_price) ,  max(ticket_price) FROM exhibition WHERE YEAR  <  2009 | 1. SELECT[tbl:​exhibition] <br>2. PROJECT[col:​exhibition:​Year, #1] <br>3. COMPARATIVE[#1, #2, comparative:​<:​2009:​col:​exhibition:​Year] <br>4. PROJECT[col:​exhibition:​Ticket_Price, #3] <br>5. AGGREGATE[avg, #4] <br>6. AGGREGATE[min, #4] <br>7. AGGREGATE[max, #4] <br>8. UNION[#5, #6, #7] <br> | 1. SELECT[tbl:​exhibition] <br>2. PROJECT[col:​exhibition:​Year, #1] <br>3. COMPARATIVE[#1, #2, comparative:​<:​2009:​col:​exhibition:​Year] <br>4. PROJECT[col:​exhibition:​Ticket_Price, #3] <br>5. AGGREGATE[avg, #4] <br>6. AGGREGATE[min, #4] <br>7. AGGREGATE[max, #4] <br>8. UNION[#5, #6, #7] <br> | + | medium | 
  | SPIDER_train_1676 | What are the average, minimum, and maximum ticket prices for exhibitions that happened prior to 2009? | SELECT avg(ticket_price) ,  min(ticket_price) ,  max(ticket_price) FROM exhibition WHERE YEAR  <  2009 | 1. SELECT[tbl:​exhibition] <br>2. FILTER[#1, comparative:​<:​2009:​col:​exhibition:​Year] <br>3. PROJECT[col:​exhibition:​Ticket_Price, #2] <br>4. AGGREGATE[avg, #3] <br>5. AGGREGATE[min, #3] <br>6. AGGREGATE[max, #3] <br>7. UNION[#4, #5, #6] <br> | 1. SELECT[tbl:​exhibition] <br>2. COMPARATIVE[#1, #1, comparative:​<:​2009:​col:​exhibition:​Year] <br>3. PROJECT[col:​exhibition:​Ticket_Price, #2] <br>4. AGGREGATE[avg, #3] <br>5. AGGREGATE[min, #3] <br>6. AGGREGATE[max, #3] <br>7. UNION[#4, #5, #6] <br> | + | medium | 
  | SPIDER_train_1677 | Show theme and year for all exhibitions in an descending order of ticket price. | SELECT theme ,  YEAR FROM exhibition ORDER BY ticket_price DESC | 1. SELECT[tbl:​exhibition] <br>2. PROJECT[col:​exhibition:​Theme, #1] <br>3. PROJECT[col:​exhibition:​Year, #1] <br>4. PROJECT[col:​exhibition:​Ticket_Price, #1] <br>5. UNION[#2, #3] <br>6. SORT[#5, #4, sortdir:​descending] <br> | 1. SELECT[tbl:​exhibition] <br>2. PROJECT[col:​exhibition:​Theme, #1] <br>3. PROJECT[col:​exhibition:​Year, #1] <br>4. PROJECT[col:​exhibition:​Ticket_Price, #1] <br>5. UNION[#2, #3] <br>6. SORT[#5, #4, sortdir:​descending] <br> | + | medium | 
  | SPIDER_train_1678 | What are the themes and years for exhibitions, sorted by ticket price descending? | SELECT theme ,  YEAR FROM exhibition ORDER BY ticket_price DESC | 1. SELECT[tbl:​exhibition] <br>2. PROJECT[col:​exhibition:​Theme, #1] <br>3. PROJECT[col:​exhibition:​Year, #1] <br>4. PROJECT[col:​exhibition:​Ticket_Price, #1] <br>5. UNION[#2, #3] <br>6. SORT[#5, #4, sortdir:​descending] <br> | 1. SELECT[tbl:​exhibition] <br>2. PROJECT[col:​exhibition:​Theme, #1] <br>3. PROJECT[col:​exhibition:​Year, #1] <br>4. PROJECT[col:​exhibition:​Ticket_Price, #1] <br>5. UNION[#2, #3] <br>6. SORT[#5, #4, sortdir:​descending] <br> | + | medium | 
  | SPIDER_train_1679 | What is the theme, date, and attendance for the exhibition in year 2004? | SELECT T2.theme ,  T1.date ,  T1.attendance FROM exhibition_record AS T1 JOIN exhibition AS T2 ON T1.exhibition_id  =  T2.exhibition_id WHERE T2.year  =  2004 | 1. SELECT[tbl:​exhibition] <br>2. PROJECT[col:​exhibition:​Year, #1] <br>3. COMPARATIVE[#1, #2, comparative:​=:​2004:​col:​exhibition:​Year] <br>4. PROJECT[col:​exhibition:​Theme, #3] <br>5. PROJECT[col:​exhibition_record:​Date, #3] <br>6. PROJECT[col:​exhibition_record:​Attendance, #3] <br>7. UNION[#4, #5, #6] <br> | 1. SELECT[tbl:​exhibition] <br>2. PROJECT[col:​exhibition:​Year, #1] <br>3. COMPARATIVE[#1, #2, comparative:​=:​2004:​col:​exhibition:​Year] <br>4. PROJECT[col:​exhibition:​Theme, #3] <br>5. PROJECT[col:​exhibition_record:​Date, #3] <br>6. PROJECT[col:​exhibition_record:​Attendance, #3] <br>7. UNION[#4, #5, #6] <br> | + | medium | 
  | SPIDER_train_1680 | Return the themes, dates, and attendance for exhibitions that happened in 2004. | SELECT T2.theme ,  T1.date ,  T1.attendance FROM exhibition_record AS T1 JOIN exhibition AS T2 ON T1.exhibition_id  =  T2.exhibition_id WHERE T2.year  =  2004 | 1. SELECT[tbl:​exhibition] <br>2. FILTER[#1, comparative:​=:​2004:​col:​exhibition:​Year] <br>3. PROJECT[col:​exhibition:​Theme, #2] <br>4. PROJECT[col:​exhibition_record:​Date, #2] <br>5. PROJECT[col:​exhibition_record:​Attendance, #2] <br>6. UNION[#3, #4, #5] <br> | 1. SELECT[tbl:​exhibition] <br>2. COMPARATIVE[#1, #1, comparative:​=:​2004:​col:​exhibition:​Year] <br>3. PROJECT[col:​exhibition:​Theme, #2] <br>4. PROJECT[col:​exhibition_record:​Date, #2] <br>5. PROJECT[col:​exhibition_record:​Attendance, #2] <br>6. UNION[#3, #4, #5] <br> | + | medium | 
  | SPIDER_train_1682 | What are the names of artists who did not have an exhibition in 2004? | SELECT name FROM artist EXCEPT SELECT T2.name FROM exhibition AS T1 JOIN artist AS T2 ON T1.artist_id  =  T2.artist_id WHERE T1.year  =  2004 | 1. SELECT[tbl:​exhibition] <br>2. FILTER[#1, comparative:​=:​2004:​col:​exhibition:​Year] <br>3. PROJECT[tbl:​artist, #2] <br>4. SELECT[tbl:​artist] <br>5. DISCARD[#4, #3] <br>6. PROJECT[col:​artist:​Name, #5] <br> | 1. SELECT[tbl:​exhibition] <br>2. COMPARATIVE[#1, #1, comparative:​=:​2004:​col:​exhibition:​Year] <br>3. PROJECT[tbl:​artist, #2] <br>4. SELECT[tbl:​artist] <br>5. DISCARD[#4, #3] <br>6. PROJECT[col:​artist:​Name, #5] <br> | + | hard | 
  | SPIDER_train_1683 | Show the theme for exhibitions with both records of an attendance below 100 and above 500. | SELECT T2.theme FROM exhibition_record AS T1 JOIN exhibition AS T2 ON T1.exhibition_id  =  T2.exhibition_id WHERE T1.attendance  <  100 INTERSECT SELECT T2.theme FROM exhibition_record AS T1 JOIN exhibition AS T2 ON T1.exhibition_id  =  T2.exhibition_id WHERE T1.attendance  >  500 | 1. SELECT[tbl:​exhibition] <br>2. PROJECT[col:​exhibition_record:​Attendance, #1] <br>3. GROUP[col:​exhibition_record:​Attendance, #2, #1] <br>4. COMPARATIVE[#1, #3, comparative:​<:​100:​col:​exhibition_record:​Attendance] <br>5. COMPARATIVE[#1, #3, comparative:​>:​500:​col:​exhibition_record:​Attendance] <br>6. INTERSECTION[#1, #4, #5] <br>7. PROJECT[col:​exhibition:​Theme, #6] <br> | 1. SELECT[tbl:​exhibition] <br>2. PROJECT[col:​exhibition_record:​Attendance, #1] <br>3. GROUP[sum, #2, #1] <br>4. COMPARATIVE[#1, #3, comparative:​<:​100:​col:​exhibition_record:​Attendance] <br>5. COMPARATIVE[#1, #3, comparative:​>:​500:​col:​exhibition_record:​Attendance] <br>6. INTERSECTION[#1, #4, #5] <br>7. PROJECT[col:​exhibition:​Theme, #6] <br> | + | extra | 
  | SPIDER_train_1684 | Which themes have had corresponding exhibitions that have had attendance both below 100 and above 500? | SELECT T2.theme FROM exhibition_record AS T1 JOIN exhibition AS T2 ON T1.exhibition_id  =  T2.exhibition_id WHERE T1.attendance  <  100 INTERSECT SELECT T2.theme FROM exhibition_record AS T1 JOIN exhibition AS T2 ON T1.exhibition_id  =  T2.exhibition_id WHERE T1.attendance  >  500 | 1. SELECT[col:​exhibition:​Theme] <br>2. PROJECT[tbl:​exhibition, #1] <br>3. PROJECT[col:​exhibition_record:​Attendance, #2] <br>4. COMPARATIVE[#1, #3, comparative:​<:​100:​col:​exhibition_record:​Attendance] <br>5. COMPARATIVE[#1, #3, comparative:​>:​500:​col:​exhibition_record:​Attendance] <br>6. INTERSECTION[#1, #4, #5] <br> | 1. SELECT[col:​exhibition:​Theme] <br>2. PROJECT[tbl:​exhibition, #1] <br>3. PROJECT[col:​exhibition_record:​Attendance, #2] <br>4. COMPARATIVE[#1, #3, comparative:​<:​100:​col:​exhibition_record:​Attendance] <br>5. COMPARATIVE[#1, #3, comparative:​>:​500:​col:​exhibition_record:​Attendance] <br>6. INTERSECTION[#1, #4, #5] <br> | + | extra | 
  | SPIDER_train_1685 | How many exhibitions have a attendance more than 100 or have a ticket price below 10? | SELECT count(*) FROM exhibition_record AS T1 JOIN exhibition AS T2 ON T1.exhibition_id  =  T2.exhibition_id WHERE T1.attendance  >  100 OR T2.ticket_price  <  10 | 1. SELECT[tbl:​exhibition_record] <br>2. PROJECT[col:​exhibition_record:​Attendance, #1] <br>3. COMPARATIVE[#1, #2, comparative:​<:​10:​col:​exhibition:​Ticket_Price] <br>4. PROJECT[col:​exhibition:​Ticket_Price, #1] <br>5. COMPARATIVE[#1, #4, comparative:​>:​100:​col:​exhibition_record:​Attendance] <br>6. UNION[#3, #5] <br>7. AGGREGATE[count, #6] <br> | 1. SELECT[tbl:​exhibition_record] <br>2. PROJECT[col:​exhibition_record:​Attendance, #1] <br>3. COMPARATIVE[#1, #2, comparative:​<:​10:​col:​exhibition:​Ticket_Price] <br>4. PROJECT[col:​exhibition:​Ticket_Price, #1] <br>5. COMPARATIVE[#1, #4, comparative:​>:​100:​col:​exhibition_record:​Attendance] <br>6. UNION[#3, #5] <br>7. AGGREGATE[count, #6] <br> | + | hard | 
  | SPIDER_train_1686 | Count the number of exhibitions that have had an attendnance of over 100 or a ticket prices under 10. | SELECT count(*) FROM exhibition_record AS T1 JOIN exhibition AS T2 ON T1.exhibition_id  =  T2.exhibition_id WHERE T1.attendance  >  100 OR T2.ticket_price  <  10 | 1. SELECT[tbl:​exhibition_record] <br>2. PROJECT[attendnances of #REF, #1] <br>3. COMPARATIVE[#1, #2, comparative:​<:​10:​col:​exhibition:​Ticket_Price] <br>4. PROJECT[col:​exhibition:​Ticket_Price, #1] <br>5. COMPARATIVE[#1, #4, comparative:​>:​100:​col:​exhibition_record:​Attendance] <br>6. UNION[#3, #5] <br>7. AGGREGATE[count, #6] <br> | 1. SELECT[tbl:​exhibition_record] <br>2. PROJECT[None, #1] <br>3. COMPARATIVE[#1, #2, comparative:​<:​10:​col:​exhibition:​Ticket_Price] <br>4. PROJECT[col:​exhibition:​Ticket_Price, #1] <br>5. COMPARATIVE[#1, #4, comparative:​>:​100:​col:​exhibition_record:​Attendance] <br>6. UNION[#3, #5] <br>7. AGGREGATE[count, #6] <br> | + | hard | 
  | SPIDER_train_1687 | Show all artist names with an average exhibition attendance over 200. | SELECT T3.name FROM exhibition_record AS T1 JOIN exhibition AS T2 ON T1.exhibition_id  =  T2.exhibition_id JOIN artist AS T3 ON T3.artist_id  =  T2.artist_id GROUP BY T3.artist_id HAVING avg(T1.attendance)  >  200 | 1. SELECT[col:​artist:​Name] <br>2. PROJECT[tbl:​exhibition, #1] <br>3. GROUP[tbl:​exhibition, #2, #1] <br>4. COMPARATIVE[#1, #3, comparative:​>:​200:​col:​exhibition_record:​Attendance] <br> | 1. SELECT[col:​artist:​Name] <br>2. PROJECT[tbl:​exhibition, #1] <br>3. GROUP[sum, #2, #1] <br>4. COMPARATIVE[#1, #3, comparative:​>:​200:​col:​exhibition_record:​Attendance] <br> | + | hard | 
 ***
 Exec acc: **0.9412**
