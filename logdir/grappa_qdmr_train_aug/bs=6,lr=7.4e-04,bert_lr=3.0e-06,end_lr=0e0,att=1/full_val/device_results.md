 | Idx | Table      | Column | Primary Key | Foreign Key | 
 | ----------- | ----------- | ----------- | ----------- | ----------- | 
  | 0 |  | * |   |   | 
 | 1 | **device** | Device_ID | + |   | 
 | 2 |   | Device |   |   | 
 | 3 |   | Carrier |   |   | 
 | 4 |   | Package_Version |   |   | 
 | 5 |   | Applications |   |   | 
 | 6 |   | Software_Platform |   |   | 
 | 7 | **shop** | Shop_ID | + |   | 
 | 8 |   | Shop_Name |   |   | 
 | 9 |   | Location |   |   | 
 | 10 |   | Open_Date |   |   | 
 | 11 |   | Open_Year |   |   | 
 | 12 | **stock** | Shop_ID | + | --> 7 | 
 | 13 |   | Device_ID |   | --> 1 | 
 | 14 |   | Quantity |   |   | 
 
  | Index | Question  | SQL | gold QDMR | pred QDMR | Exec | SQL hardness |
  | ----------- | ----------- | ----------- |  ----------- | ----------- | ----------- | ----------- | 
 | SPIDER_train_5050 | How many devices are there? | SELECT count(*) FROM device | 1. SELECT[tbl:​device] <br>2. AGGREGATE[count, #1] <br> | 1. SELECT[tbl:​device] <br>2. AGGREGATE[count, #1] <br> | + | easy | 
  | SPIDER_train_5051 | Count the number of devices. | SELECT count(*) FROM device | 1. SELECT[tbl:​device] <br>2. AGGREGATE[count, #1] <br> | 1. SELECT[tbl:​device] <br>2. AGGREGATE[count, #1] <br> | + | easy | 
  | SPIDER_train_5052 | List the carriers of devices in ascending alphabetical order. | SELECT Carrier FROM device ORDER BY Carrier ASC | 1. SELECT[tbl:​device] <br>2. PROJECT[col:​device:​Carrier, #1] <br>3. SORT[#2, #2, sortdir:​ascending] <br> | 1. SELECT[tbl:​device] <br>2. PROJECT[col:​device:​Carrier, #1] <br>3. SORT[#2, #2, sortdir:​ascending] <br> | + | easy | 
  | SPIDER_train_5053 | What are the different carriers for devices, listed in alphabetical order? | SELECT Carrier FROM device ORDER BY Carrier ASC | 1. SELECT[tbl:​device] <br>2.*(distinct)* PROJECT[col:​device:​Carrier, #1] <br>3. SORT[#2, #2, sortdir:​ascending] <br> | 1. SELECT[tbl:​device] <br>2.*(distinct)* PROJECT[col:​device:​Carrier, #1] <br>3. SORT[#2, #2, sortdir:​ascending] <br> | + | easy | 
  | SPIDER_train_5055 | Return the device carriers that do not have Android as their software platform. | SELECT Carrier FROM device WHERE Software_Platform != 'Android' | 1. SELECT[col:​device:​Carrier] <br>2. PROJECT[col:​device:​Software_Platform, #1] <br>3. COMPARATIVE[#1, #2, comparative:​!=:​Android:​col:​device:​Software_Platform] <br> | 1. SELECT[col:​device:​Carrier] <br>2. PROJECT[col:​device:​Software_Platform, #1] <br>3. COMPARATIVE[#1, #2, comparative:​!=:​Android:​col:​device:​Software_Platform] <br> | + | easy | 
  | SPIDER_train_5056 | What are the names of shops in ascending order of open year? | SELECT Shop_Name FROM shop ORDER BY Open_Year ASC | 1. SELECT[tbl:​shop] <br>2. PROJECT[col:​shop:​Open_Year, #1] <br>3. PROJECT[col:​shop:​Shop_Name, #1] <br>4. SORT[#3, #2, sortdir:​ascending] <br> | 1. SELECT[tbl:​shop] <br>2. PROJECT[col:​shop:​Open_Year, #1] <br>3. PROJECT[col:​shop:​Shop_Name, #1] <br>4. SORT[#3, #2, sortdir:​ascending] <br> | + | easy | 
  | SPIDER_train_5057 | Return the names of shops, ordered by year of opening ascending. | SELECT Shop_Name FROM shop ORDER BY Open_Year ASC | 1. SELECT[tbl:​shop] <br>2. PROJECT[col:​shop:​Open_Year, #1] <br>3. PROJECT[col:​shop:​Shop_Name, #1] <br>4. SORT[#3, #2, sortdir:​ascending] <br> | 1. SELECT[tbl:​shop] <br>2. PROJECT[col:​shop:​Open_Year, #1] <br>3. PROJECT[col:​shop:​Shop_Name, #1] <br>4. SORT[#3, #2, sortdir:​ascending] <br> | + | easy | 
  | SPIDER_train_5058 | What is the average quantity of stocks? | SELECT avg(Quantity) FROM stock | 1. SELECT[tbl:​stock] <br>2. PROJECT[col:​stock:​Quantity, #1] <br>3. AGGREGATE[avg, #2] <br> | 1. SELECT[tbl:​stock] <br>2. PROJECT[col:​stock:​Quantity, #1] <br>3. AGGREGATE[avg, #2] <br> | + | easy | 
  | SPIDER_train_5059 | Give the average quantity of stocks. | SELECT avg(Quantity) FROM stock | 1. SELECT[tbl:​stock] <br>2. PROJECT[col:​stock:​Quantity, #1] <br>3. AGGREGATE[avg, #2] <br> | 1. SELECT[tbl:​stock] <br>2. PROJECT[col:​stock:​Quantity, #1] <br>3. AGGREGATE[avg, #2] <br> | + | easy | 
  | SPIDER_train_5060 | What are the names and location of the shops in ascending alphabetical order of name. | SELECT Shop_Name ,  LOCATION FROM shop ORDER BY Shop_Name ASC | 1. SELECT[tbl:​shop] <br>2. PROJECT[col:​shop:​Shop_Name, #1] <br>3. PROJECT[col:​shop:​Location, #1] <br>4. UNION[#2, #3] <br>5. SORT[#4, #2, sortdir:​ascending] <br> | 1. SELECT[tbl:​shop] <br>2. PROJECT[col:​shop:​Shop_Name, #1] <br>3. PROJECT[col:​shop:​Location, #1] <br>4. UNION[#2, #3] <br>5. SORT[#4, #2, sortdir:​ascending] <br> | + | medium | 
  | SPIDER_train_5061 | Return the names and locations of shops, ordered by name in alphabetical order. | SELECT Shop_Name ,  LOCATION FROM shop ORDER BY Shop_Name ASC | 1. SELECT[tbl:​shop] <br>2. PROJECT[col:​shop:​Shop_Name, #1] <br>3. PROJECT[col:​shop:​Location, #1] <br>4. UNION[#2, #3] <br>5. SORT[#4, #2, sortdir:​ascending] <br> | 1. SELECT[tbl:​shop] <br>2. PROJECT[col:​shop:​Shop_Name, #1] <br>3. PROJECT[col:​shop:​Location, #1] <br>4. UNION[#2, #3] <br>5. SORT[#4, #2, sortdir:​ascending] <br> | + | medium | 
  | SPIDER_train_5062 | How many different software platforms are there for devices? | SELECT count(DISTINCT Software_Platform) FROM device | 1. SELECT[tbl:​device] <br>2. PROJECT[col:​device:​Software_Platform, #1] <br>3.*(distinct)* PROJECT[different #REF, #2] <br>4. AGGREGATE[count, #3] <br> | 1. SELECT[tbl:​device] <br>2. PROJECT[col:​device:​Software_Platform, #1] <br>3.*(distinct)* PROJECT[None, #2] <br>4. AGGREGATE[count, #3] <br> | + | easy | 
  | SPIDER_train_5063 | Count the number of different software platforms. | SELECT count(DISTINCT Software_Platform) FROM device | 1. SELECT[col:​device:​Software_Platform] <br>2.*(distinct)* FILTER[#1, that are different] <br>3. AGGREGATE[count, #2] <br> | 1. SELECT[col:​device:​Software_Platform] <br>2.*(distinct)* COMPARATIVE[#1, #1, None] <br>3. AGGREGATE[count, #2] <br> | + | easy | 
  | SPIDER_train_5065 | What are the open dates and years for the shop named Apple? | SELECT Open_Date ,  Open_Year FROM shop WHERE Shop_Name  =  "Apple" | 1. SELECT[tbl:​shop] <br>2. FILTER[#1, comparative:​=:​Apple:​col:​shop:​Shop_Name] <br>3. PROJECT[col:​shop:​Open_Date, #2] <br>4. PROJECT[col:​shop:​Open_Year, #2] <br>5. UNION[#3, #4] <br> | 1. SELECT[tbl:​shop] <br>2. COMPARATIVE[#1, #1, comparative:​=:​Apple:​col:​shop:​Shop_Name] <br>3. PROJECT[col:​shop:​Open_Date, #2] <br>4. PROJECT[col:​shop:​Open_Year, #2] <br>5. UNION[#3, #4] <br> | + | medium | 
  | SPIDER_train_5066 | List the name of the shop with the latest open year. | SELECT Shop_Name FROM shop ORDER BY Open_Year DESC LIMIT 1 | 1. SELECT[tbl:​shop] <br>2. PROJECT[col:​shop:​Open_Year, #1] <br>3. COMPARATIVE[#1, #2, comparative:​max:​None] <br>4. PROJECT[col:​shop:​Shop_Name, #3] <br> | 1. SELECT[tbl:​shop] <br>2. PROJECT[col:​shop:​Open_Year, #1] <br>3. SUPERLATIVE[comparative:​max:​None, #1, #2] <br>4. PROJECT[col:​shop:​Shop_Name, #3] <br> | + | medium | 
  | SPIDER_train_5067 | What is the shop name corresponding to the shop that opened in the most recent year? | SELECT Shop_Name FROM shop ORDER BY Open_Year DESC LIMIT 1 | 1. SELECT[tbl:​shop] <br>2. PROJECT[col:​shop:​Open_Year, #1] <br>3. SUPERLATIVE[comparative:​max:​None, #1, #2] <br>4. PROJECT[col:​shop:​Shop_Name, #3] <br> | 1. SELECT[tbl:​shop] <br>2. PROJECT[col:​shop:​Open_Year, #1] <br>3. SUPERLATIVE[comparative:​max:​None, #1, #2] <br>4. PROJECT[col:​shop:​Shop_Name, #3] <br> | + | medium | 
  | SPIDER_train_5068 | Show names of shops and the carriers of devices they have in stock. | SELECT T3.Shop_Name ,  T2.Carrier FROM stock AS T1 JOIN device AS T2 ON T1.Device_ID  =  T2.Device_ID JOIN shop AS T3 ON T1.Shop_ID  =  T3.Shop_ID | 1. SELECT[tbl:​shop] <br>2. PROJECT[col:​shop:​Shop_Name, #1] <br>3. PROJECT[tbl:​stock, #1] <br>4. PROJECT[col:​device:​Carrier, #3] <br>5. UNION[#2, #4] <br> | 1. SELECT[tbl:​shop] <br>2. PROJECT[col:​shop:​Shop_Name, #1] <br>3. PROJECT[tbl:​stock, #1] <br>4. PROJECT[col:​device:​Carrier, #3] <br>5. UNION[#2, #4] <br> | + | medium | 
  | SPIDER_train_5069 | What are the names of device shops, and what are the carriers that they carry devices in stock for? | SELECT T3.Shop_Name ,  T2.Carrier FROM stock AS T1 JOIN device AS T2 ON T1.Device_ID  =  T2.Device_ID JOIN shop AS T3 ON T1.Shop_ID  =  T3.Shop_ID | 1. SELECT[tbl:​shop] <br>2. PROJECT[col:​shop:​Shop_Name, #1] <br>3. PROJECT[col:​device:​Carrier, #1] <br>4. UNION[#2, #3] <br> | 1. SELECT[tbl:​shop] <br>2. PROJECT[col:​shop:​Shop_Name, #1] <br>3. PROJECT[col:​device:​Carrier, #1] <br>4. UNION[#2, #3] <br> | + | medium | 
  | SPIDER_train_5072 | Show the name of the shop that has the most kind of devices in stock. | SELECT T2.Shop_Name FROM stock AS T1 JOIN shop AS T2 ON T1.Shop_ID  =  T2.Shop_ID GROUP BY T1.Shop_ID ORDER BY COUNT(*) DESC LIMIT 1 | 1. SELECT[col:​stock:​Shop_ID] <br>2. PROJECT[kinds of devices of #REF, #1] <br>3. GROUP[count, #2, #1] <br>4. SUPERLATIVE[comparative:​max:​None, #1, #3] <br>5. PROJECT[col:​shop:​Shop_Name, #4] <br> | 1. SELECT[col:​stock:​Shop_ID] <br>2. PROJECT[None, #1] <br>3. GROUP[count, #2, #1] <br>4. SUPERLATIVE[comparative:​max:​None, #1, #3] <br>5. PROJECT[col:​shop:​Shop_Name, #4] <br> | + | extra | 
  | SPIDER_train_5073 | What is the name of the shop that has the most different kinds of devices in stock? | SELECT T2.Shop_Name FROM stock AS T1 JOIN shop AS T2 ON T1.Shop_ID  =  T2.Shop_ID GROUP BY T1.Shop_ID ORDER BY COUNT(*) DESC LIMIT 1 | 1. SELECT[tbl:​shop] <br>2. PROJECT[tbl:​stock, #1] <br>3. GROUP[count, #2, #1] <br>4. SUPERLATIVE[comparative:​max:​None, #1, #3] <br>5. PROJECT[col:​shop:​Shop_Name, #4] <br> | 1. SELECT[tbl:​shop] <br>2. PROJECT[tbl:​stock, #1] <br>3. GROUP[count, #2, #1] <br>4. SUPERLATIVE[comparative:​max:​None, #1, #3] <br>5. PROJECT[col:​shop:​Shop_Name, #4] <br> | + | extra | 
  | SPIDER_train_5076 | Please show different software platforms and the corresponding number of devices using each. | SELECT Software_Platform ,  COUNT(*) FROM device GROUP BY Software_Platform | 1.*(distinct)* SELECT[col:​device:​Software_Platform] <br>2. PROJECT[tbl:​device, #1] <br>3. GROUP[count, #2, #1] <br>4. UNION[#1, #3] <br> | 1.*(distinct)* SELECT[col:​device:​Software_Platform] <br>2. PROJECT[tbl:​device, #1] <br>3. GROUP[count, #2, #1] <br>4. UNION[#1, #3] <br> | + | medium | 
  | SPIDER_train_5077 | What are the different software platforms for devices, and how many devices have each? | SELECT Software_Platform ,  COUNT(*) FROM device GROUP BY Software_Platform | 1. SELECT[tbl:​device] <br>2.*(distinct)* PROJECT[col:​device:​Software_Platform, #1] <br>3. GROUP[count, #1, #2] <br>4. UNION[#2, #3] <br> | 1. SELECT[tbl:​device] <br>2.*(distinct)* PROJECT[col:​device:​Software_Platform, #1] <br>3. GROUP[count, #1, #2] <br>4. UNION[#2, #3] <br> | + | medium | 
  | SPIDER_train_5080 | List the software platform shared by the greatest number of devices. | SELECT Software_Platform FROM device GROUP BY Software_Platform ORDER BY COUNT(*) DESC LIMIT 1 | 1. SELECT[col:​device:​Software_Platform] <br>2. PROJECT[tbl:​device, #1] <br>3. GROUP[count, #2, #1] <br>4. SUPERLATIVE[comparative:​max:​None, #1, #3] <br> | 1. SELECT[col:​device:​Software_Platform] <br>2. PROJECT[tbl:​device, #1] <br>3. GROUP[count, #2, #1] <br>4. SUPERLATIVE[comparative:​max:​None, #1, #3] <br> | + | hard | 
  | SPIDER_train_5081 | What is the software platform that is most common amongst all devices? | SELECT Software_Platform FROM device GROUP BY Software_Platform ORDER BY COUNT(*) DESC LIMIT 1 | 1. SELECT[col:​device:​Software_Platform] <br>2. PROJECT[tbl:​device, #1] <br>3. GROUP[count, #2, #1] <br>4. SUPERLATIVE[comparative:​max:​None, #1, #3] <br> | 1. SELECT[col:​device:​Software_Platform] <br>2. PROJECT[tbl:​device, #1] <br>3. GROUP[count, #2, #1] <br>4. SUPERLATIVE[comparative:​max:​None, #1, #3] <br> | + | hard | 
  | SPIDER_train_5082 | List the names of shops that have no devices in stock. | SELECT Shop_Name FROM shop WHERE Shop_ID NOT IN (SELECT Shop_ID FROM stock) | 1. SELECT[tbl:​shop] <br>2. FILTER[#1, tbl:​stock] <br>3. DISCARD[#1, #2] <br>4. PROJECT[col:​shop:​Shop_Name, #3] <br> | 1. SELECT[tbl:​shop] <br>2. COMPARATIVE[#1, #1, tbl:​stock] <br>3. DISCARD[#1, #2] <br>4. PROJECT[col:​shop:​Shop_Name, #3] <br> | + | hard | 
  | SPIDER_train_5084 | Show the locations shared by shops with open year later than 2012 and shops with open year before 2008. | SELECT LOCATION FROM shop WHERE Open_Year  >  2012 INTERSECT SELECT LOCATION FROM shop WHERE Open_Year  <  2008 | 1. SELECT[tbl:​shop] <br>2. PROJECT[tbl:​shop, #1] <br>3. COMPARATIVE[#1, #2, comparative:​>:​2012:​col:​shop:​Open_Year] <br>4. COMPARATIVE[#1, #2, comparative:​<:​2008:​col:​shop:​Open_Year] <br>5. PROJECT[col:​shop:​Location, #3] <br>6. PROJECT[col:​shop:​Location, #4] <br>7. PROJECT[col:​shop:​Location, #1] <br>8. INTERSECTION[#7, #5, #6] <br> | 1. SELECT[tbl:​shop] <br>2. PROJECT[tbl:​shop, #1] <br>3. COMPARATIVE[#1, #2, comparative:​>:​2012:​col:​shop:​Open_Year] <br>4. COMPARATIVE[#1, #2, comparative:​<:​2008:​col:​shop:​Open_Year] <br>5. PROJECT[col:​shop:​Location, #3] <br>6. PROJECT[col:​shop:​Location, #4] <br>7. PROJECT[col:​shop:​Location, #1] <br>8. INTERSECTION[#7, #5, #6] <br> | + | hard | 
  | SPIDER_train_5085 | Which locations contains both shops that opened after the year 2012 and shops that opened before 2008? | SELECT LOCATION FROM shop WHERE Open_Year  >  2012 INTERSECT SELECT LOCATION FROM shop WHERE Open_Year  <  2008 | 1. SELECT[col:​shop:​Location] <br>2. PROJECT[tbl:​shop, #1] <br>3. FILTER[#2, comparative:​>:​2012:​col:​shop:​Open_Year] <br>4. FILTER[#2, comparative:​<:​2008:​col:​shop:​Open_Year] <br>5. INTERSECTION[#1, #3, #4] <br> | 1. SELECT[col:​shop:​Location] <br>2. PROJECT[tbl:​shop, #1] <br>3. COMPARATIVE[#2, #2, comparative:​>:​2012:​col:​shop:​Open_Year] <br>4. COMPARATIVE[#2, #2, comparative:​<:​2008:​col:​shop:​Open_Year] <br>5. INTERSECTION[#1, #3, #4] <br> | + | hard | 
  | SPIDER_train_5086 | List the carriers of devices that have no devices in stock. | SELECT Carrier FROM device WHERE Device_ID NOT IN (SELECT Device_ID FROM stock) | 1. SELECT[tbl:​device] <br>2. FILTER[#1, tbl:​stock] <br>3. DISCARD[#1, #2] <br>4. PROJECT[col:​device:​Carrier, #3] <br> | 1. SELECT[tbl:​device] <br>2. COMPARATIVE[#1, #1, tbl:​stock] <br>3. DISCARD[#1, #2] <br>4. PROJECT[col:​device:​Carrier, #3] <br> | + | hard | 
  | SPIDER_train_5087 | What are the carriers of devices that are not in stock anywhere? | SELECT Carrier FROM device WHERE Device_ID NOT IN (SELECT Device_ID FROM stock) | 1. SELECT[tbl:​device] <br>2. FILTER[#1, tbl:​stock] <br>3. DISCARD[#1, #2] <br>4. PROJECT[col:​device:​Carrier, #3] <br> | 1. SELECT[tbl:​device] <br>2. COMPARATIVE[#1, #1, tbl:​stock] <br>3. DISCARD[#1, #2] <br>4. PROJECT[col:​device:​Carrier, #3] <br> | + | hard | 
  | SPIDER_train_5088 | Show the carriers of devices in stock at more than one shop. | SELECT T2.Carrier FROM stock AS T1 JOIN device AS T2 ON T1.Device_ID  =  T2.Device_ID GROUP BY T1.Device_ID HAVING COUNT(*)  >  1 | 1. SELECT[tbl:​device] <br>2. PROJECT[tbl:​stock, #1] <br>3. GROUP[count, #2, #1] <br>4. COMPARATIVE[#1, #3, comparative:​>:​1] <br>5. PROJECT[col:​device:​Carrier, #4] <br> | 1. SELECT[tbl:​device] <br>2. PROJECT[tbl:​stock, #1] <br>3. GROUP[count, #2, #1] <br>4. COMPARATIVE[#1, #3, comparative:​>:​1] <br>5. PROJECT[col:​device:​Carrier, #4] <br> | + | medium | 
  | SPIDER_train_5089 | What are the carriers of devices that are in stock in more than a single shop? | SELECT T2.Carrier FROM stock AS T1 JOIN device AS T2 ON T1.Device_ID  =  T2.Device_ID GROUP BY T1.Device_ID HAVING COUNT(*)  >  1 | 1. SELECT[tbl:​device] <br>2. PROJECT[tbl:​stock, #1] <br>3. GROUP[count, #2, #1] <br>4. COMPARATIVE[#1, #3, comparative:​>:​1] <br>5. PROJECT[col:​device:​Carrier, #4] <br> | 1. SELECT[tbl:​device] <br>2. PROJECT[tbl:​stock, #1] <br>3. GROUP[count, #2, #1] <br>4. COMPARATIVE[#1, #3, comparative:​>:​Naval's shop:​col:​shop:​Shop_Name] <br>5. PROJECT[col:​device:​Carrier, #4] <br> | - | medium | 
 ***
 Exec acc: **0.9677**
