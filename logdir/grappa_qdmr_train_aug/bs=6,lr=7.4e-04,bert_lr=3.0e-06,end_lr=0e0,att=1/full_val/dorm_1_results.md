 | Idx | Table      | Column | Primary Key | Foreign Key | 
 | ----------- | ----------- | ----------- | ----------- | ----------- | 
  | 0 |  | * |   |   | 
 | 1 | **Student** | StuID | + |   | 
 | 2 |   | LName |   |   | 
 | 3 |   | Fname |   |   | 
 | 4 |   | Age |   |   | 
 | 5 |   | Sex |   |   | 
 | 6 |   | Major |   |   | 
 | 7 |   | Advisor |   |   | 
 | 8 |   | city_code |   |   | 
 | 9 | **Dorm** | dormid |   |   | 
 | 10 |   | dorm_name |   |   | 
 | 11 |   | student_capacity |   |   | 
 | 12 |   | gender |   |   | 
 | 13 | **Dorm_amenity** | amenid |   |   | 
 | 14 |   | amenity_name |   |   | 
 | 15 | **Has_amenity** | dormid |   | --> 9 | 
 | 16 |   | amenid |   | --> 13 | 
 | 17 | **Lives_in** | stuid |   | --> 1 | 
 | 18 |   | dormid |   | --> 9 | 
 | 19 |   | room_number |   |   | 
 
  | Index | Question  | SQL | gold QDMR | pred QDMR | Exec | SQL hardness |
  | ----------- | ----------- | ----------- |  ----------- | ----------- | ----------- | ----------- | 
 | SPIDER_train_5668 | Find the name of dorms only for female (F gender). | SELECT dorm_name FROM dorm WHERE gender  =  'F' | 1. SELECT[tbl:​Dorm] <br>2. PROJECT[col:​Dorm:​gender, #1] <br>3. COMPARATIVE[#1, #2, comparative:​=:​F:​col:​Dorm:​gender] <br>4. PROJECT[col:​Dorm:​dorm_name, #3] <br> | 1. SELECT[tbl:​Dorm] <br>2. PROJECT[col:​Dorm:​gender, #1] <br>3. COMPARATIVE[#1, #2, comparative:​=:​F:​col:​Dorm:​gender] <br>4. PROJECT[col:​Dorm:​dorm_name, #3] <br> | + | easy | 
  | SPIDER_train_5669 | What are the names of the all-female dorms? | SELECT dorm_name FROM dorm WHERE gender  =  'F' | 1. SELECT[tbl:​Dorm] <br>2. PROJECT[col:​Dorm:​dorm_name, #1] <br>3. COMPARATIVE[#2, #1, comparative:​=:​F:​col:​Dorm:​gender] <br> | 1. SELECT[tbl:​Dorm] <br>2. PROJECT[col:​Dorm:​dorm_name, #1] <br>3. COMPARATIVE[#2, #1, comparative:​=:​F:​col:​Dorm:​gender] <br> | + | easy | 
  | SPIDER_train_5670 | Find the name of dorms that can accommodate more than 300 students. | SELECT dorm_name FROM dorm WHERE student_capacity  >  300 | 1. SELECT[tbl:​Dorm] <br>2. FILTER[#1, comparative:​>:​300:​col:​Dorm:​student_capacity] <br>3. PROJECT[col:​Dorm:​dorm_name, #2] <br> | 1. SELECT[tbl:​Dorm] <br>2. COMPARATIVE[#1, #1, comparative:​>:​300:​col:​Dorm:​student_capacity] <br>3. PROJECT[col:​Dorm:​dorm_name, #2] <br> | + | easy | 
  | SPIDER_train_5671 | What are the names of all the dorms that can accomdate more than 300 students? | SELECT dorm_name FROM dorm WHERE student_capacity  >  300 | 1. SELECT[tbl:​Dorm] <br>2. PROJECT[col:​Dorm:​student_capacity, #1] <br>3. COMPARATIVE[#1, #2, comparative:​>:​300:​col:​Dorm:​student_capacity] <br>4. PROJECT[col:​Dorm:​dorm_name, #3] <br> | 1. SELECT[tbl:​Dorm] <br>2. PROJECT[col:​Dorm:​student_capacity, #1] <br>3. COMPARATIVE[#1, #2, comparative:​>:​300:​col:​Dorm:​student_capacity] <br>4. PROJECT[col:​Dorm:​dorm_name, #3] <br> | + | easy | 
  | SPIDER_train_5672 | How many female students (sex is F) whose age is below 25? | SELECT count(*) FROM student WHERE sex  =  'F' AND age  <  25 | 1. SELECT[tbl:​Student] <br>2. PROJECT[col:​Student:​Sex, #1] <br>3. COMPARATIVE[#1, #2, comparative:​=:​F:​col:​Student:​Sex] <br>4. PROJECT[col:​Student:​Age, #3] <br>5. COMPARATIVE[#3, #4, comparative:​<:​25:​col:​Student:​Age] <br>6. AGGREGATE[count, #5] <br> | 1. SELECT[tbl:​Student] <br>2. PROJECT[col:​Student:​Sex, #1] <br>3. COMPARATIVE[#1, #2, comparative:​=:​F:​col:​Student:​Sex] <br>4. PROJECT[col:​Student:​Age, #3] <br>5. COMPARATIVE[#3, #4, comparative:​<:​25:​col:​Student:​Age] <br>6. AGGREGATE[count, #5] <br> | + | medium | 
  | SPIDER_train_5674 | Find the first name of students who is older than 20. | SELECT fname FROM student WHERE age  >  20 | 1. SELECT[tbl:​Student] <br>2. FILTER[#1, comparative:​>:​20:​col:​Student:​Age] <br>3. PROJECT[col:​Student:​Fname, #2] <br> | 1. SELECT[tbl:​Student] <br>2. COMPARATIVE[#1, #1, comparative:​>:​20:​col:​Student:​Age] <br>3. PROJECT[col:​Student:​Fname, #2] <br> | + | easy | 
  | SPIDER_train_5675 | What are the first names of all students who are older than 20? | SELECT fname FROM student WHERE age  >  20 | 1. SELECT[tbl:​Student] <br>2. FILTER[#1, comparative:​>:​20:​col:​Student:​Age] <br>3. PROJECT[col:​Student:​Fname, #2] <br> | 1. SELECT[tbl:​Student] <br>2. COMPARATIVE[#1, #1, comparative:​>:​20:​col:​Student:​Age] <br>3. PROJECT[col:​Student:​Fname, #2] <br> | + | easy | 
  | SPIDER_train_5676 | Find the first name of students living in city PHL whose age is between 20 and 25. | SELECT fname FROM student WHERE city_code  =  'PHL' AND age BETWEEN 20 AND 25 | 1. SELECT[tbl:​Student] <br>2. PROJECT[col:​Student:​city_code, #1] <br>3. COMPARATIVE[#1, #2, comparative:​=:​PHL:​col:​Student:​city_code] <br>4. PROJECT[col:​Student:​Age, #3] <br>5. COMPARATIVE[#3, #4, comparative:​>=:​20:​col:​Student:​Age] <br>6. COMPARATIVE[#3, #4, comparative:​<=:​25:​col:​Student:​Age] <br>7. INTERSECTION[#3, #5, #6] <br>8. PROJECT[col:​Student:​Fname, #7] <br> | 1. SELECT[tbl:​Student] <br>2. PROJECT[col:​Student:​city_code, #1] <br>3. COMPARATIVE[#1, #2, comparative:​=:​PHL:​col:​Student:​city_code] <br>4. PROJECT[col:​Student:​Age, #3] <br>5. COMPARATIVE[#3, #4, comparative:​>=:​20:​col:​Student:​Age] <br>6. COMPARATIVE[#3, #4, comparative:​<=:​25:​col:​Student:​Age] <br>7. INTERSECTION[#3, #5, #6] <br>8. PROJECT[col:​Student:​Fname, #7] <br> | + | medium | 
  | SPIDER_train_5678 | How many dorms are there? | SELECT count(*) FROM dorm | 1. SELECT[tbl:​Dorm] <br>2. AGGREGATE[count, #1] <br> | 1. SELECT[tbl:​Dorm] <br>2. AGGREGATE[count, #1] <br> | + | easy | 
  | SPIDER_train_5679 | How many dorms are in the database? | SELECT count(*) FROM dorm | 1. SELECT[tbl:​Dorm] <br>2. AGGREGATE[count, #1] <br> | 1. SELECT[tbl:​Dorm] <br>2. AGGREGATE[count, #1] <br> | + | easy | 
  | SPIDER_train_5681 | How many diffrent dorm amenities are there? | SELECT count(*) FROM dorm_amenity | 1. SELECT[tbl:​Dorm_amenity] <br>2. PROJECT[tbl:​Dorm_amenity, #1] <br>3. PROJECT[diffrent #REF, #2] <br>4. AGGREGATE[count, #3] <br> | 1. SELECT[tbl:​Dorm_amenity] <br>2. PROJECT[tbl:​Dorm_amenity, #1] <br>3. PROJECT[None, #2] <br>4. AGGREGATE[count, #3] <br> | + | easy | 
  | SPIDER_train_5682 | Find the total capacity of all dorms. | SELECT sum(student_capacity) FROM dorm | 1. SELECT[tbl:​Dorm] <br>2. PROJECT[col:​Dorm:​student_capacity, #1] <br>3. AGGREGATE[sum, #2] <br> | 1. SELECT[tbl:​Dorm] <br>2. PROJECT[col:​Dorm:​student_capacity, #1] <br>3. AGGREGATE[sum, #2] <br> | + | easy | 
  | SPIDER_train_5683 | What is the total student capacity of all dorms? | SELECT sum(student_capacity) FROM dorm | 1. SELECT[tbl:​Dorm] <br>2. PROJECT[col:​Dorm:​student_capacity, #1] <br>3. AGGREGATE[sum, #2] <br> | 1. SELECT[tbl:​Dorm] <br>2. PROJECT[col:​Dorm:​student_capacity, #1] <br>3. AGGREGATE[sum, #2] <br> | + | easy | 
  | SPIDER_train_5685 | How many students exist? | SELECT count(*) FROM student | 1. SELECT[tbl:​Student] <br>2. AGGREGATE[count, #1] <br> | 1. SELECT[tbl:​Student] <br>2. AGGREGATE[count, #1] <br> | + | easy | 
  | SPIDER_train_5688 | Find the average and total capacity of dorms for the students with gender X. | SELECT avg(student_capacity) ,  sum(student_capacity) FROM dorm WHERE gender  =  'X' | 1. SELECT[col:​Dorm:​student_capacity] <br>2. PROJECT[col:​Dorm:​gender, #1] <br>3. COMPARATIVE[#1, #2, comparative:​=:​X:​col:​Dorm:​gender] <br>4. PROJECT[tbl:​Dorm, #3] <br>5. PROJECT[col:​Dorm:​student_capacity, #4] <br>6. AGGREGATE[avg, #5] <br>7. AGGREGATE[sum, #5] <br>8. UNION[#6, #7] <br> | 1. SELECT[col:​Dorm:​student_capacity] <br>2. PROJECT[col:​Dorm:​gender, #1] <br>3. COMPARATIVE[#1, #2, comparative:​=:​X:​col:​Dorm:​gender] <br>4. PROJECT[tbl:​Dorm, #3] <br>5. PROJECT[col:​Dorm:​student_capacity, #4] <br>6. AGGREGATE[avg, #5] <br>7. AGGREGATE[sum, #5] <br>8. UNION[#6, #7] <br> | + | medium | 
  | SPIDER_train_5689 | What is the average and total capacity for all dorms who are of gender X? | SELECT avg(student_capacity) ,  sum(student_capacity) FROM dorm WHERE gender  =  'X' | 1. SELECT[tbl:​Dorm] <br>2. PROJECT[col:​Dorm:​gender, #1] <br>3. COMPARATIVE[#1, #2, comparative:​=:​X:​col:​Dorm:​gender] <br>4. PROJECT[col:​Dorm:​student_capacity, #3] <br>5. AGGREGATE[avg, #4] <br>6. AGGREGATE[sum, #4] <br>7. UNION[#5, #6] <br> | 1. SELECT[tbl:​Dorm] <br>2. PROJECT[col:​Dorm:​gender, #1] <br>3. COMPARATIVE[#1, #2, comparative:​=:​X:​col:​Dorm:​gender] <br>4. PROJECT[col:​Dorm:​student_capacity, #3] <br>5. AGGREGATE[avg, #4] <br>6. AGGREGATE[sum, #4] <br>7. UNION[#5, #6] <br> | + | medium | 
  | SPIDER_train_5690 | Find the number of dorms that have some amenity. | SELECT count(DISTINCT dormid) FROM has_amenity | 1. SELECT[col:​Has_amenity:​dormid] <br>2. FILTER[#1, tbl:​Has_amenity] <br>3. AGGREGATE[count, #2] <br> | 1. SELECT[col:​Has_amenity:​dormid] <br>2. COMPARATIVE[#1, #1, tbl:​Has_amenity] <br>3. AGGREGATE[count, #2] <br> | + | easy | 
  | SPIDER_train_5691 | How many dorms have amenities? | SELECT count(DISTINCT dormid) FROM has_amenity | 1. SELECT[col:​Has_amenity:​dormid] <br>2. FILTER[#1, tbl:​Has_amenity] <br>3. AGGREGATE[count, #2] <br> | 1. SELECT[col:​Has_amenity:​dormid] <br>2. COMPARATIVE[#1, #1, tbl:​Has_amenity] <br>3. AGGREGATE[count, #2] <br> | + | easy | 
  | SPIDER_train_5692 | Find the name of dorms that do not have any amenity | SELECT dorm_name FROM dorm WHERE dormid NOT IN (SELECT dormid FROM has_amenity) | 1. SELECT[tbl:​Dorm] <br>2. FILTER[#1, tbl:​Has_amenity] <br>3. DISCARD[#1, #2] <br>4. PROJECT[col:​Dorm:​dorm_name, #3] <br> | 1. SELECT[tbl:​Dorm] <br>2. COMPARATIVE[#1, #1, tbl:​Has_amenity] <br>3. DISCARD[#1, #2] <br>4. PROJECT[col:​Dorm:​dorm_name, #3] <br> | + | hard | 
  | SPIDER_train_5693 | What are the names of all the dorms that don't have any amenities? | SELECT dorm_name FROM dorm WHERE dormid NOT IN (SELECT dormid FROM has_amenity) | 1. SELECT[tbl:​Dorm] <br>2. FILTER[#1, tbl:​Has_amenity] <br>3. DISCARD[#1, #2] <br>4. PROJECT[col:​Dorm:​dorm_name, #3] <br> | 1. SELECT[tbl:​Dorm] <br>2. COMPARATIVE[#1, #1, tbl:​Has_amenity] <br>3. DISCARD[#1, #2] <br>4. PROJECT[col:​Dorm:​dorm_name, #3] <br> | + | hard | 
  | SPIDER_train_5694 | Find the number of distinct gender for dorms. | SELECT count(DISTINCT gender) FROM dorm | 1. SELECT[tbl:​Dorm] <br>2.*(distinct)* PROJECT[col:​Dorm:​gender, #1] <br>3. AGGREGATE[count, #2] <br> | 1. SELECT[tbl:​Dorm] <br>2.*(distinct)* PROJECT[col:​Dorm:​gender, #1] <br>3. AGGREGATE[count, #2] <br> | + | easy | 
  | SPIDER_train_5695 | How many different genders are there in the dorms? | SELECT count(DISTINCT gender) FROM dorm | 1. SELECT[tbl:​Dorm] <br>2. PROJECT[col:​Dorm:​gender, #1] <br>3.*(distinct)* PROJECT[different #REF, #2] <br>4. AGGREGATE[count, #3] <br> | 1. SELECT[tbl:​Dorm] <br>2. PROJECT[col:​Dorm:​gender, #1] <br>3.*(distinct)* PROJECT[None, #2] <br>4. AGGREGATE[count, #3] <br> | + | easy | 
  | SPIDER_train_5696 | Find the capacity and gender type of the dorm whose name has substring ‘Donor’. | SELECT student_capacity ,  gender FROM dorm WHERE dorm_name LIKE '%Donor%' | 1. SELECT[tbl:​Dorm] <br>2. PROJECT[col:​Dorm:​dorm_name, #1] <br>3. COMPARATIVE[#1, #2, comparative:​like:​%Donor%:​col:​Dorm:​dorm_name] <br>4. PROJECT[col:​Dorm:​student_capacity, #3] <br>5. PROJECT[col:​Dorm:​gender, #3] <br>6. UNION[#4, #5] <br> | 1. SELECT[tbl:​Dorm] <br>2. PROJECT[col:​Dorm:​dorm_name, #1] <br>3. COMPARATIVE[#1, #2, comparative:​like:​Donor:​col:​Dorm:​dorm_name] <br>4. PROJECT[col:​Dorm:​student_capacity, #3] <br>5. PROJECT[col:​Dorm:​gender, #3] <br>6. UNION[#4, #5] <br> | + | medium | 
  | SPIDER_train_5697 | What is the student capacity and type of gender for the dorm whose name as the phrase Donor in it? | SELECT student_capacity ,  gender FROM dorm WHERE dorm_name LIKE '%Donor%' | 1. SELECT[tbl:​Dorm] <br>2. PROJECT[col:​Dorm:​dorm_name, #1] <br>3. COMPARATIVE[#1, #2, comparative:​like:​%Donor%:​col:​Dorm:​dorm_name] <br>4. PROJECT[col:​Dorm:​student_capacity, #3] <br>5. PROJECT[col:​Dorm:​gender, #3] <br>6. PROJECT[type of #REF, #5] <br>7. UNION[#4, #6] <br> | 1. SELECT[tbl:​Dorm] <br>2. PROJECT[col:​Dorm:​dorm_name, #1] <br>3. COMPARATIVE[#1, #2, comparative:​like:​Donor:​col:​Dorm:​dorm_name] <br>4. PROJECT[col:​Dorm:​student_capacity, #3] <br>5. PROJECT[col:​Dorm:​gender, #3] <br>6. PROJECT[None, #5] <br>7. UNION[#4, #6] <br> | + | medium | 
  | SPIDER_train_5698 | Find the name and gender type of the dorms whose capacity is greater than 300 or less than 100. | SELECT dorm_name ,  gender FROM dorm WHERE student_capacity  >  300 OR student_capacity  <  100 | 1. SELECT[tbl:​Dorm] <br>2. PROJECT[col:​Dorm:​student_capacity, #1] <br>3. COMPARATIVE[#1, #2, comparative:​<:​100:​col:​Dorm:​student_capacity] <br>4. COMPARATIVE[#1, #2, comparative:​>:​300:​col:​Dorm:​student_capacity] <br>5. UNION[#3, #4] <br>6. PROJECT[col:​Dorm:​dorm_name, #5] <br>7. PROJECT[col:​Dorm:​gender, #5] <br>8. UNION[#6, #7] <br> | 1. SELECT[tbl:​Dorm] <br>2. PROJECT[col:​Dorm:​student_capacity, #1] <br>3. COMPARATIVE[#1, #2, comparative:​<:​100:​col:​Dorm:​student_capacity] <br>4. COMPARATIVE[#1, #2, comparative:​>:​300:​col:​Dorm:​student_capacity] <br>5. UNION[#3, #4] <br>6. PROJECT[col:​Dorm:​dorm_name, #5] <br>7. PROJECT[col:​Dorm:​gender, #5] <br>8. UNION[#6, #7] <br> | + | extra | 
  | SPIDER_train_5702 | Find the name of dorms which have both TV Lounge and Study Room as amenities. | SELECT T1.dorm_name FROM dorm AS T1 JOIN has_amenity AS T2 ON T1.dormid  =  T2.dormid JOIN dorm_amenity AS T3 ON T2.amenid  =  T3.amenid WHERE T3.amenity_name  =  'TV Lounge' INTERSECT SELECT T1.dorm_name FROM dorm AS T1 JOIN has_amenity AS T2 ON T1.dormid  =  T2.dormid JOIN dorm_amenity AS T3 ON T2.amenid  =  T3.amenid WHERE T3.amenity_name  =  'Study Room' | 1. SELECT[tbl:​Dorm] <br>2. PROJECT[tbl:​Dorm_amenity, #1] <br>3. COMPARATIVE[#1, #2, comparative:​=:​TV Lounge:​col:​Dorm_amenity:​amenity_name] <br>4. COMPARATIVE[#1, #2, comparative:​=:​Study Room:​col:​Dorm_amenity:​amenity_name] <br>5. INTERSECTION[#1, #3, #4] <br>6. PROJECT[col:​Dorm:​dorm_name, #5] <br> | 1. SELECT[tbl:​Dorm] <br>2. PROJECT[tbl:​Dorm_amenity, #1] <br>3. COMPARATIVE[#1, #2, comparative:​=:​TV Lounge:​col:​Dorm_amenity:​amenity_name] <br>4. COMPARATIVE[#1, #2, comparative:​=:​Study Room:​col:​Dorm_amenity:​amenity_name] <br>5. INTERSECTION[#1, #3, #4] <br>6. PROJECT[col:​Dorm:​dorm_name, #5] <br> | + | extra | 
  | SPIDER_train_5703 | What is the name of the dorm with both a TV Lounge and Study Room listed as amenities? | SELECT T1.dorm_name FROM dorm AS T1 JOIN has_amenity AS T2 ON T1.dormid  =  T2.dormid JOIN dorm_amenity AS T3 ON T2.amenid  =  T3.amenid WHERE T3.amenity_name  =  'TV Lounge' INTERSECT SELECT T1.dorm_name FROM dorm AS T1 JOIN has_amenity AS T2 ON T1.dormid  =  T2.dormid JOIN dorm_amenity AS T3 ON T2.amenid  =  T3.amenid WHERE T3.amenity_name  =  'Study Room' | 1. SELECT[tbl:​Dorm] <br>2. PROJECT[tbl:​Dorm_amenity, #1] <br>3. COMPARATIVE[#1, #2, comparative:​=:​TV Lounge:​col:​Dorm_amenity:​amenity_name] <br>4. COMPARATIVE[#1, #2, comparative:​=:​Study Room:​col:​Dorm_amenity:​amenity_name] <br>5. INTERSECTION[#1, #3, #4] <br>6. PROJECT[col:​Dorm:​dorm_name, #5] <br> | 1. SELECT[tbl:​Dorm] <br>2. PROJECT[tbl:​Dorm_amenity, #1] <br>3. COMPARATIVE[#1, #2, comparative:​=:​TV Lounge:​col:​Dorm_amenity:​amenity_name] <br>4. COMPARATIVE[#1, #2, comparative:​=:​Study Room:​col:​Dorm_amenity:​amenity_name] <br>5. INTERSECTION[#1, #3, #4] <br>6. PROJECT[col:​Dorm:​dorm_name, #5] <br> | + | extra | 
  | SPIDER_train_5708 | Find the name of the dorm with the largest capacity. | SELECT dorm_name FROM dorm ORDER BY student_capacity DESC LIMIT 1 | 1. SELECT[tbl:​Dorm] <br>2. PROJECT[col:​Dorm:​student_capacity, #1] <br>3. SUPERLATIVE[comparative:​max:​None, #1, #2] <br>4. PROJECT[col:​Dorm:​dorm_name, #3] <br> | 1. SELECT[tbl:​Dorm] <br>2. PROJECT[col:​Dorm:​student_capacity, #1] <br>3. SUPERLATIVE[comparative:​max:​None, #1, #2] <br>4. PROJECT[col:​Dorm:​dorm_name, #3] <br> | + | medium | 
  | SPIDER_train_5709 | What are the names of the dorm with the largest capacity? | SELECT dorm_name FROM dorm ORDER BY student_capacity DESC LIMIT 1 | 1. SELECT[tbl:​Dorm] <br>2. PROJECT[col:​Dorm:​student_capacity, #1] <br>3. SUPERLATIVE[comparative:​max:​None, #1, #2] <br>4. PROJECT[col:​Dorm:​dorm_name, #3] <br> | 1. SELECT[tbl:​Dorm] <br>2. PROJECT[col:​Dorm:​student_capacity, #1] <br>3. SUPERLATIVE[comparative:​max:​None, #1, #2] <br>4. PROJECT[col:​Dorm:​dorm_name, #3] <br> | + | medium | 
  | SPIDER_train_5710 | List in alphabetic order all different amenities. | SELECT amenity_name FROM dorm_amenity ORDER BY amenity_name | 1. SELECT[col:​Dorm_amenity:​amenity_name] <br>2.*(distinct)* PROJECT[different #REF, #1] <br>3. SORT[#2, #2, sortdir:​ascending] <br> | 1. SELECT[col:​Dorm_amenity:​amenity_name] <br>2.*(distinct)* PROJECT[None, #1] <br>3. SORT[#2, #2, sortdir:​ascending] <br> | + | easy | 
  | SPIDER_train_5712 | Find the code of city where most of students are living in. | SELECT city_code FROM student GROUP BY city_code ORDER BY count(*) DESC LIMIT 1 | 1. SELECT[col:​Student:​city_code] <br>2. PROJECT[tbl:​Student, #1] <br>3. GROUP[count, #2, #1] <br>4. SUPERLATIVE[comparative:​max:​None, #1, #3] <br>5. PROJECT[col:​Student:​city_code, #4] <br> | 1. SELECT[col:​Student:​city_code] <br>2. PROJECT[tbl:​Student, #1] <br>3. GROUP[count, #2, #1] <br>4. SUPERLATIVE[comparative:​max:​None, #1, #3] <br>5. PROJECT[col:​Student:​city_code, #4] <br> | + | hard | 
  | SPIDER_train_5713 | What is the code of the city with the most students? | SELECT city_code FROM student GROUP BY city_code ORDER BY count(*) DESC LIMIT 1 | 1. SELECT[col:​Student:​city_code] <br>2. PROJECT[tbl:​Student, #1] <br>3. GROUP[count, #2, #1] <br>4. SUPERLATIVE[comparative:​max:​None, #1, #3] <br>5. PROJECT[col:​Student:​city_code, #4] <br> | 1. SELECT[col:​Student:​city_code] <br>2. PROJECT[tbl:​Student, #1] <br>3. GROUP[count, #2, #1] <br>4. SUPERLATIVE[comparative:​max:​None, #1, #3] <br>5. PROJECT[col:​Student:​city_code, #4] <br> | + | hard | 
  | SPIDER_train_5717 | What are the first and last names of all students who are not living in the city HKG and order the results by age? | SELECT fname ,  lname FROM student WHERE city_code != 'HKG' ORDER BY age | 1. SELECT[tbl:​Student] <br>2. PROJECT[col:​Student:​city_code, #1] <br>3. COMPARATIVE[#1, #2, comparative:​!=:​HKG:​col:​Student:​city_code] <br>4. PROJECT[col:​Student:​Fname, #3] <br>5. PROJECT[col:​Student:​LName, #3] <br>6. PROJECT[col:​Student:​Age, #3] <br>7. UNION[#4, #5] <br>8. SORT[#7, #6] <br> | 1. SELECT[tbl:​Student] <br>2. PROJECT[col:​Student:​city_code, #1] <br>3. COMPARATIVE[#1, #2, comparative:​!=:​HKG:​col:​Student:​city_code] <br>4. PROJECT[col:​Student:​Fname, #3] <br>5. PROJECT[col:​Student:​LName, #3] <br>6. PROJECT[col:​Student:​Age, #3] <br>7. UNION[#4, #5] <br>8. SORT[#7, #6, sortdir:​ascending] <br> | + | medium | 
  | SPIDER_train_5718 | List name of all amenities which Anonymous Donor Hall has, and sort the results in alphabetic order. | SELECT T1.amenity_name FROM dorm_amenity AS T1 JOIN has_amenity AS T2 ON T2.amenid  =  T1.amenid JOIN dorm AS T3 ON T2.dormid  =  T3.dormid WHERE T3.dorm_name  =  'Anonymous Donor Hall' ORDER BY T1.amenity_name | 1. SELECT[val:​Dorm:​dorm_name:​Anonymous Donor Hall] <br>2. PROJECT[tbl:​Dorm_amenity, #1] <br>3. PROJECT[col:​Dorm_amenity:​amenity_name, #2] <br>4. SORT[#3, #3, sortdir:​ascending] <br> | 1. SELECT[val:​Dorm:​dorm_name:​Anonymous Donor Hall] <br>2. PROJECT[tbl:​Dorm_amenity, #1] <br>3. PROJECT[col:​Dorm_amenity:​amenity_name, #2] <br>4. SORT[#3, #3, sortdir:​ascending] <br> | + | extra | 
  | SPIDER_train_5719 | What are the amenities in alphabetical order that Anonymous Donor Hall has? | SELECT T1.amenity_name FROM dorm_amenity AS T1 JOIN has_amenity AS T2 ON T2.amenid  =  T1.amenid JOIN dorm AS T3 ON T2.dormid  =  T3.dormid WHERE T3.dorm_name  =  'Anonymous Donor Hall' ORDER BY T1.amenity_name | 1. SELECT[val:​Dorm:​dorm_name:​Anonymous Donor Hall] <br>2. PROJECT[col:​Dorm_amenity:​amenity_name, #1] <br>3. SORT[#2, #2, sortdir:​ascending] <br> | 1. SELECT[val:​Dorm:​dorm_name:​Anonymous Donor Hall] <br>2. PROJECT[col:​Dorm_amenity:​amenity_name, #1] <br>3. SORT[#2, #2, sortdir:​ascending] <br> | + | extra | 
  | SPIDER_train_5731 | How many students are from each city, and which cities have more than one cities? | SELECT count(*) ,  city_code FROM student GROUP BY city_code HAVING count(*)  >  1 | 1. SELECT[col:​Student:​city_code] <br>2. PROJECT[tbl:​Student, #1] <br>3. GROUP[count, #2, #1] <br>4. COMPARATIVE[#1, #3, comparative:​>:​1] <br>5. UNION[#3, #4] <br> | 1. SELECT[col:​Student:​city_code] <br>2. PROJECT[tbl:​Student, #1] <br>3. GROUP[count, #2, #1] <br>4. COMPARATIVE[#1, #3, comparative:​>:​1] <br>5. UNION[#3, #4] <br> | + | medium | 
  | SPIDER_train_5736 | Find the average age of students living in each dorm and the name of dorm. | SELECT avg(T1.age) ,  T3.dorm_name FROM student AS T1 JOIN lives_in AS T2 ON T1.stuid  =  T2.stuid JOIN dorm AS T3 ON T3.dormid  =  T2.dormid GROUP BY T3.dorm_name | 1. SELECT[col:​Dorm:​dorm_name] <br>2. PROJECT[tbl:​Student, #1] <br>3. PROJECT[col:​Student:​Age, #2] <br>4. GROUP[avg, #3, #1] <br>5. PROJECT[col:​Dorm:​dorm_name, #1] <br>6. UNION[#4, #5] <br> | 1. SELECT[col:​Dorm:​dorm_name] <br>2. PROJECT[tbl:​Student, #1] <br>3. PROJECT[col:​Student:​Age, #2] <br>4. GROUP[avg, #3, #1] <br>5. PROJECT[col:​Dorm:​dorm_name, #1] <br>6. UNION[#4, #5] <br> | + | hard | 
  | SPIDER_train_5742 | Find the first name of students who are living in the Smith Hall. | SELECT T1.fname FROM student AS T1 JOIN lives_in AS T2 ON T1.stuid  =  T2.stuid JOIN dorm AS T3 ON T3.dormid  =  T2.dormid WHERE T3.dorm_name  =  'Smith Hall' | 1. SELECT[tbl:​Student] <br>2. FILTER[#1, comparative:​=:​Smith Hall:​col:​Dorm:​dorm_name] <br>3. PROJECT[col:​Student:​Fname, #2] <br> | 1. SELECT[tbl:​Student] <br>2. COMPARATIVE[#1, #1, comparative:​=:​Smith Hall:​col:​Dorm:​dorm_name] <br>3. PROJECT[col:​Student:​Fname, #2] <br> | + | hard | 
  | SPIDER_train_5743 | What are the first names of all students in Smith Hall? | SELECT T1.fname FROM student AS T1 JOIN lives_in AS T2 ON T1.stuid  =  T2.stuid JOIN dorm AS T3 ON T3.dormid  =  T2.dormid WHERE T3.dorm_name  =  'Smith Hall' | 1. SELECT[tbl:​Student] <br>2. PROJECT[col:​Student:​Fname, #1] <br>3. COMPARATIVE[#2, #1, comparative:​=:​Smith Hall:​col:​Dorm:​dorm_name] <br> | 1. SELECT[tbl:​Student] <br>2. PROJECT[col:​Student:​Fname, #1] <br>3. COMPARATIVE[#2, #1, comparative:​=:​Smith Hall:​col:​Dorm:​dorm_name] <br> | + | hard | 
  | SPIDER_train_5744 | Find the average age of students who are living in the dorm with the largest capacity. | SELECT avg(T1.age) FROM student AS T1 JOIN lives_in AS T2 ON T1.stuid  =  T2.stuid JOIN dorm AS T3 ON T3.dormid  =  T2.dormid WHERE T3.student_capacity  =  (SELECT max(student_capacity) FROM dorm) | 1. SELECT[tbl:​Dorm] <br>2. PROJECT[col:​Dorm:​student_capacity, #1] <br>3. SUPERLATIVE[comparative:​max:​None, #1, #2] <br>4. PROJECT[tbl:​Student, #3] <br>5. PROJECT[col:​Student:​Age, #4] <br>6. AGGREGATE[avg, #5] <br> | 1. SELECT[tbl:​Dorm] <br>2. PROJECT[col:​Dorm:​student_capacity, #1] <br>3. SUPERLATIVE[comparative:​max:​None, #1, #2] <br>4. PROJECT[tbl:​Student, #3] <br>5. PROJECT[col:​Student:​Age, #4] <br>6. AGGREGATE[avg, #5] <br> | + | extra | 
  | SPIDER_train_5745 | What is the average age of students who are living in the dorm with the largest capacity? | SELECT avg(T1.age) FROM student AS T1 JOIN lives_in AS T2 ON T1.stuid  =  T2.stuid JOIN dorm AS T3 ON T3.dormid  =  T2.dormid WHERE T3.student_capacity  =  (SELECT max(student_capacity) FROM dorm) | 1. SELECT[tbl:​Dorm] <br>2. PROJECT[col:​Dorm:​student_capacity, #1] <br>3. SUPERLATIVE[comparative:​max:​None, #1, #2] <br>4. PROJECT[tbl:​Lives_in, #3] <br>5. PROJECT[col:​Student:​Age, #4] <br>6. AGGREGATE[avg, #5] <br> | 1. SELECT[tbl:​Dorm] <br>2. PROJECT[col:​Dorm:​student_capacity, #1] <br>3. SUPERLATIVE[comparative:​max:​None, #1, #2] <br>4. PROJECT[tbl:​Lives_in, #3] <br>5. PROJECT[col:​Student:​Age, #4] <br>6. AGGREGATE[avg, #5] <br> | + | extra | 
  | SPIDER_train_5746 | Find the total number of students living in the male dorm (with gender M). | SELECT count(*) FROM student AS T1 JOIN lives_in AS T2 ON T1.stuid  =  T2.stuid JOIN dorm AS T3 ON T3.dormid  =  T2.dormid WHERE T3.gender  =  'M' | 1. SELECT[tbl:​Student] <br>2. PROJECT[tbl:​Dorm, #1] <br>3. PROJECT[col:​Dorm:​gender, #2] <br>4. COMPARATIVE[#1, #3, comparative:​=:​M:​col:​Dorm:​gender] <br>5. AGGREGATE[count, #4] <br> | 1. SELECT[tbl:​Student] <br>2. PROJECT[tbl:​Dorm, #1] <br>3. PROJECT[col:​Dorm:​gender, #2] <br>4. COMPARATIVE[#1, #3, comparative:​=:​M:​col:​Dorm:​gender] <br>5. AGGREGATE[count, #4] <br> | + | hard | 
  | SPIDER_train_5747 | What are the total number of students who are living in a male dorm? | SELECT count(*) FROM student AS T1 JOIN lives_in AS T2 ON T1.stuid  =  T2.stuid JOIN dorm AS T3 ON T3.dormid  =  T2.dormid WHERE T3.gender  =  'M' | 1. SELECT[tbl:​Student] <br>2. PROJECT[tbl:​Lives_in, #1] <br>3. COMPARATIVE[#1, #2, comparative:​=:​M:​col:​Dorm:​gender] <br>4. AGGREGATE[count, #3] <br> | 1. SELECT[tbl:​Student] <br>2. PROJECT[tbl:​Lives_in, #1] <br>3. COMPARATIVE[#1, #2, comparative:​=:​M:​col:​Dorm:​gender] <br>4. AGGREGATE[count, #3] <br> | + | hard | 
  | SPIDER_train_5748 | Find the number of female students (with F sex) living in Smith Hall | SELECT count(*) FROM student AS T1 JOIN lives_in AS T2 ON T1.stuid  =  T2.stuid JOIN dorm AS T3 ON T3.dormid  =  T2.dormid WHERE T3.dorm_name  =  'Smith Hall' AND T1.sex  =  'F' | 1. SELECT[tbl:​Student] <br>2. FILTER[#1, comparative:​=:​Smith Hall:​col:​Dorm:​dorm_name] <br>3. PROJECT[col:​Student:​Sex, #2] <br>4. COMPARATIVE[#2, #3, comparative:​=:​F:​col:​Student:​Sex] <br>5. AGGREGATE[count, #4] <br> | 1. SELECT[tbl:​Student] <br>2. COMPARATIVE[#1, #1, comparative:​=:​Smith Hall:​col:​Dorm:​dorm_name] <br>3. PROJECT[col:​Student:​Sex, #2] <br>4. COMPARATIVE[#2, #3, comparative:​=:​F:​col:​Student:​Sex] <br>5. AGGREGATE[count, #4] <br> | + | hard | 
  | SPIDER_train_5749 | How many female students live in Smith Hall? | SELECT count(*) FROM student AS T1 JOIN lives_in AS T2 ON T1.stuid  =  T2.stuid JOIN dorm AS T3 ON T3.dormid  =  T2.dormid WHERE T3.dorm_name  =  'Smith Hall' AND T1.sex  =  'F' | 1. SELECT[val:​Dorm:​dorm_name:​Smith Hall] <br>2. PROJECT[tbl:​Lives_in, #1] <br>3. FILTER[#2, comparative:​=:​F:​col:​Student:​Sex] <br>4. AGGREGATE[count, #3] <br> | 1. SELECT[val:​Dorm:​dorm_name:​Smith Hall] <br>2. PROJECT[tbl:​Lives_in, #1] <br>3. COMPARATIVE[#2, #2, comparative:​=:​F:​col:​Student:​Sex] <br>4. AGGREGATE[count, #3] <br> | + | hard | 
  | SPIDER_train_5750 | Find the name of amenities Smith Hall dorm have. | SELECT T3.amenity_name FROM dorm AS T1 JOIN has_amenity AS T2 ON T1.dormid  =  T2.dormid JOIN dorm_amenity AS T3 ON T2.amenid  =  T3.amenid WHERE T1.dorm_name  =  'Smith Hall' | 1. SELECT[tbl:​Dorm_amenity] <br>2. PROJECT[tbl:​Dorm_amenity, #1] <br>3. COMPARATIVE[#2, #1, comparative:​=:​Smith Hall:​col:​Dorm:​dorm_name] <br>4. PROJECT[col:​Dorm_amenity:​amenity_name, #3] <br> | 1. SELECT[tbl:​Dorm_amenity] <br>2. PROJECT[tbl:​Dorm_amenity, #1] <br>3. COMPARATIVE[#2, #1, comparative:​=:​Smith Hall:​col:​Dorm:​dorm_name] <br>4. PROJECT[col:​Dorm_amenity:​amenity_name, #3] <br> | + | hard | 
  | SPIDER_train_5751 | What are the names of the amenities that Smith Hall has? | SELECT T3.amenity_name FROM dorm AS T1 JOIN has_amenity AS T2 ON T1.dormid  =  T2.dormid JOIN dorm_amenity AS T3 ON T2.amenid  =  T3.amenid WHERE T1.dorm_name  =  'Smith Hall' | 1. SELECT[val:​Dorm:​dorm_name:​Smith Hall] <br>2. PROJECT[tbl:​Dorm_amenity, #1] <br>3. PROJECT[col:​Dorm_amenity:​amenity_name, #2] <br> | 1. SELECT[val:​Dorm:​dorm_name:​Smith Hall] <br>2. PROJECT[tbl:​Dorm_amenity, #1] <br>3. PROJECT[col:​Dorm_amenity:​amenity_name, #2] <br> | + | hard | 
  | SPIDER_train_5752 | Find the name of amenities Smith Hall dorm have. ordered the results by amenity names. | SELECT T3.amenity_name FROM dorm AS T1 JOIN has_amenity AS T2 ON T1.dormid  =  T2.dormid JOIN dorm_amenity AS T3 ON T2.amenid  =  T3.amenid WHERE T1.dorm_name  =  'Smith Hall' ORDER BY T3.amenity_name | 1. SELECT[tbl:​Dorm_amenity] <br>2. FILTER[#1, comparative:​=:​Smith Hall:​col:​Dorm:​dorm_name] <br>3. PROJECT[tbl:​Dorm_amenity, #2] <br>4. PROJECT[col:​Dorm_amenity:​amenity_name, #3] <br>5. SORT[#4, #4] <br> | 1. SELECT[tbl:​Dorm_amenity] <br>2. COMPARATIVE[#1, #1, comparative:​=:​Smith Hall:​col:​Dorm:​dorm_name] <br>3. PROJECT[tbl:​Dorm_amenity, #2] <br>4. PROJECT[col:​Dorm_amenity:​amenity_name, #3] <br>5. SORT[#4, #4, sortdir:​ascending] <br> | + | extra | 
  | SPIDER_train_5753 | What amenities does Smith Hall have in alphabetical order? | SELECT T3.amenity_name FROM dorm AS T1 JOIN has_amenity AS T2 ON T1.dormid  =  T2.dormid JOIN dorm_amenity AS T3 ON T2.amenid  =  T3.amenid WHERE T1.dorm_name  =  'Smith Hall' ORDER BY T3.amenity_name | 1. SELECT[val:​Dorm:​dorm_name:​Smith Hall] <br>2. PROJECT[col:​Dorm_amenity:​amenity_name, #1] <br>3. SORT[#2, #2, sortdir:​ascending] <br> | 1. SELECT[val:​Dorm:​dorm_name:​Smith Hall] <br>2. PROJECT[col:​Dorm_amenity:​amenity_name, #1] <br>3. SORT[#2, #2, sortdir:​ascending] <br> | + | extra | 
  | SPIDER_train_5754 | Find the name of amenity that is most common in all dorms. | SELECT T1.amenity_name FROM dorm_amenity AS T1 JOIN has_amenity AS T2 ON T1.amenid  =  T2.amenid GROUP BY T2.amenid ORDER BY count(*) DESC LIMIT 1 | 1. SELECT[col:​Has_amenity:​amenid] <br>2. PROJECT[tbl:​Dorm_amenity, #1] <br>3. GROUP[count, #2, #1] <br>4. SUPERLATIVE[comparative:​max:​None, #1, #3] <br>5. PROJECT[col:​Dorm_amenity:​amenity_name, #4] <br> | 1. SELECT[col:​Has_amenity:​amenid] <br>2. PROJECT[tbl:​Dorm_amenity, #1] <br>3. GROUP[count, #2, #1] <br>4. SUPERLATIVE[comparative:​max:​None, #1, #3] <br>5. PROJECT[col:​Dorm_amenity:​amenity_name, #4] <br> | + | extra | 
  | SPIDER_train_5756 | Find the first name of students who are living in the dorm that has most number of amenities. | SELECT T1.fname FROM student AS T1 JOIN lives_in AS T2 ON T1.stuid  =  T2.stuid WHERE T2.dormid IN (SELECT T2.dormid FROM dorm AS T3 JOIN has_amenity AS T4 ON T3.dormid  =  T4.dormid JOIN dorm_amenity AS T5 ON T4.amenid  =  T5.amenid GROUP BY T3.dormid ORDER BY count(*) DESC LIMIT 1) | 1. SELECT[tbl:​Dorm_amenity] <br>2. PROJECT[tbl:​Has_amenity, #1] <br>3. GROUP[count, #2, #1] <br>4. SUPERLATIVE[comparative:​max:​None, #1, #3] <br>5. PROJECT[tbl:​Lives_in, #4] <br>6. PROJECT[col:​Student:​Fname, #5] <br> | 1. SELECT[tbl:​Dorm_amenity] <br>2. PROJECT[tbl:​Has_amenity, #1] <br>3. GROUP[count, #2, #1] <br>4. SUPERLATIVE[comparative:​max:​None, #1, #3] <br>5. PROJECT[tbl:​Lives_in, #4] <br>6. PROJECT[col:​Student:​Fname, #5] <br> | + | extra | 
  | SPIDER_train_5757 | What are the first names of all students who live in the dorm with the most amenities? | SELECT T1.fname FROM student AS T1 JOIN lives_in AS T2 ON T1.stuid  =  T2.stuid WHERE T2.dormid IN (SELECT T2.dormid FROM dorm AS T3 JOIN has_amenity AS T4 ON T3.dormid  =  T4.dormid JOIN dorm_amenity AS T5 ON T4.amenid  =  T5.amenid GROUP BY T3.dormid ORDER BY count(*) DESC LIMIT 1) | 1. SELECT[tbl:​Dorm_amenity] <br>2. PROJECT[tbl:​Has_amenity, #1] <br>3. GROUP[count, #2, #1] <br>4. SUPERLATIVE[comparative:​max:​None, #1, #3] <br>5. PROJECT[tbl:​Lives_in, #4] <br>6. PROJECT[col:​Student:​Fname, #5] <br> | 1. SELECT[tbl:​Dorm_amenity] <br>2. PROJECT[tbl:​Has_amenity, #1] <br>3. GROUP[count, #2, #1] <br>4. SUPERLATIVE[comparative:​max:​None, #1, #3] <br>5. PROJECT[tbl:​Lives_in, #4] <br>6. PROJECT[col:​Student:​Fname, #5] <br> | + | extra | 
  | SPIDER_train_5758 | Find the name and capacity of the dorm with least number of amenities. | SELECT T1.dorm_name ,  T1.student_capacity FROM dorm AS T1 JOIN has_amenity AS T2 ON T1.dormid  =  T2.dormid JOIN dorm_amenity AS T3 ON T2.amenid  =  T3.amenid GROUP BY T2.dormid ORDER BY count(*) LIMIT 1 | 1. SELECT[tbl:​Dorm] <br>2. PROJECT[tbl:​Dorm_amenity, #1] <br>3. GROUP[count, #2, #1] <br>4. SUPERLATIVE[comparative:​min:​None, #1, #3] <br>5. PROJECT[col:​Dorm:​dorm_name, #4] <br>6. PROJECT[col:​Dorm:​student_capacity, #4] <br>7. UNION[#5, #6] <br> | 1. SELECT[tbl:​Dorm] <br>2. PROJECT[tbl:​Dorm_amenity, #1] <br>3. GROUP[count, #2, #1] <br>4. SUPERLATIVE[comparative:​min:​None, #1, #3] <br>5. PROJECT[col:​Dorm:​dorm_name, #4] <br>6. PROJECT[col:​Dorm:​student_capacity, #4] <br>7. UNION[#5, #6] <br> | + | extra | 
  | SPIDER_train_5759 | What is the name and capacity of the dorm with the fewest amount of amenities? | SELECT T1.dorm_name ,  T1.student_capacity FROM dorm AS T1 JOIN has_amenity AS T2 ON T1.dormid  =  T2.dormid JOIN dorm_amenity AS T3 ON T2.amenid  =  T3.amenid GROUP BY T2.dormid ORDER BY count(*) LIMIT 1 | 1. SELECT[tbl:​Dorm] <br>2. PROJECT[tbl:​Dorm_amenity, #1] <br>3. GROUP[count, #2, #1] <br>4. COMPARATIVE[#1, #3, comparative:​min:​None] <br>5. PROJECT[col:​Dorm:​dorm_name, #4] <br>6. PROJECT[col:​Dorm:​student_capacity, #4] <br>7. UNION[#5, #6] <br> | 1. SELECT[tbl:​Dorm] <br>2. PROJECT[tbl:​Dorm_amenity, #1] <br>3. GROUP[count, #2, #1] <br>4. SUPERLATIVE[comparative:​min:​None, #1, #3] <br>5. PROJECT[col:​Dorm:​dorm_name, #4] <br>6. PROJECT[col:​Dorm:​student_capacity, #4] <br>7. UNION[#5, #6] <br> | + | extra | 
  | SPIDER_train_5760 | Find the name of dorms that do not have amenity TV Lounge. | SELECT dorm_name FROM dorm EXCEPT SELECT T1.dorm_name FROM dorm AS T1 JOIN has_amenity AS T2 ON T1.dormid  =  T2.dormid JOIN dorm_amenity AS T3 ON T2.amenid  =  T3.amenid WHERE T3.amenity_name  =  'TV Lounge' | 1. SELECT[tbl:​Dorm] <br>2. FILTER[#1, comparative:​=:​TV Lounge:​col:​Dorm_amenity:​amenity_name] <br>3. DISCARD[#1, #2] <br>4. PROJECT[col:​Dorm:​dorm_name, #3] <br> | 1. SELECT[tbl:​Dorm] <br>2. COMPARATIVE[#1, #1, comparative:​=:​TV Lounge:​col:​Dorm_amenity:​amenity_name] <br>3. DISCARD[#1, #2] <br>4. PROJECT[col:​Dorm:​dorm_name, #3] <br> | + | hard | 
  | SPIDER_train_5762 | Find the first and last name of students who are living in the dorms that have amenity TV Lounge. | SELECT T1.fname ,  T1.lname FROM student AS T1 JOIN lives_in AS T2 ON T1.stuid  =  T2.stuid WHERE T2.dormid IN (SELECT T3.dormid FROM has_amenity AS T3 JOIN dorm_amenity AS T4 ON T3.amenid  =  T4.amenid WHERE T4.amenity_name  =  'TV Lounge') | 1. SELECT[tbl:​Dorm_amenity] <br>2. FILTER[#1, comparative:​=:​TV Lounge:​col:​Dorm_amenity:​amenity_name] <br>3. PROJECT[tbl:​Lives_in, #2] <br>4. PROJECT[col:​Student:​Fname, #3] <br>5. PROJECT[col:​Student:​LName, #3] <br>6. UNION[#4, #5] <br> | 1. SELECT[tbl:​Dorm_amenity] <br>2. COMPARATIVE[#1, #1, comparative:​=:​TV Lounge:​col:​Dorm_amenity:​amenity_name] <br>3. PROJECT[tbl:​Lives_in, #2] <br>4. PROJECT[col:​Student:​Fname, #3] <br>5. PROJECT[col:​Student:​LName, #3] <br>6. UNION[#4, #5] <br> | + | extra | 
  | SPIDER_train_5763 | What are the first and last names of all students who are living in a dorm with a TV Lounge? | SELECT T1.fname ,  T1.lname FROM student AS T1 JOIN lives_in AS T2 ON T1.stuid  =  T2.stuid WHERE T2.dormid IN (SELECT T3.dormid FROM has_amenity AS T3 JOIN dorm_amenity AS T4 ON T3.amenid  =  T4.amenid WHERE T4.amenity_name  =  'TV Lounge') | 1. SELECT[tbl:​Student] <br>2. PROJECT[tbl:​Dorm_amenity, #1] <br>3. COMPARATIVE[#1, #2, comparative:​=:​TV Lounge:​col:​Dorm_amenity:​amenity_name] <br>4. PROJECT[col:​Student:​Fname, #3] <br>5. PROJECT[col:​Student:​LName, #3] <br>6. UNION[#4, #5] <br> | 1. SELECT[tbl:​Student] <br>2. PROJECT[tbl:​Dorm_amenity, #1] <br>3. COMPARATIVE[#1, #2, comparative:​=:​TV Lounge:​col:​Dorm_amenity:​amenity_name] <br>4. PROJECT[col:​Student:​Fname, #3] <br>5. PROJECT[col:​Student:​LName, #3] <br>6. UNION[#4, #5] <br> | + | extra | 
  | SPIDER_train_5766 | Find the name of amenities of the dorm where the student with last name Smith is living in. | SELECT T3.amenity_name FROM dorm AS T1 JOIN has_amenity AS T2 ON T1.dormid  =  T2.dormid JOIN dorm_amenity AS T3 ON T2.amenid  =  T3.amenid JOIN lives_in AS T4 ON T4.dormid  =  T1.dormid JOIN student AS T5 ON T5.stuid  =  T4.stuid WHERE T5.lname  =  'Smith' | 1. SELECT[tbl:​Student] <br>2. PROJECT[tbl:​Has_amenity, #1] <br>3. COMPARATIVE[#1, #2, comparative:​=:​Smith:​col:​Student:​LName] <br>4. PROJECT[tbl:​Dorm, #3] <br>5. PROJECT[tbl:​Has_amenity, #4] <br>6. PROJECT[col:​Dorm_amenity:​amenity_name, #5] <br> | 1. SELECT[tbl:​Student] <br>2. PROJECT[tbl:​Has_amenity, #1] <br>3. COMPARATIVE[#1, #2, comparative:​=:​Smith:​col:​Student:​LName] <br>4. PROJECT[tbl:​Dorm, #3] <br>5. PROJECT[tbl:​Has_amenity, #4] <br>6. PROJECT[col:​Dorm_amenity:​amenity_name, #5] <br> | + | extra | 
  | SPIDER_train_5767 | What are the amenities in the dorm that a student who has the last name of Smith lives in? | SELECT T3.amenity_name FROM dorm AS T1 JOIN has_amenity AS T2 ON T1.dormid  =  T2.dormid JOIN dorm_amenity AS T3 ON T2.amenid  =  T3.amenid JOIN lives_in AS T4 ON T4.dormid  =  T1.dormid JOIN student AS T5 ON T5.stuid  =  T4.stuid WHERE T5.lname  =  'Smith' | 1. SELECT[tbl:​Student] <br>2. FILTER[#1, comparative:​=:​Smith:​col:​Student:​LName] <br>3. PROJECT[tbl:​Dorm, #2] <br>4. PROJECT[col:​Dorm_amenity:​amenity_name, #3] <br> | 1. SELECT[tbl:​Student] <br>2. COMPARATIVE[#1, #1, comparative:​=:​Smith:​col:​Student:​LName] <br>3. PROJECT[tbl:​Dorm, #2] <br>4. PROJECT[col:​Dorm_amenity:​amenity_name, #3] <br> | + | extra | 
 ***
 Exec acc: **1.0000**
