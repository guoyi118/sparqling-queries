 | Idx | Table      | Column | Primary Key | Foreign Key | 
 | ----------- | ----------- | ----------- | ----------- | ----------- | 
  | 0 |  | * |   |   | 
 | 1 | **classroom** | building | + |   | 
 | 2 |   | room_number |   |   | 
 | 3 |   | capacity |   |   | 
 | 4 | **department** | dept_name | + |   | 
 | 5 |   | building |   |   | 
 | 6 |   | budget |   |   | 
 | 7 | **course** | course_id | + |   | 
 | 8 |   | title |   |   | 
 | 9 |   | dept_name |   | --> 4 | 
 | 10 |   | credits |   |   | 
 | 11 | **instructor** | ID | + |   | 
 | 12 |   | name |   |   | 
 | 13 |   | dept_name |   | --> 4 | 
 | 14 |   | salary |   |   | 
 | 15 | **section** | course_id | + | --> 7 | 
 | 16 |   | sec_id |   |   | 
 | 17 |   | semester |   |   | 
 | 18 |   | year |   |   | 
 | 19 |   | building |   | --> 1 | 
 | 20 |   | room_number |   | --> 2 | 
 | 21 |   | time_slot_id |   |   | 
 | 22 | **teaches** | ID | + | --> 11 | 
 | 23 |   | course_id |   | --> 15 | 
 | 24 |   | sec_id |   | --> 16 | 
 | 25 |   | semester |   | --> 17 | 
 | 26 |   | year |   | --> 18 | 
 | 27 | **student** | ID | + |   | 
 | 28 |   | name |   |   | 
 | 29 |   | dept_name |   | --> 4 | 
 | 30 |   | tot_cred |   |   | 
 | 31 | **takes** | ID | + | --> 27 | 
 | 32 |   | course_id |   | --> 15 | 
 | 33 |   | sec_id |   | --> 16 | 
 | 34 |   | semester |   | --> 17 | 
 | 35 |   | year |   | --> 18 | 
 | 36 |   | grade |   |   | 
 | 37 | **advisor** | s_ID | + | --> 27 | 
 | 38 |   | i_ID |   | --> 11 | 
 | 39 | **time_slot** | time_slot_id | + |   | 
 | 40 |   | day |   |   | 
 | 41 |   | start_hr |   |   | 
 | 42 |   | start_min |   |   | 
 | 43 |   | end_hr |   |   | 
 | 44 |   | end_min |   |   | 
 | 45 | **prereq** | course_id | + | --> 7 | 
 | 46 |   | prereq_id |   | --> 7 | 
 
  | Index | Question  | SQL | gold QDMR | pred QDMR | Exec | SQL hardness |
  | ----------- | ----------- | ----------- |  ----------- | ----------- | ----------- | ----------- | 
 | SPIDER_train_1323 | What are the distinct buildings with capacities of greater than 50? | SELECT DISTINCT building FROM classroom WHERE capacity  >  50 | 1.*(distinct)* SELECT[col:​classroom:​building] <br>2. FILTER[#1, comparative:​>:​50:​col:​classroom:​capacity] <br> | 1.*(distinct)* SELECT[col:​classroom:​building] <br>2. COMPARATIVE[#1, #1, comparative:​>:​50:​col:​classroom:​capacity] <br> | + | easy | 
  | SPIDER_train_1326 | What is the name and building of the departments whose budget is more than the average budget? | SELECT dept_name ,  building FROM department WHERE budget  >  (SELECT avg(budget) FROM department) | 1. SELECT[tbl:​department] <br>2. PROJECT[col:​department:​budget, #1] <br>3. AGGREGATE[avg, #2] <br>4. COMPARATIVE[#1, #2, comparative:​>:​#3] <br>5. PROJECT[col:​department:​dept_name, #4] <br>6. PROJECT[col:​department:​building, #4] <br>7. UNION[#5, #6] <br> | 1. SELECT[tbl:​department] <br>2. PROJECT[col:​department:​budget, #1] <br>3. AGGREGATE[avg, #2] <br>4. COMPARATIVE[#1, #2, comparative:​>:​Dave:​col:​student:​name] <br>5. PROJECT[col:​department:​dept_name, #4] <br>6. PROJECT[col:​department:​building, #4] <br>7. UNION[#5, #6] <br> | - | extra | 
  | SPIDER_train_1327 | Give the name and building of the departments with greater than average budget. | SELECT dept_name ,  building FROM department WHERE budget  >  (SELECT avg(budget) FROM department) | 1. SELECT[tbl:​department] <br>2. PROJECT[col:​department:​budget, #1] <br>3. AGGREGATE[avg, #2] <br>4. COMPARATIVE[#1, #2, comparative:​>:​#3] <br>5. PROJECT[col:​department:​dept_name, #4] <br>6. PROJECT[col:​department:​building, #4] <br>7. UNION[#5, #6] <br> | 1. SELECT[tbl:​department] <br>2. PROJECT[col:​department:​budget, #1] <br>3. AGGREGATE[avg, #2] <br>4. COMPARATIVE[#1, #2, comparative:​>:​Dave:​col:​student:​name] <br>5. PROJECT[col:​department:​dept_name, #4] <br>6. PROJECT[col:​department:​building, #4] <br>7. UNION[#5, #6] <br> | - | extra | 
  | SPIDER_train_1331 | What is the department name and corresponding building for the department with the greatest budget? | SELECT dept_name ,  building FROM department ORDER BY budget DESC LIMIT 1 | 1. SELECT[tbl:​department] <br>2. PROJECT[col:​department:​budget, #1] <br>3. COMPARATIVE[#1, #2, comparative:​max:​None] <br>4. PROJECT[col:​department:​dept_name, #3] <br>5. PROJECT[col:​department:​building, #3] <br>6. UNION[#4, #5] <br> | 1. SELECT[tbl:​department] <br>2. PROJECT[col:​department:​budget, #1] <br>3. SUPERLATIVE[comparative:​max:​None, #1, #2] <br>4. PROJECT[col:​department:​dept_name, #3] <br>5. PROJECT[col:​department:​building, #3] <br>6. UNION[#4, #5] <br> | + | medium | 
  | SPIDER_train_1332 | What is the name of the student who has the highest total credits in the History department. | SELECT name FROM student WHERE dept_name  =  'History' ORDER BY tot_cred DESC LIMIT 1 | 1. SELECT[tbl:​student] <br>2. PROJECT[col:​student:​tot_cred, #1] <br>3. FILTER[#2, comparative:​=:​History:​col:​student:​dept_name] <br>4. GROUP[sum, #3, #1] <br>5. SUPERLATIVE[comparative:​max:​None, #1, #4] <br>6. PROJECT[col:​student:​name, #5] <br> | 1. SELECT[tbl:​student] <br>2. PROJECT[col:​student:​tot_cred, #1] <br>3. COMPARATIVE[#2, #2, comparative:​=:​History:​col:​student:​dept_name] <br>4. GROUP[sum, #3, #1] <br>5. SUPERLATIVE[comparative:​max:​None, #1, #4] <br>6. PROJECT[col:​student:​name, #5] <br> | + | hard | 
  | SPIDER_train_1333 | Give the name of the student in the History department with the most credits. | SELECT name FROM student WHERE dept_name  =  'History' ORDER BY tot_cred DESC LIMIT 1 | 1. SELECT[tbl:​student] <br>2. FILTER[#1, comparative:​=:​History:​col:​student:​dept_name] <br>3. PROJECT[col:​student:​tot_cred, #2] <br>4. GROUP[col:​student:​tot_cred, #3, #2] <br>5. SUPERLATIVE[comparative:​max:​None, #2, #4] <br>6. PROJECT[col:​student:​name, #5] <br> | 1. SELECT[tbl:​student] <br>2. COMPARATIVE[#1, #1, comparative:​=:​History:​col:​student:​dept_name] <br>3. PROJECT[col:​student:​tot_cred, #2] <br>4. GROUP[sum, #3, #2] <br>5. SUPERLATIVE[comparative:​max:​None, #2, #4] <br>6. PROJECT[col:​student:​name, #5] <br> | + | hard | 
  | SPIDER_train_1334 | How many rooms does the Lamberton building have? | SELECT count(*) FROM classroom WHERE building  =  'Lamberton' | 1. SELECT[col:​classroom:​building] <br>2. PROJECT[tbl:​classroom, #1] <br>3. COMPARATIVE[#2, #1, comparative:​=:​Lamberton:​col:​classroom:​building] <br>4. AGGREGATE[count, #3] <br> | 1. SELECT[col:​classroom:​building] <br>2. PROJECT[tbl:​classroom, #1] <br>3. COMPARATIVE[#2, #1, comparative:​=:​Lamberton:​col:​classroom:​building] <br>4. AGGREGATE[count, #3] <br> | + | easy | 
  | SPIDER_train_1335 | Count the number of classrooms in Lamberton. | SELECT count(*) FROM classroom WHERE building  =  'Lamberton' | 1. SELECT[tbl:​classroom] <br>2. FILTER[#1, comparative:​=:​Lamberton:​col:​classroom:​building] <br>3. AGGREGATE[count, #2] <br> | 1. SELECT[tbl:​classroom] <br>2. COMPARATIVE[#1, #1, comparative:​=:​Lamberton:​col:​classroom:​building] <br>3. AGGREGATE[count, #2] <br> | + | easy | 
  | SPIDER_train_1336 | How many students have advisors? | SELECT count(DISTINCT s_id) FROM advisor | 1. SELECT[col:​advisor:​s_ID] <br>2. FILTER[#1, tbl:​advisor] <br>3. AGGREGATE[count, #2] <br> | 1. SELECT[col:​advisor:​s_ID] <br>2. COMPARATIVE[#1, #1, tbl:​advisor] <br>3. AGGREGATE[count, #2] <br> | + | easy | 
  | SPIDER_train_1337 | Count the number of students who have advisors. | SELECT count(DISTINCT s_id) FROM advisor | 1. SELECT[col:​advisor:​s_ID] <br>2. FILTER[#1, tbl:​advisor] <br>3. AGGREGATE[count, #2] <br> | 1. SELECT[col:​advisor:​s_ID] <br>2. COMPARATIVE[#1, #1, tbl:​advisor] <br>3. AGGREGATE[count, #2] <br> | + | easy | 
  | SPIDER_train_1338 | How many departments offer courses? | SELECT count(DISTINCT dept_name) FROM course | 1. SELECT[col:​course:​dept_name] <br>2. FILTER[#1, tbl:​course] <br>3. AGGREGATE[count, #2] <br> | 1. SELECT[col:​course:​dept_name] <br>2. COMPARATIVE[#1, #1, tbl:​course] <br>3. AGGREGATE[count, #2] <br> | + | easy | 
  | SPIDER_train_1339 | Count the number of departments which offer courses. | SELECT count(DISTINCT dept_name) FROM course | 1. SELECT[col:​course:​dept_name] <br>2. FILTER[#1, tbl:​course] <br>3. AGGREGATE[count, #2] <br> | 1. SELECT[col:​course:​dept_name] <br>2. COMPARATIVE[#1, #1, tbl:​course] <br>3. AGGREGATE[count, #2] <br> | + | easy | 
  | SPIDER_train_1341 | Count the number of courses in the Physics department. | SELECT count(DISTINCT course_id) FROM course WHERE dept_name  =  'Physics' | 1. SELECT[tbl:​course] <br>2. PROJECT[departments of #REF, #1] <br>3. COMPARATIVE[#1, #2, comparative:​=:​Physics:​col:​course:​dept_name] <br>4. PROJECT[col:​course:​course_id, #3] <br>5. AGGREGATE[count, #4] <br> | 1. SELECT[tbl:​course] <br>2. PROJECT[None, #1] <br>3. COMPARATIVE[#1, #2, comparative:​=:​Physics:​col:​course:​dept_name] <br>4. PROJECT[col:​course:​course_id, #3] <br>5. AGGREGATE[count, #4] <br> | + | easy | 
  | SPIDER_train_1342 | Find the title of courses that have two prerequisites? | SELECT T1.title FROM course AS T1 JOIN prereq AS T2 ON T1.course_id  =  T2.course_id GROUP BY T2.course_id HAVING count(*)  =  2 | 1. SELECT[col:​prereq:​course_id] <br>2. PROJECT[tbl:​prereq, #1] <br>3. GROUP[count, #2, #1] <br>4. COMPARATIVE[#1, #3, comparative:​=:​2] <br>5. PROJECT[col:​course:​title, #4] <br> | 1. SELECT[col:​prereq:​course_id] <br>2. PROJECT[tbl:​prereq, #1] <br>3. GROUP[count, #2, #1] <br>4. COMPARATIVE[#1, #3, comparative:​=:​2] <br>5. PROJECT[col:​course:​title, #4] <br> | + | medium | 
  | SPIDER_train_1343 | What are the titles for courses with two prerequisites? | SELECT T1.title FROM course AS T1 JOIN prereq AS T2 ON T1.course_id  =  T2.course_id GROUP BY T2.course_id HAVING count(*)  =  2 | 1. SELECT[col:​prereq:​course_id] <br>2. PROJECT[tbl:​prereq, #1] <br>3. GROUP[count, #2, #1] <br>4. COMPARATIVE[#1, #3, comparative:​=:​2] <br>5. PROJECT[col:​course:​title, #4] <br> | 1. SELECT[col:​prereq:​course_id] <br>2. PROJECT[tbl:​prereq, #1] <br>3. GROUP[count, #2, #1] <br>4. COMPARATIVE[#1, #3, comparative:​=:​2] <br>5. PROJECT[col:​course:​title, #4] <br> | + | medium | 
  | SPIDER_train_1344 | Find the title, credit, and department name of courses that have more than one prerequisites? | SELECT T1.title ,  T1.credits , T1.dept_name FROM course AS T1 JOIN prereq AS T2 ON T1.course_id  =  T2.course_id GROUP BY T2.course_id HAVING count(*)  >  1 | 1. SELECT[col:​prereq:​course_id] <br>2. PROJECT[tbl:​prereq, #1] <br>3. GROUP[count, #2, #1] <br>4. COMPARATIVE[#1, #3, comparative:​>:​1] <br>5. PROJECT[col:​course:​title, #4] <br>6. PROJECT[col:​course:​credits, #4] <br>7. PROJECT[col:​course:​dept_name, #4] <br>8. UNION[#5, #6, #7] <br> | 1. SELECT[col:​prereq:​course_id] <br>2. PROJECT[tbl:​prereq, #1] <br>3. GROUP[count, #2, #1] <br>4. COMPARATIVE[#1, #3, comparative:​>:​1] <br>5. PROJECT[col:​course:​title, #4] <br>6. PROJECT[col:​course:​credits, #4] <br>7. PROJECT[col:​course:​dept_name, #4] <br>8. UNION[#5, #6, #7] <br> | + | medium | 
  | SPIDER_train_1345 | What is the title, credit value, and department name for courses with more than one prerequisite? | SELECT T1.title ,  T1.credits , T1.dept_name FROM course AS T1 JOIN prereq AS T2 ON T1.course_id  =  T2.course_id GROUP BY T2.course_id HAVING count(*)  >  1 | 1. SELECT[col:​prereq:​course_id] <br>2. PROJECT[tbl:​prereq, #1] <br>3. GROUP[count, #2, #1] <br>4. COMPARATIVE[#1, #3, comparative:​>:​1] <br>5. PROJECT[col:​course:​title, #4] <br>6. PROJECT[col:​course:​credits, #4] <br>7. PROJECT[col:​course:​dept_name, #4] <br>8. PROJECT[col:​course:​dept_name, #7] <br>9. UNION[#5, #6, #8] <br> | 1. SELECT[col:​prereq:​course_id] <br>2. PROJECT[tbl:​prereq, #1] <br>3. GROUP[count, #2, #1] <br>4. COMPARATIVE[#1, #3, comparative:​>:​1] <br>5. PROJECT[col:​course:​title, #4] <br>6. PROJECT[col:​course:​credits, #4] <br>7. PROJECT[col:​course:​dept_name, #4] <br>8. PROJECT[col:​course:​dept_name, #7] <br>9. UNION[#5, #6, #8] <br> | + | medium | 
  | SPIDER_train_1350 | How many different instructors have taught some course? | SELECT COUNT (DISTINCT id) FROM teaches | 1. SELECT[col:​teaches:​ID] <br>2. FILTER[#1, who have taught some course] <br>3.*(distinct)* PROJECT[different #REF, #2] <br>4. AGGREGATE[count, #3] <br> | 1. SELECT[col:​teaches:​ID] <br>2. COMPARATIVE[#1, #1, None] <br>3.*(distinct)* PROJECT[None, #2] <br>4. AGGREGATE[count, #3] <br> | + | easy | 
  | SPIDER_train_1351 | Count the number of distinct instructors who have taught a course. | SELECT COUNT (DISTINCT id) FROM teaches | 1. SELECT[col:​teaches:​ID] <br>2. FILTER[#1, who have taught a course] <br>3. AGGREGATE[count, #2] <br> | 1. SELECT[col:​teaches:​ID] <br>2. COMPARATIVE[#1, #1, None] <br>3. AGGREGATE[count, #2] <br> | + | easy | 
  | SPIDER_train_1354 | Find the department name of the instructor whose name contains 'Soisalon'. | SELECT dept_name FROM instructor WHERE name LIKE '%Soisalon%' | 1. SELECT[tbl:​instructor] <br>2. FILTER[#1, comparative:​like:​%Soisalon%:​col:​instructor:​name] <br>3. PROJECT[col:​instructor:​dept_name, #2] <br> | 1. SELECT[tbl:​instructor] <br>2. COMPARATIVE[#1, #1, comparative:​like:​Soisalon:​col:​instructor:​name] <br>3. PROJECT[col:​instructor:​dept_name, #2] <br> | + | medium | 
  | SPIDER_train_1356 | How many rooms whose capacity is less than 50 does the Lamberton building have? | SELECT count(*) FROM classroom WHERE building  =  'Lamberton' AND capacity  <  50 | 1. SELECT[col:​classroom:​building] <br>2. PROJECT[tbl:​classroom, #1] <br>3. COMPARATIVE[#2, #1, comparative:​=:​Lamberton:​col:​classroom:​building] <br>4. PROJECT[col:​classroom:​capacity, #3] <br>5. COMPARATIVE[#3, #4, comparative:​<:​50:​col:​classroom:​capacity] <br>6. AGGREGATE[count, #5] <br> | 1. SELECT[col:​classroom:​building] <br>2. PROJECT[tbl:​classroom, #1] <br>3. COMPARATIVE[#2, #1, comparative:​=:​Lamberton:​col:​classroom:​building] <br>4. PROJECT[col:​classroom:​capacity, #3] <br>5. COMPARATIVE[#3, #4, comparative:​<:​50:​col:​classroom:​capacity] <br>6. AGGREGATE[count, #5] <br> | + | medium | 
  | SPIDER_train_1357 | Count the number of rooms in Lamberton with capacity lower than 50. | SELECT count(*) FROM classroom WHERE building  =  'Lamberton' AND capacity  <  50 | 1. SELECT[val:​classroom:​building:​Lamberton] <br>2. PROJECT[tbl:​classroom, #1] <br>3. PROJECT[col:​classroom:​capacity, #2] <br>4. COMPARATIVE[#2, #3, comparative:​<:​50:​col:​classroom:​capacity] <br>5. AGGREGATE[count, #4] <br> | 1. SELECT[val:​section:​building:​Lamberton] <br>2. PROJECT[tbl:​classroom, #1] <br>3. PROJECT[col:​classroom:​capacity, #2] <br>4. COMPARATIVE[#2, #3, comparative:​<:​50:​col:​classroom:​capacity] <br>5. AGGREGATE[count, #4] <br> | + | medium | 
  | SPIDER_train_1358 | Find the name and budget of departments whose budgets are more than the average budget. | SELECT dept_name ,  budget FROM department WHERE budget  >  (SELECT avg(budget) FROM department) | 1. SELECT[tbl:​department] <br>2. PROJECT[col:​department:​budget, #1] <br>3. AGGREGATE[avg, #2] <br>4. COMPARATIVE[#1, #2, comparative:​>:​#3] <br>5. PROJECT[col:​department:​dept_name, #4] <br>6. PROJECT[col:​department:​budget, #4] <br>7. UNION[#5, #6] <br> | 1. SELECT[tbl:​department] <br>2. PROJECT[col:​department:​budget, #1] <br>3. AGGREGATE[avg, #2] <br>4. COMPARATIVE[#1, #2, comparative:​>:​Surfing:​col:​course:​title] <br>5. PROJECT[col:​department:​dept_name, #4] <br>6. PROJECT[col:​department:​budget, #4] <br>7. UNION[#5, #6] <br> | - | extra | 
  | SPIDER_train_1359 | What are the names and budgets of departments with budgets greater than the average? | SELECT dept_name ,  budget FROM department WHERE budget  >  (SELECT avg(budget) FROM department) | 1. SELECT[tbl:​department] <br>2. PROJECT[col:​department:​budget, #1] <br>3. AGGREGATE[avg, #2] <br>4. COMPARATIVE[#1, #2, comparative:​>:​#3] <br>5. PROJECT[col:​department:​dept_name, #4] <br>6. PROJECT[col:​department:​budget, #4] <br>7. UNION[#5, #6] <br> | 1. SELECT[tbl:​department] <br>2. PROJECT[col:​department:​budget, #1] <br>3. AGGREGATE[avg, #2] <br>4. COMPARATIVE[#1, #2, comparative:​>:​Gates:​col:​section:​building] <br>5. PROJECT[col:​department:​dept_name, #4] <br>6. PROJECT[col:​department:​budget, #4] <br>7. UNION[#5, #6] <br> | - | extra | 
  | SPIDER_train_1360 | what is the name of the instructor who is in Statistics department and earns the lowest salary? | SELECT name FROM instructor WHERE dept_name  =  'Statistics' ORDER BY salary LIMIT 1 | 1. SELECT[tbl:​instructor] <br>2. PROJECT[departments of #REF, #1] <br>3. COMPARATIVE[#1, #2, comparative:​=:​Statistics:​col:​instructor:​dept_name] <br>4. PROJECT[col:​instructor:​salary, #3] <br>5. SUPERLATIVE[comparative:​min:​None, #3, #4] <br>6. PROJECT[col:​instructor:​name, #5] <br> | 1. SELECT[tbl:​instructor] <br>2. PROJECT[None, #1] <br>3. COMPARATIVE[#1, #2, comparative:​=:​Statistics:​col:​instructor:​dept_name] <br>4. PROJECT[col:​instructor:​salary, #3] <br>5. SUPERLATIVE[comparative:​min:​None, #3, #4] <br>6. PROJECT[col:​instructor:​name, #5] <br> | + | hard | 
  | SPIDER_train_1361 | Give the name of the lowest earning instructor in the Statistics department. | SELECT name FROM instructor WHERE dept_name  =  'Statistics' ORDER BY salary LIMIT 1 | 1. SELECT[tbl:​instructor] <br>2. PROJECT[departments of #REF, #1] <br>3. COMPARATIVE[#1, #2, comparative:​=:​Statistics:​col:​instructor:​dept_name] <br>4. PROJECT[col:​instructor:​salary, #3] <br>5. SUPERLATIVE[comparative:​min:​None, #1, #4] <br>6. PROJECT[col:​instructor:​name, #5] <br> | 1. SELECT[tbl:​instructor] <br>2. PROJECT[None, #1] <br>3. COMPARATIVE[#1, #2, comparative:​=:​Statistics:​col:​instructor:​dept_name] <br>4. PROJECT[col:​instructor:​salary, #3] <br>5. SUPERLATIVE[comparative:​min:​None, #1, #4] <br>6. PROJECT[col:​instructor:​name, #5] <br> | + | hard | 
  | SPIDER_train_1374 | List the names of all courses ordered by their titles and credits. | SELECT title FROM course ORDER BY title ,  credits | 1. SELECT[tbl:​course] <br>2. PROJECT[col:​course:​title, #1] <br>3. PROJECT[col:​course:​title, #1] <br>4. PROJECT[col:​course:​credits, #1] <br>5. UNION[#3, #4] <br>6. SORT[#2, #5] <br> | 1. SELECT[tbl:​course] <br>2. PROJECT[col:​course:​title, #1] <br>3. PROJECT[col:​course:​title, #1] <br>4. PROJECT[col:​course:​credits, #1] <br>5. UNION[#3, #4] <br>6. SORT[#2, #5, sortdir:​ascending] <br> | + | easy | 
  | SPIDER_train_1375 | Given the titles of all courses, in order of titles and credits. | SELECT title FROM course ORDER BY title ,  credits | 1. SELECT[tbl:​course] <br>2. PROJECT[col:​course:​title, #1] <br>3. PROJECT[col:​course:​credits, #1] <br>4. UNION[#2, #3] <br>5. SORT[#2, #4] <br> | 1. SELECT[tbl:​course] <br>2. PROJECT[col:​course:​title, #1] <br>3. PROJECT[col:​course:​credits, #1] <br>4. UNION[#2, #3] <br>5. SORT[#2, #4, sortdir:​ascending] <br> | + | easy | 
  | SPIDER_train_1376 | Which department has the lowest budget? | SELECT dept_name FROM department ORDER BY budget LIMIT 1 | 1. SELECT[tbl:​department] <br>2. PROJECT[col:​department:​budget, #1] <br>3. SUPERLATIVE[comparative:​min:​None, #1, #2] <br> | 1. SELECT[tbl:​department] <br>2. PROJECT[col:​department:​budget, #1] <br>3. SUPERLATIVE[comparative:​min:​None, #1, #2] <br> | + | medium | 
  | SPIDER_train_1377 | Give the name of the department with the lowest budget. | SELECT dept_name FROM department ORDER BY budget LIMIT 1 | 1. SELECT[tbl:​department] <br>2. PROJECT[col:​department:​budget, #1] <br>3. SUPERLATIVE[comparative:​min:​None, #1, #2] <br>4. PROJECT[col:​department:​dept_name, #3] <br> | 1. SELECT[tbl:​department] <br>2. PROJECT[col:​department:​budget, #1] <br>3. SUPERLATIVE[comparative:​min:​None, #1, #2] <br>4. PROJECT[col:​department:​dept_name, #3] <br> | + | medium | 
  | SPIDER_train_1378 | List the names and buildings of all departments sorted by the budget from large to small. | SELECT dept_name ,  building FROM department ORDER BY budget DESC | 1. SELECT[tbl:​department] <br>2. PROJECT[col:​department:​dept_name, #1] <br>3. PROJECT[col:​department:​building, #1] <br>4. PROJECT[col:​department:​budget, #1] <br>5. UNION[#2, #3] <br>6. SORT[#5, #4, sortdir:​descending] <br> | 1. SELECT[tbl:​department] <br>2. PROJECT[col:​department:​dept_name, #1] <br>3. PROJECT[col:​department:​building, #1] <br>4. PROJECT[col:​department:​budget, #1] <br>5. UNION[#2, #3] <br>6. SORT[#5, #4, sortdir:​descending] <br> | + | medium | 
  | SPIDER_train_1379 | What are the names and buildings of the deparments, sorted by budget descending? | SELECT dept_name ,  building FROM department ORDER BY budget DESC | 1. SELECT[tbl:​department] <br>2. PROJECT[col:​department:​dept_name, #1] <br>3. PROJECT[col:​department:​building, #1] <br>4. PROJECT[col:​department:​budget, #1] <br>5. UNION[#2, #3] <br>6. SORT[#5, #4, sortdir:​descending] <br> | 1. SELECT[tbl:​department] <br>2. PROJECT[col:​department:​dept_name, #1] <br>3. PROJECT[col:​department:​building, #1] <br>4. PROJECT[col:​department:​budget, #1] <br>5. UNION[#2, #3] <br>6. SORT[#5, #4, sortdir:​descending] <br> | + | medium | 
  | SPIDER_train_1380 | Who is the instructor with the highest salary? | SELECT name FROM instructor ORDER BY salary DESC LIMIT 1 | 1. SELECT[col:​instructor:​name] <br>2. PROJECT[col:​instructor:​salary, #1] <br>3. COMPARATIVE[#1, #2, comparative:​max:​None] <br> | 1. SELECT[col:​instructor:​name] <br>2. PROJECT[col:​instructor:​salary, #1] <br>3. SUPERLATIVE[comparative:​max:​None, #1, #2] <br> | + | medium | 
  | SPIDER_train_1385 | What are the names of students and their respective departments, ordered by number of credits from least to greatest? | SELECT name ,  dept_name FROM student ORDER BY tot_cred | 1. SELECT[tbl:​student] <br>2. PROJECT[col:​student:​name, #1] <br>3. PROJECT[col:​student:​dept_name, #1] <br>4. PROJECT[col:​student:​tot_cred, #1] <br>5. GROUP[count, #4, #1] <br>6. UNION[#2, #3] <br>7. SORT[#6, #5, sortdir:​ascending] <br> | 1. SELECT[tbl:​student] <br>2. PROJECT[col:​student:​name, #1] <br>3. PROJECT[col:​student:​dept_name, #1] <br>4. PROJECT[col:​student:​tot_cred, #1] <br>5. GROUP[count, #4, #1] <br>6. UNION[#2, #3] <br>7. SORT[#6, #5, sortdir:​ascending] <br> | + | medium | 
  | SPIDER_train_1388 | Find the name of instructors who are advising more than one student. | SELECT T1.name FROM instructor AS T1 JOIN advisor AS T2 ON T1.id  =  T2.i_id GROUP BY T2.i_id HAVING count(*)  >  1 | 1. SELECT[tbl:​instructor] <br>2. PROJECT[tbl:​advisor, #1] <br>3. GROUP[count, #2, #1] <br>4. COMPARATIVE[#1, #3, comparative:​>:​1] <br>5. PROJECT[col:​instructor:​name, #4] <br> | 1. SELECT[tbl:​instructor] <br>2. PROJECT[tbl:​advisor, #1] <br>3. GROUP[count, #2, #1] <br>4. COMPARATIVE[#1, #3, comparative:​>:​1] <br>5. PROJECT[col:​instructor:​name, #4] <br> | + | medium | 
  | SPIDER_train_1389 | What are the names of instructors who advise more than one student? | SELECT T1.name FROM instructor AS T1 JOIN advisor AS T2 ON T1.id  =  T2.i_id GROUP BY T2.i_id HAVING count(*)  >  1 | 1. SELECT[tbl:​instructor] <br>2. PROJECT[tbl:​advisor, #1] <br>3. GROUP[count, #2, #1] <br>4. COMPARATIVE[#1, #3, comparative:​>:​1] <br>5. PROJECT[col:​instructor:​name, #4] <br> | 1. SELECT[tbl:​instructor] <br>2. PROJECT[tbl:​advisor, #1] <br>3. GROUP[count, #2, #1] <br>4. COMPARATIVE[#1, #3, comparative:​>:​1] <br>5. PROJECT[col:​instructor:​name, #4] <br> | + | medium | 
  | SPIDER_train_1390 | Find the name of the students who have more than one advisor? | SELECT T1.name FROM student AS T1 JOIN advisor AS T2 ON T1.id  =  T2.s_id GROUP BY T2.s_id HAVING count(*)  >  1 | 1. SELECT[tbl:​student] <br>2. PROJECT[tbl:​advisor, #1] <br>3. GROUP[count, #2, #1] <br>4. COMPARATIVE[#1, #3, comparative:​>:​1] <br>5. PROJECT[col:​student:​name, #4] <br> | 1. SELECT[tbl:​student] <br>2. PROJECT[tbl:​advisor, #1] <br>3. GROUP[count, #2, #1] <br>4. COMPARATIVE[#1, #3, comparative:​>:​1] <br>5. PROJECT[col:​student:​name, #4] <br> | + | medium | 
  | SPIDER_train_1391 | What are the names of students who have more than one advisor? | SELECT T1.name FROM student AS T1 JOIN advisor AS T2 ON T1.id  =  T2.s_id GROUP BY T2.s_id HAVING count(*)  >  1 | 1. SELECT[tbl:​student] <br>2. PROJECT[tbl:​advisor, #1] <br>3. GROUP[count, #2, #1] <br>4. COMPARATIVE[#1, #3, comparative:​>:​1] <br>5. PROJECT[col:​student:​name, #4] <br> | 1. SELECT[tbl:​student] <br>2. PROJECT[tbl:​advisor, #1] <br>3. GROUP[count, #2, #1] <br>4. COMPARATIVE[#1, #3, comparative:​>:​1] <br>5. PROJECT[col:​student:​name, #4] <br> | + | medium | 
  | SPIDER_train_1404 | Find the year which offers the largest number of courses. | SELECT YEAR FROM SECTION GROUP BY YEAR ORDER BY count(*) DESC LIMIT 1 | 1. SELECT[col:​section:​year] <br>2. PROJECT[courses of #REF, #1] <br>3. GROUP[count, #2, #1] <br>4. SUPERLATIVE[comparative:​max:​None, #1, #3] <br> | 1. SELECT[col:​section:​year] <br>2. PROJECT[None, #1] <br>3. GROUP[count, #2, #1] <br>4. SUPERLATIVE[comparative:​max:​None, #1, #3] <br> | + | hard | 
  | SPIDER_train_1405 | Which year had the greatest number of courses? | SELECT YEAR FROM SECTION GROUP BY YEAR ORDER BY count(*) DESC LIMIT 1 | 1. SELECT[col:​section:​year] <br>2. PROJECT[courses in #REF, #1] <br>3. GROUP[count, #2, #1] <br>4. SUPERLATIVE[comparative:​max:​None, #1, #3] <br> | 1. SELECT[col:​section:​year] <br>2. PROJECT[None, #1] <br>3. GROUP[count, #2, #1] <br>4. SUPERLATIVE[comparative:​max:​None, #1, #3] <br> | + | hard | 
  | SPIDER_train_1414 | What is the id of the instructor who advises of all students from History department? | SELECT i_id FROM advisor AS T1 JOIN student AS T2 ON T1.s_id  =  T2.id WHERE T2.dept_name  =  'History' | 1. SELECT[tbl:​advisor] <br>2. FILTER[#1, comparative:​=:​History:​col:​student:​dept_name] <br>3. PROJECT[col:​advisor:​i_ID, #2] <br> | 1. SELECT[tbl:​advisor] <br>2. COMPARATIVE[#1, #1, comparative:​=:​History:​col:​student:​dept_name] <br>3. PROJECT[col:​advisor:​i_ID, #2] <br> | + | medium | 
  | SPIDER_train_1415 | Give id of the instructor who advises students in the History department. | SELECT i_id FROM advisor AS T1 JOIN student AS T2 ON T1.s_id  =  T2.id WHERE T2.dept_name  =  'History' | 1. SELECT[val:​student:​dept_name:​History] <br>2. PROJECT[tbl:​advisor, #1] <br>3. FILTER[#2, tbl:​advisor] <br>4. PROJECT[col:​advisor:​i_ID, #3] <br> | 1. SELECT[val:​student:​dept_name:​History] <br>2. PROJECT[tbl:​advisor, #1] <br>3. COMPARATIVE[#2, #2, tbl:​advisor] <br>4. PROJECT[col:​advisor:​i_ID, #3] <br> | + | medium | 
  | SPIDER_train_1417 | What are the names and salaries of instructors who advises students in the History department? | SELECT T2.name ,  T2.salary FROM advisor AS T1 JOIN instructor AS T2 ON T1.i_id  =  T2.id JOIN student AS T3 ON T1.s_id  =  T3.id WHERE T3.dept_name  =  'History' | 1. SELECT[val:​student:​dept_name:​History] <br>2. PROJECT[tbl:​student, #1] <br>3. PROJECT[tbl:​advisor, #2] <br>4. PROJECT[col:​instructor:​name, #3] <br>5. PROJECT[col:​instructor:​salary, #3] <br>6. UNION[#4, #5] <br> | 1. SELECT[val:​student:​dept_name:​History] <br>2. PROJECT[tbl:​student, #1] <br>3. PROJECT[tbl:​advisor, #2] <br>4. PROJECT[col:​instructor:​name, #3] <br>5. PROJECT[col:​instructor:​salary, #3] <br>6. UNION[#4, #5] <br> | + | hard | 
  | SPIDER_train_1424 | Find the title of course whose prerequisite is course Differential Geometry. | SELECT title FROM course WHERE course_id IN (SELECT T1.course_id FROM prereq AS T1 JOIN course AS T2 ON T1.prereq_id  =  T2.course_id WHERE T2.title  =  'Differential Geometry') | 1. SELECT[col:​prereq:​course_id] <br>2. PROJECT[col:​prereq:​prereq_id, #1] <br>3. COMPARATIVE[#1, #2, comparative:​=:​Differential Geometry:​col:​course:​title] <br>4. PROJECT[col:​course:​title, #3] <br> | 1. SELECT[col:​prereq:​course_id] <br>2. PROJECT[col:​prereq:​prereq_id, #1] <br>3. COMPARATIVE[#1, #2, comparative:​=:​Differential Geometry:​col:​course:​title] <br>4. PROJECT[col:​course:​title, #3] <br> | + | hard | 
  | SPIDER_train_1425 | What is the title of the course with Differential Geometry as a prerequisite? | SELECT title FROM course WHERE course_id IN (SELECT T1.course_id FROM prereq AS T1 JOIN course AS T2 ON T1.prereq_id  =  T2.course_id WHERE T2.title  =  'Differential Geometry') | 1. SELECT[col:​prereq:​course_id] <br>2. PROJECT[col:​prereq:​prereq_id, #1] <br>3. COMPARATIVE[#1, #2, comparative:​=:​Differential Geometry:​col:​course:​title] <br>4. PROJECT[col:​course:​title, #3] <br> | 1. SELECT[col:​prereq:​course_id] <br>2. PROJECT[col:​prereq:​prereq_id, #1] <br>3. COMPARATIVE[#1, #2, comparative:​=:​Differential Geometry:​col:​course:​title] <br>4. PROJECT[col:​course:​title, #3] <br> | + | hard | 
  | SPIDER_train_1430 | Find the name of the instructors who taught C Programming course before. | SELECT T1.name FROM instructor AS T1 JOIN teaches AS T2 ON T1.id  =  T2.id JOIN course AS T3 ON T2.course_id  =  T3.course_id WHERE T3.title  =  'C Programming' | 1. SELECT[tbl:​instructor] <br>2. FILTER[#1, comparative:​=:​C Programming:​col:​course:​title] <br>3. PROJECT[col:​instructor:​name, #2] <br> | 1. SELECT[tbl:​instructor] <br>2. COMPARATIVE[#1, #1, comparative:​=:​C  Programming:​col:​course:​title] <br>3. PROJECT[col:​instructor:​name, #2] <br> | - | hard | 
  | SPIDER_train_1431 | What are the names of instructors who have taught C Programming courses? | SELECT T1.name FROM instructor AS T1 JOIN teaches AS T2 ON T1.id  =  T2.id JOIN course AS T3 ON T2.course_id  =  T3.course_id WHERE T3.title  =  'C Programming' | 1. SELECT[tbl:​instructor] <br>2. PROJECT[tbl:​course, #1] <br>3. COMPARATIVE[#1, #2, comparative:​=:​C Programming:​col:​course:​title] <br>4. PROJECT[col:​instructor:​name, #3] <br> | 1. SELECT[tbl:​instructor] <br>2. PROJECT[tbl:​course, #1] <br>3. COMPARATIVE[#1, #2, comparative:​=:​C  Programming:​col:​course:​title] <br>4. PROJECT[col:​instructor:​name, #3] <br> | - | hard | 
  | SPIDER_train_1432 | Find the name and salary of instructors who are advisors of the students from the Math department. | SELECT T2.name ,  T2.salary FROM advisor AS T1 JOIN instructor AS T2 ON T1.i_id  =  T2.id JOIN student AS T3 ON T1.s_id  =  T3.id WHERE T3.dept_name  =  'Math' | 1. SELECT[val:​student:​dept_name:​Math] <br>2. PROJECT[tbl:​student, #1] <br>3. PROJECT[tbl:​advisor, #2] <br>4. FILTER[#3, tbl:​instructor] <br>5. PROJECT[col:​instructor:​name, #4] <br>6. PROJECT[col:​instructor:​salary, #4] <br>7. UNION[#5, #6] <br> | 1. SELECT[val:​student:​dept_name:​Math] <br>2. PROJECT[tbl:​student, #1] <br>3. PROJECT[tbl:​advisor, #2] <br>4. COMPARATIVE[#3, #3, tbl:​instructor] <br>5. PROJECT[col:​instructor:​name, #4] <br>6. PROJECT[col:​instructor:​salary, #4] <br>7. UNION[#5, #6] <br> | + | hard | 
  | SPIDER_train_1434 | Find the name of instructors who are advisors of the students from the Math department, and sort the results by students' total credit. | SELECT T2.name FROM advisor AS T1 JOIN instructor AS T2 ON T1.i_id  =  T2.id JOIN student AS T3 ON T1.s_id  =  T3.id WHERE T3.dept_name  =  'Math' ORDER BY T3.tot_cred | 1. SELECT[tbl:​student] <br>2. PROJECT[departments of #REF, #1] <br>3. COMPARATIVE[#1, #2, comparative:​=:​Math:​col:​student:​dept_name] <br>4. PROJECT[tbl:​advisor, #3] <br>5. PROJECT[col:​instructor:​name, #4] <br>6. PROJECT[col:​student:​tot_cred, #3] <br>7. GROUP[sum, #6, #3] <br>8. SORT[#5, #7] <br> | 1. SELECT[tbl:​student] <br>2. PROJECT[None, #1] <br>3. COMPARATIVE[#1, #2, comparative:​=:​Math:​col:​student:​dept_name] <br>4. PROJECT[tbl:​advisor, #3] <br>5. PROJECT[col:​instructor:​name, #4] <br>6. PROJECT[col:​student:​tot_cred, #3] <br>7. GROUP[sum, #6, #3] <br>8. SORT[#5, #7, sortdir:​ascending] <br> | + | extra | 
  | SPIDER_train_1435 | What are the names of all instructors who advise students in the math depart sorted by total credits of the student. | SELECT T2.name FROM advisor AS T1 JOIN instructor AS T2 ON T1.i_id  =  T2.id JOIN student AS T3 ON T1.s_id  =  T3.id WHERE T3.dept_name  =  'Math' ORDER BY T3.tot_cred | 1. SELECT[tbl:​student] <br>2. FILTER[#1, comparative:​=:​Math:​col:​student:​dept_name] <br>3. PROJECT[col:​student:​tot_cred, #2] <br>4. GROUP[sum, #3, #2] <br>5. PROJECT[tbl:​advisor, #2] <br>6. PROJECT[col:​instructor:​name, #5] <br>7. SORT[#6, #4] <br> | 1. SELECT[tbl:​student] <br>2. COMPARATIVE[#1, #1, comparative:​=:​Math:​col:​student:​dept_name] <br>3. PROJECT[col:​student:​tot_cred, #2] <br>4. GROUP[sum, #3, #2] <br>5. PROJECT[tbl:​advisor, #2] <br>6. PROJECT[col:​instructor:​name, #5] <br>7. SORT[#6, #4, sortdir:​ascending] <br> | + | extra | 
  | SPIDER_train_1438 | Find the name of instructor who is the advisor of the student who has the highest number of total credits. | SELECT T2.name FROM advisor AS T1 JOIN instructor AS T2 ON T1.i_id  =  T2.id JOIN student AS T3 ON T1.s_id  =  T3.id ORDER BY T3.tot_cred DESC LIMIT 1 | 1. SELECT[tbl:​student] <br>2. PROJECT[col:​student:​tot_cred, #1] <br>3. GROUP[col:​student:​tot_cred, #2, #1] <br>4. SUPERLATIVE[comparative:​max:​None, #1, #3] <br>5. PROJECT[tbl:​advisor, #4] <br>6. PROJECT[col:​instructor:​name, #5] <br> | 1. SELECT[tbl:​student] <br>2. PROJECT[col:​student:​tot_cred, #1] <br>3. GROUP[sum, #2, #1] <br>4. SUPERLATIVE[comparative:​max:​None, #1, #3] <br>5. PROJECT[tbl:​advisor, #4] <br>6. PROJECT[col:​instructor:​name, #5] <br> | + | extra | 
  | SPIDER_train_1443 | What are the ids of instructors who didnt' teach? | SELECT id FROM instructor EXCEPT SELECT id FROM teaches | 1. SELECT[tbl:​instructor] <br>2. FILTER[#1, tbl:​teaches] <br>3. DISCARD[#1, #2] <br>4. PROJECT[col:​instructor:​ID, #3] <br> | 1. SELECT[tbl:​instructor] <br>2. COMPARATIVE[#1, #1, tbl:​teaches] <br>3. DISCARD[#1, #2] <br>4. PROJECT[col:​instructor:​ID, #3] <br> | + | hard | 
  | SPIDER_train_1445 | What are the names of instructors who didn't teach courses in the Spring? | SELECT name FROM instructor WHERE id NOT IN (SELECT id FROM teaches WHERE semester  =  'Spring') | 1. SELECT[tbl:​instructor] <br>2. FILTER[#1, comparative:​=:​Spring:​col:​teaches:​semester] <br>3. DISCARD[#1, #2] <br>4. PROJECT[col:​instructor:​name, #3] <br> | 1. SELECT[tbl:​instructor] <br>2. COMPARATIVE[#1, #1, comparative:​=:​Spring:​col:​teaches:​semester] <br>3. DISCARD[#1, #2] <br>4. PROJECT[col:​instructor:​name, #3] <br> | + | hard | 
  | SPIDER_train_1447 | Which department has the highest average instructor salary? | SELECT dept_name FROM instructor GROUP BY dept_name ORDER BY avg(salary) DESC LIMIT 1 | 1. SELECT[col:​instructor:​dept_name] <br>2. PROJECT[tbl:​instructor, #1] <br>3. PROJECT[col:​instructor:​salary, #2] <br>4. GROUP[avg, #3, #1] <br>5. SUPERLATIVE[comparative:​max:​None, #1, #4] <br> | 1. SELECT[col:​instructor:​dept_name] <br>2. PROJECT[tbl:​instructor, #1] <br>3. PROJECT[col:​instructor:​salary, #2] <br>4. GROUP[avg, #3, #1] <br>5. SUPERLATIVE[comparative:​max:​None, #1, #4] <br> | + | hard | 
  | SPIDER_train_1456 | Find the name of students who have taken the prerequisite course of the course with title International Finance. | SELECT T1.name FROM student AS T1 JOIN takes AS T2 ON T1.id  =  T2.id WHERE T2.course_id IN (SELECT T4.prereq_id FROM course AS T3 JOIN prereq AS T4 ON T3.course_id  =  T4.course_id WHERE T3.title  =  'International Finance') | 1. SELECT[tbl:​course] <br>2. FILTER[#1, comparative:​=:​International Finance:​col:​course:​title] <br>3. PROJECT[tbl:​course, #2] <br>4. PROJECT[tbl:​takes, #3] <br>5. PROJECT[col:​student:​name, #4] <br> | 1. SELECT[tbl:​course] <br>2. COMPARATIVE[#1, #1, comparative:​=:​International Finance:​col:​course:​title] <br>3. PROJECT[tbl:​course, #2] <br>4. PROJECT[tbl:​takes, #3] <br>5. PROJECT[col:​student:​name, #4] <br> | + | extra | 
  | SPIDER_train_1457 | What are the names of students who have taken the prerequisite for the course International Finance? | SELECT T1.name FROM student AS T1 JOIN takes AS T2 ON T1.id  =  T2.id WHERE T2.course_id IN (SELECT T4.prereq_id FROM course AS T3 JOIN prereq AS T4 ON T3.course_id  =  T4.course_id WHERE T3.title  =  'International Finance') | 1. SELECT[val:​course:​title:​International Finance] <br>2. PROJECT[tbl:​prereq, #1] <br>3. PROJECT[tbl:​takes, #2] <br>4. PROJECT[col:​student:​name, #3] <br> | 1. SELECT[val:​course:​title:​International Finance] <br>2. PROJECT[tbl:​prereq, #1] <br>3. PROJECT[tbl:​takes, #2] <br>4. PROJECT[col:​student:​name, #3] <br> | + | extra | 
  | SPIDER_train_1458 | Find the name and salary of instructors whose salary is below the average salary of the instructors in the Physics department. | SELECT name ,  salary FROM instructor WHERE salary  <  (SELECT avg(salary) FROM instructor WHERE dept_name  =  'Physics') | 1. SELECT[tbl:​instructor] <br>2. PROJECT[departments of #REF, #1] <br>3. COMPARATIVE[#1, #2, comparative:​=:​Physics:​col:​instructor:​dept_name] <br>4. PROJECT[col:​instructor:​salary, #3] <br>5. AGGREGATE[avg, #4] <br>6. PROJECT[col:​instructor:​salary, #1] <br>7. COMPARATIVE[#1, #6, comparative:​<:​#5] <br>8. PROJECT[col:​instructor:​name, #7] <br>9. PROJECT[col:​instructor:​salary, #7] <br>10. UNION[#8, #9] <br> | 1. SELECT[tbl:​instructor] <br>2. PROJECT[None, #1] <br>3. COMPARATIVE[#1, #2, comparative:​=:​Physics:​col:​instructor:​dept_name] <br>4. PROJECT[col:​instructor:​salary, #3] <br>5. AGGREGATE[avg, #4] <br>6. PROJECT[col:​instructor:​salary, #1] <br>7. COMPARATIVE[#1, #6, comparative:​<:​Physics:​col:​instructor:​dept_name] <br>8. PROJECT[col:​instructor:​name, #7] <br>9. PROJECT[col:​instructor:​salary, #7] <br>10. UNION[#8, #9] <br> | - | extra | 
  | SPIDER_train_1459 | What are the names and salaries for instructors who earn less than the average salary of instructors in the Physics department? | SELECT name ,  salary FROM instructor WHERE salary  <  (SELECT avg(salary) FROM instructor WHERE dept_name  =  'Physics') | 1. SELECT[tbl:​instructor] <br>2. PROJECT[departments of #REF, #1] <br>3. COMPARATIVE[#1, #2, comparative:​=:​Physics:​col:​instructor:​dept_name] <br>4. PROJECT[col:​instructor:​salary, #3] <br>5. AGGREGATE[avg, #4] <br>6. PROJECT[col:​instructor:​salary, #1] <br>7. COMPARATIVE[#1, #6, comparative:​<:​#5] <br>8. PROJECT[col:​instructor:​name, #7] <br>9. PROJECT[col:​instructor:​salary, #7] <br>10. UNION[#8, #9] <br> | 1. SELECT[tbl:​instructor] <br>2. PROJECT[None, #1] <br>3. COMPARATIVE[#1, #2, comparative:​=:​Physics:​col:​instructor:​dept_name] <br>4. PROJECT[col:​instructor:​salary, #3] <br>5. AGGREGATE[avg, #4] <br>6. PROJECT[col:​instructor:​salary, #1] <br>7. COMPARATIVE[#1, #6, comparative:​<:​Physics:​col:​instructor:​dept_name] <br>8. PROJECT[col:​instructor:​name, #7] <br>9. PROJECT[col:​instructor:​salary, #7] <br>10. UNION[#8, #9] <br> | - | extra | 
  | SPIDER_train_1460 | Find the name of students who took some course offered by Statistics department. | SELECT T3.name FROM course AS T1 JOIN takes AS T2 ON T1.course_id  =  T2.course_id JOIN student AS T3 ON T2.id  =  T3.id WHERE T1.dept_name  =  'Statistics' | 1. SELECT[col:​takes:​course_id] <br>2. FILTER[#1, comparative:​=:​Statistics:​col:​course:​dept_name] <br>3. PROJECT[tbl:​student, #2] <br>4. PROJECT[col:​student:​name, #3] <br> | 1. SELECT[col:​takes:​course_id] <br>2. COMPARATIVE[#1, #1, comparative:​=:​Statistics:​col:​course:​dept_name] <br>3. PROJECT[tbl:​student, #2] <br>4. PROJECT[col:​student:​name, #3] <br> | + | hard | 
  | SPIDER_train_1461 | What are the names of students who have taken Statistics courses? | SELECT T3.name FROM course AS T1 JOIN takes AS T2 ON T1.course_id  =  T2.course_id JOIN student AS T3 ON T2.id  =  T3.id WHERE T1.dept_name  =  'Statistics' | 1. SELECT[col:​takes:​course_id] <br>2. FILTER[#1, comparative:​=:​Statistics:​col:​course:​dept_name] <br>3. PROJECT[tbl:​student, #2] <br>4. PROJECT[col:​student:​name, #3] <br> | 1. SELECT[col:​takes:​course_id] <br>2. COMPARATIVE[#1, #1, comparative:​=:​Statistics:​col:​course:​dept_name] <br>3. PROJECT[tbl:​student, #2] <br>4. PROJECT[col:​student:​name, #3] <br> | + | hard | 
  | SPIDER_train_1462 | Find the building, room number, semester and year of all courses offered by Psychology department sorted by course titles. | SELECT T2.building ,  T2.room_number ,  T2.semester ,  T2.year FROM course AS T1 JOIN SECTION AS T2 ON T1.course_id  =  T2.course_id WHERE T1.dept_name  =  'Psychology' ORDER BY T1.title | 1. SELECT[tbl:​course] <br>2. PROJECT[departments that offered #REF, #1] <br>3. COMPARATIVE[#1, #2, comparative:​=:​Psychology:​col:​course:​dept_name] <br>4. PROJECT[col:​section:​building, #3] <br>5. PROJECT[col:​section:​room_number, #3] <br>6. PROJECT[col:​section:​semester, #3] <br>7. PROJECT[col:​section:​year, #3] <br>8. PROJECT[col:​course:​title, #3] <br>9. UNION[#4, #5, #6, #7] <br>10. SORT[#9, #8] <br> | 1. SELECT[tbl:​course] <br>2. PROJECT[None, #1] <br>3. COMPARATIVE[#1, #2, comparative:​=:​Psychology:​col:​course:​dept_name] <br>4. PROJECT[col:​section:​building, #3] <br>5. PROJECT[col:​section:​room_number, #3] <br>6. PROJECT[col:​section:​semester, #3] <br>7. PROJECT[col:​section:​year, #3] <br>8. PROJECT[col:​course:​title, #3] <br>9. UNION[#4, #5, #6, #7] <br>10. SORT[#9, #8, sortdir:​ascending] <br> | + | hard | 
  | SPIDER_train_1463 | What are the building, room number, semester and year of courses in the Psychology department, sorted using course title? | SELECT T2.building ,  T2.room_number ,  T2.semester ,  T2.year FROM course AS T1 JOIN SECTION AS T2 ON T1.course_id  =  T2.course_id WHERE T1.dept_name  =  'Psychology' ORDER BY T1.title | 1. SELECT[tbl:​course] <br>2. FILTER[#1, comparative:​=:​Psychology:​col:​course:​dept_name] <br>3. PROJECT[col:​section:​building, #2] <br>4. AGGREGATE[col:​section:​room_number, #2] <br>5. PROJECT[col:​section:​semester, #2] <br>6. PROJECT[col:​section:​year, #2] <br>7. PROJECT[col:​course:​title, #2] <br>8. UNION[#3, #4, #5, #6] <br>9. SORT[#8, #7] <br> | 1. SELECT[tbl:​course] <br>2. COMPARATIVE[#1, #1, comparative:​=:​Psychology:​col:​course:​dept_name] <br>3. PROJECT[col:​section:​building, #2] <br>4. AGGREGATE[sum, #2] <br>5. PROJECT[col:​section:​semester, #2] <br>6. PROJECT[col:​section:​year, #2] <br>7. PROJECT[col:​course:​title, #2] <br>8. UNION[#3, #4, #5, #6] <br>9. SORT[#8, #7, sortdir:​ascending] <br> | + | hard | 
  | SPIDER_train_1468 | Find the names of all instructors who have taught some course and the course_id. | SELECT name ,  course_id FROM instructor AS T1 JOIN teaches AS T2 ON T1.ID  =  T2.ID | 1. SELECT[tbl:​instructor] <br>2. FILTER[#1, col:​instructor:​name] <br>3. PROJECT[col:​instructor:​name, #2] <br>4. PROJECT[col:​teaches:​course_id, #2] <br>5. PROJECT[col:​teaches:​course_id, #4] <br>6. UNION[#3, #5] <br> | 1. SELECT[tbl:​instructor] <br>2. COMPARATIVE[#1, #1, col:​instructor:​name] <br>3. PROJECT[col:​instructor:​name, #2] <br>4. PROJECT[col:​teaches:​course_id, #2] <br>5. UNION[#3, #4] <br> | + | medium | 
  | SPIDER_train_1469 | What are the names of all instructors who have taught a course, as well as the corresponding course id? | SELECT name ,  course_id FROM instructor AS T1 JOIN teaches AS T2 ON T1.ID  =  T2.ID | 1. SELECT[tbl:​instructor] <br>2. FILTER[#1, col:​teaches:​course_id] <br>3. PROJECT[col:​instructor:​name, #2] <br>4. PROJECT[col:​teaches:​course_id, #2] <br>5. PROJECT[col:​teaches:​course_id, #4] <br>6. UNION[#3, #5] <br> | 1. SELECT[tbl:​instructor] <br>2. COMPARATIVE[#1, #1, col:​teaches:​course_id] <br>3. PROJECT[col:​instructor:​name, #2] <br>4. PROJECT[col:​teaches:​course_id, #2] <br>5. PROJECT[col:​teaches:​course_id, #4] <br>6. UNION[#3, #5] <br> | + | medium | 
  | SPIDER_train_1470 | Find the names of all instructors in the Art department who have taught some course and the course_id. | SELECT name ,  course_id FROM instructor AS T1 JOIN teaches AS T2 ON T1.ID  =  T2.ID WHERE T1.dept_name  =  'Art' | 1. SELECT[col:​teaches:​course_id] <br>2. PROJECT[departments of #REF, #1] <br>3. COMPARATIVE[#1, #2, comparative:​=:​Art:​col:​instructor:​dept_name] <br>4. PROJECT[tbl:​instructor, #3] <br>5. PROJECT[col:​instructor:​name, #4] <br>6. PROJECT[col:​teaches:​course_id, #3] <br>7. UNION[#5, #6] <br> | 1. SELECT[col:​teaches:​course_id] <br>2. PROJECT[None, #1] <br>3. COMPARATIVE[#1, #2, comparative:​=:​Art:​col:​instructor:​dept_name] <br>4. PROJECT[tbl:​instructor, #3] <br>5. PROJECT[col:​instructor:​name, #4] <br>6. PROJECT[col:​teaches:​course_id, #3] <br>7. UNION[#5, #6] <br> | + | medium | 
  | SPIDER_train_1471 | What are the names of Art instructors who have taught a course, and the corresponding course id? | SELECT name ,  course_id FROM instructor AS T1 JOIN teaches AS T2 ON T1.ID  =  T2.ID WHERE T1.dept_name  =  'Art' | 1. SELECT[tbl:​instructor] <br>2. FILTER[#1, comparative:​=:​Art:​col:​instructor:​dept_name] <br>3. FILTER[#2, col:​teaches:​course_id] <br>4. PROJECT[col:​instructor:​name, #3] <br>5. PROJECT[col:​teaches:​course_id, #4] <br>6. PROJECT[col:​teaches:​course_id, #5] <br>7. UNION[#4, #6] <br> | 1. SELECT[tbl:​instructor] <br>2. COMPARATIVE[#1, #1, comparative:​=:​Art:​col:​instructor:​dept_name] <br>3. COMPARATIVE[#2, #2, col:​teaches:​course_id] <br>4. PROJECT[col:​instructor:​name, #3] <br>5. PROJECT[col:​teaches:​course_id, #4] <br>6. PROJECT[col:​teaches:​course_id, #5] <br>7. UNION[#4, #6] <br> | + | medium | 
  | SPIDER_train_1472 | Find the names of all instructors whose name includes the substring “dar”. | SELECT name FROM instructor WHERE name LIKE '%dar%' | 1. SELECT[tbl:​instructor] <br>2. PROJECT[col:​instructor:​name, #1] <br>3. FILTER[#2, comparative:​like:​%dar%:​col:​instructor:​name] <br> | 1. SELECT[tbl:​instructor] <br>2. PROJECT[col:​instructor:​name, #1] <br>3. COMPARATIVE[#2, #2, comparative:​like:​dar:​col:​instructor:​name] <br> | + | medium | 
  | SPIDER_train_1473 | What are the names of all instructors with names that include "dar"? | SELECT name FROM instructor WHERE name LIKE '%dar%' | 1. SELECT[tbl:​instructor] <br>2. PROJECT[col:​instructor:​name, #1] <br>3. COMPARATIVE[#1, #2, comparative:​like:​%dar%:​col:​instructor:​name] <br>4. PROJECT[col:​instructor:​name, #3] <br> | 1. SELECT[tbl:​instructor] <br>2. PROJECT[col:​instructor:​name, #1] <br>3. COMPARATIVE[#1, #2, comparative:​like:​dar:​col:​instructor:​name] <br>4. PROJECT[col:​instructor:​name, #3] <br> | + | medium | 
  | SPIDER_train_1474 | List in alphabetic order the names of all distinct instructors. | SELECT DISTINCT name FROM  instructor ORDER BY name | 1. SELECT[tbl:​instructor] <br>2. PROJECT[distinct #REF, #1] <br>3. PROJECT[col:​instructor:​name, #2] <br>4. SORT[#3, #3, sortdir:​ascending] <br> | 1. SELECT[tbl:​instructor] <br>2. PROJECT[None, #1] <br>3. PROJECT[col:​instructor:​name, #2] <br>4. SORT[#3, #3, sortdir:​ascending] <br> | + | easy | 
  | SPIDER_train_1475 | List the distinct names of the instructors, ordered by name. | SELECT DISTINCT name FROM  instructor ORDER BY name | 1. SELECT[tbl:​instructor] <br>2. PROJECT[col:​instructor:​name, #1] <br>3.*(distinct)* PROJECT[distinct #REF, #2] <br>4. SORT[#3, #2] <br> | 1. SELECT[tbl:​instructor] <br>2. PROJECT[col:​instructor:​name, #1] <br>3.*(distinct)* PROJECT[None, #2] <br>4. SORT[#3, #2, sortdir:​ascending] <br> | + | easy | 
  | SPIDER_train_1482 | Find the salaries of all distinct instructors that are less than the largest salary. | SELECT DISTINCT salary FROM instructor WHERE salary  <  (SELECT max(salary) FROM instructor) | 1. SELECT[tbl:​instructor] <br>2. PROJECT[distinct #REF, #1] <br>3. PROJECT[col:​instructor:​salary, #2] <br>4. SUPERLATIVE[comparative:​max:​None, #2, #3] <br>5. DISCARD[#2, #4] <br>6. PROJECT[col:​instructor:​salary, #5] <br> | 1. SELECT[tbl:​instructor] <br>2. PROJECT[None, #1] <br>3. PROJECT[col:​instructor:​salary, #2] <br>4. SUPERLATIVE[comparative:​max:​None, #2, #3] <br>5. DISCARD[#2, #4] <br>6. PROJECT[col:​instructor:​salary, #5] <br> | + | hard | 
  | SPIDER_train_1483 | What are the distinct salaries of all instructors who earned less than the maximum salary? | SELECT DISTINCT salary FROM instructor WHERE salary  <  (SELECT max(salary) FROM instructor) | 1. SELECT[tbl:​instructor] <br>2. PROJECT[col:​instructor:​salary, #1] <br>3. AGGREGATE[max, #2] <br>4. COMPARATIVE[#1, #2, comparative:​<:​#3] <br>5.*(distinct)* PROJECT[col:​instructor:​salary, #4] <br> | 1. SELECT[tbl:​instructor] <br>2. PROJECT[col:​instructor:​salary, #1] <br>3. AGGREGATE[max, #2] <br>4. COMPARATIVE[#1, #2, comparative:​<:​Solar:​col:​student:​name] <br>5.*(distinct)* PROJECT[col:​instructor:​salary, #4] <br> | - | hard | 
  | SPIDER_train_1486 | Find the names and average salaries of all departments whose average salary is greater than 42000. | SELECT dept_name ,  AVG (salary) FROM instructor GROUP BY dept_name HAVING AVG (salary)  >  42000 | 1. SELECT[col:​instructor:​dept_name] <br>2. PROJECT[col:​instructor:​salary, #1] <br>3. GROUP[col:​instructor:​salary, #2, #1] <br>4. COMPARATIVE[#1, #3, comparative:​>:​42000:​col:​instructor:​salary] <br>5. PROJECT[col:​instructor:​dept_name, #4] <br>6. PROJECT[col:​instructor:​salary, #4] <br>7. GROUP[avg, #6, #4] <br>8. UNION[#5, #7] <br> | 1. SELECT[col:​instructor:​dept_name] <br>2. PROJECT[col:​instructor:​salary, #1] <br>3. GROUP[sum, #2, #1] <br>4. COMPARATIVE[#1, #3, comparative:​>:​42000:​col:​instructor:​salary] <br>5. PROJECT[col:​instructor:​dept_name, #4] <br>6. PROJECT[col:​instructor:​salary, #4] <br>7. GROUP[avg, #6, #4] <br>8. UNION[#5, #7] <br> | + | medium | 
  | SPIDER_train_1487 | What are the names and average salaries for departments with average salary higher than 42000? | SELECT dept_name ,  AVG (salary) FROM instructor GROUP BY dept_name HAVING AVG (salary)  >  42000 | 1. SELECT[col:​instructor:​dept_name] <br>2. PROJECT[col:​instructor:​salary, #1] <br>3. GROUP[col:​instructor:​salary, #2, #1] <br>4. COMPARATIVE[#1, #3, comparative:​>:​42000:​col:​instructor:​salary] <br>5. PROJECT[col:​instructor:​dept_name, #4] <br>6. PROJECT[col:​instructor:​salary, #4] <br>7. GROUP[avg, #6, #4] <br>8. UNION[#5, #7] <br> | 1. SELECT[col:​instructor:​dept_name] <br>2. PROJECT[col:​instructor:​salary, #1] <br>3. GROUP[sum, #2, #1] <br>4. COMPARATIVE[#1, #3, comparative:​>:​42000:​col:​instructor:​salary] <br>5. PROJECT[col:​instructor:​dept_name, #4] <br>6. PROJECT[col:​instructor:​salary, #4] <br>7. GROUP[avg, #6, #4] <br>8. UNION[#5, #7] <br> | + | medium | 
  | SPIDER_train_1490 | Find the names of all instructors whose salary is greater than the salary of all instructors in the Biology department. | SELECT name FROM instructor WHERE salary  >  (SELECT max(salary) FROM instructor WHERE dept_name  =  'Biology') | 1. SELECT[tbl:​instructor] <br>2. PROJECT[col:​instructor:​salary, #1] <br>3. FILTER[#1, comparative:​=:​Biology:​col:​instructor:​dept_name] <br>4. PROJECT[col:​instructor:​salary, #3] <br>5. AGGREGATE[max, #4] <br>6. COMPARATIVE[#1, #2, comparative:​>:​#5] <br>7. PROJECT[col:​instructor:​name, #6] <br> | 1. SELECT[tbl:​instructor] <br>2. PROJECT[col:​instructor:​salary, #1] <br>3. COMPARATIVE[#1, #1, comparative:​=:​Biology:​col:​instructor:​dept_name] <br>4. PROJECT[col:​instructor:​salary, #3] <br>5. AGGREGATE[max, #4] <br>6. COMPARATIVE[#1, #2, comparative:​>:​Biology:​col:​instructor:​dept_name] <br>7. PROJECT[col:​instructor:​name, #6] <br> | - | hard | 
  | SPIDER_train_1491 | What are the names of all instructors with a higher salary than any of the instructors in the Biology department? | SELECT name FROM instructor WHERE salary  >  (SELECT max(salary) FROM instructor WHERE dept_name  =  'Biology') | 1. SELECT[tbl:​instructor] <br>2. FILTER[#1, comparative:​=:​Biology:​col:​instructor:​dept_name] <br>3. PROJECT[col:​instructor:​salary, #2] <br>4. AGGREGATE[max, #3] <br>5. PROJECT[col:​instructor:​salary, #1] <br>6. COMPARATIVE[#1, #5, comparative:​>:​#4] <br>7. PROJECT[col:​instructor:​name, #6] <br> | 1. SELECT[tbl:​instructor] <br>2. COMPARATIVE[#1, #1, comparative:​=:​Biology:​col:​instructor:​dept_name] <br>3. PROJECT[col:​instructor:​salary, #2] <br>4. AGGREGATE[max, #3] <br>5. PROJECT[col:​instructor:​salary, #1] <br>6. COMPARATIVE[#1, #5, comparative:​>:​Biology:​col:​instructor:​dept_name] <br>7. PROJECT[col:​instructor:​name, #6] <br> | - | hard | 
 ***
 Exec acc: **0.8553**
