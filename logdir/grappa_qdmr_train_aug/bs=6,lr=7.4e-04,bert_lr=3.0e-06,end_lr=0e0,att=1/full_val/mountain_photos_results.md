 | Idx | Table      | Column | Primary Key | Foreign Key | 
 | ----------- | ----------- | ----------- | ----------- | ----------- | 
  | 0 |  | * |   |   | 
 | 1 | **mountain** | id | + |   | 
 | 2 |   | name |   |   | 
 | 3 |   | Height |   |   | 
 | 4 |   | Prominence |   |   | 
 | 5 |   | Range |   |   | 
 | 6 |   | Country |   |   | 
 | 7 | **camera_lens** | id | + |   | 
 | 8 |   | brand |   |   | 
 | 9 |   | name |   |   | 
 | 10 |   | focal_length_mm |   |   | 
 | 11 |   | max_aperture |   |   | 
 | 12 | **photos** | id | + |   | 
 | 13 |   | camera_lens_id |   | --> 7 | 
 | 14 |   | mountain_id |   | --> 1 | 
 | 15 |   | color |   |   | 
 | 16 |   | name |   |   | 
 
  | Index | Question  | SQL | gold QDMR | pred QDMR | Exec | SQL hardness |
  | ----------- | ----------- | ----------- |  ----------- | ----------- | ----------- | ----------- | 
 | SPIDER_train_3711 | How many camera lenses have a focal length longer than 15 mm? | SELECT count(*) FROM camera_lens WHERE focal_length_mm  >  15 | 1. SELECT[tbl:​camera_lens] <br>2. PROJECT[tbl:​camera_lens, #1] <br>3. COMPARATIVE[#1, #2, comparative:​>:​15:​col:​camera_lens:​focal_length_mm] <br>4. AGGREGATE[count, #3] <br> | 1. SELECT[tbl:​camera_lens] <br>2. PROJECT[tbl:​camera_lens, #1] <br>3. COMPARATIVE[#1, #2, comparative:​>:​15:​col:​camera_lens:​focal_length_mm] <br>4. AGGREGATE[count, #3] <br> | + | easy | 
  | SPIDER_train_3712 | Find the brand and name for each camera lens, and sort in descending order of maximum aperture. | SELECT brand ,  name FROM camera_lens ORDER BY max_aperture DESC | 1. SELECT[tbl:​camera_lens] <br>2. PROJECT[col:​camera_lens:​brand, #1] <br>3. PROJECT[col:​camera_lens:​name, #1] <br>4. PROJECT[col:​camera_lens:​max_aperture, #1] <br>5. GROUP[max, #4, #1] <br>6. UNION[#2, #3] <br>7. SORT[#6, #5, sortdir:​descending] <br> | 1. SELECT[tbl:​camera_lens] <br>2. PROJECT[col:​camera_lens:​brand, #1] <br>3. PROJECT[col:​camera_lens:​name, #1] <br>4. PROJECT[col:​camera_lens:​max_aperture, #1] <br>5. GROUP[max, #4, #1] <br>6. UNION[#2, #3] <br>7. SORT[#6, #5, sortdir:​descending] <br> | + | medium | 
  | SPIDER_train_3713 | List the id, color scheme, and name for all the photos. | SELECT id ,  color ,  name FROM photos | 1. SELECT[tbl:​photos] <br>2. PROJECT[col:​photos:​id, #1] <br>3. PROJECT[col:​photos:​color, #1] <br>4. PROJECT[col:​photos:​name, #1] <br>5. UNION[#2, #3, #4] <br> | 1. SELECT[tbl:​photos] <br>2. PROJECT[col:​photos:​id, #1] <br>3. PROJECT[col:​photos:​color, #1] <br>4. PROJECT[col:​photos:​name, #1] <br>5. UNION[#2, #3, #4] <br> | + | medium | 
  | SPIDER_train_3714 | What are the maximum and average height of the mountains? | SELECT max(height) ,  avg(height) FROM mountain | 1. SELECT[tbl:​mountain] <br>2. PROJECT[col:​mountain:​Height, #1] <br>3. AGGREGATE[max, #2] <br>4. AGGREGATE[avg, #2] <br>5. UNION[#3, #4] <br> | 1. SELECT[tbl:​mountain] <br>2. PROJECT[col:​mountain:​Height, #1] <br>3. AGGREGATE[max, #2] <br>4. AGGREGATE[avg, #2] <br>5. UNION[#3, #4] <br> | + | medium | 
  | SPIDER_train_3715 | What are the average prominence of the mountains in country 'Morocco'? | SELECT avg(prominence) FROM mountain WHERE country  =  'Morocco' | 1. SELECT[col:​mountain:​Country] <br>2. PROJECT[tbl:​mountain, #1] <br>3. COMPARATIVE[#2, #1, comparative:​=:​Morocco:​col:​mountain:​Country] <br>4. PROJECT[col:​mountain:​Prominence, #3] <br>5. AGGREGATE[avg, #4] <br> | 1. SELECT[col:​mountain:​Country] <br>2. PROJECT[tbl:​mountain, #1] <br>3. COMPARATIVE[#2, #1, comparative:​=:​Morocco:​col:​mountain:​Country] <br>4. PROJECT[col:​mountain:​Prominence, #3] <br>5. AGGREGATE[avg, #4] <br> | + | easy | 
  | SPIDER_train_3716 | What are the name, height and prominence of mountains which do not belong to the range 'Aberdare Range'? | SELECT name ,  height ,  prominence FROM mountain WHERE range != 'Aberdare Range' | 1. SELECT[tbl:​mountain] <br>2. PROJECT[col:​mountain:​Range, #1] <br>3. COMPARATIVE[#1, #2, comparative:​!=:​Aberdare Range:​col:​mountain:​Range] <br>4. PROJECT[col:​mountain:​name, #3] <br>5. PROJECT[col:​mountain:​Height, #3] <br>6. PROJECT[col:​mountain:​Prominence, #3] <br>7. UNION[#4, #5, #6] <br> | 1. SELECT[tbl:​mountain] <br>2. PROJECT[col:​mountain:​Range, #1] <br>3. COMPARATIVE[#1, #2, comparative:​!=:​Aberdare Range:​col:​mountain:​Range] <br>4. PROJECT[col:​mountain:​name, #3] <br>5. PROJECT[col:​mountain:​Height, #3] <br>6. PROJECT[col:​mountain:​Prominence, #3] <br>7. UNION[#4, #5, #6] <br> | + | medium | 
  | SPIDER_train_3717 | What are the id and name of the photos for mountains? | SELECT T1.id ,  T1.name FROM mountain AS T1 JOIN photos AS T2 ON T1.id  =  T2.mountain_id WHERE T1.height  >  4000 | 1. SELECT[tbl:​photos] <br>2. FILTER[#1, comparative:​>:​4000:​col:​mountain:​Height] <br>3. PROJECT[col:​mountain:​id, #2] <br>4. PROJECT[col:​mountain:​name, #2] <br>5. UNION[#3, #4] <br> | 1. SELECT[tbl:​photos] <br>2. COMPARATIVE[#1, #1, comparative:​>:​4000:​col:​mountain:​Height] <br>3. PROJECT[col:​mountain:​id, #2] <br>4. PROJECT[col:​mountain:​name, #2] <br>5. UNION[#3, #4] <br> | + | medium | 
  | SPIDER_train_3718 | What are the id and name of the mountains that have at least 2 photos? | SELECT T1.id ,  T1.name FROM mountain AS T1 JOIN photos AS T2 ON T1.id  =  T2.mountain_id GROUP BY T1.id HAVING count(*)  >=  2 | 1. SELECT[tbl:​mountain] <br>2. PROJECT[tbl:​photos, #1] <br>3. GROUP[count, #2, #1] <br>4. COMPARATIVE[#1, #3, comparative:​>=:​2] <br>5. PROJECT[col:​mountain:​id, #4] <br>6. PROJECT[col:​mountain:​name, #4] <br>7. UNION[#5, #6] <br> | 1. SELECT[tbl:​mountain] <br>2. PROJECT[tbl:​photos, #1] <br>3. GROUP[count, #2, #1] <br>4. COMPARATIVE[#1, #3, comparative:​>=:​2] <br>5. PROJECT[col:​mountain:​id, #4] <br>6. PROJECT[col:​mountain:​name, #4] <br>7. UNION[#5, #6] <br> | + | medium | 
  | SPIDER_train_3719 | What are the names of the cameras that have taken picture of the most mountains? | SELECT T2.name FROM photos AS T1 JOIN camera_lens AS T2 ON T1.camera_lens_id  =  T2.id GROUP BY T2.id ORDER BY count(*) DESC LIMIT 1 | 1. SELECT[tbl:​camera_lens] <br>2. PROJECT[tbl:​photos, #1] <br>3. PROJECT[mountains of #REF, #2] <br>4. GROUP[count, #3, #1] <br>5. COMPARATIVE[#1, #4, comparative:​max:​None] <br>6. PROJECT[col:​camera_lens:​name, #5] <br> | 1. SELECT[tbl:​camera_lens] <br>2. PROJECT[tbl:​photos, #1] <br>3. PROJECT[None, #2] <br>4. GROUP[count, #3, #1] <br>5. SUPERLATIVE[comparative:​max:​None, #1, #4] <br>6. PROJECT[col:​camera_lens:​name, #5] <br> | + | extra | 
  | SPIDER_train_3720 | What are the names of photos taken with the lens brand 'Sigma' or 'Olympus'? | SELECT T1.name FROM camera_lens AS T1 JOIN photos AS T2 ON T2.camera_lens_id  =  T1.id WHERE T1.brand  =  'Sigma' OR T1.brand  =  'Olympus' | 1. SELECT[tbl:​photos] <br>2. PROJECT[tbl:​camera_lens, #1] <br>3. COMPARATIVE[#1, #2, comparative:​=:​Sigma:​col:​camera_lens:​brand] <br>4. COMPARATIVE[#1, #2, comparative:​=:​Olympus:​col:​camera_lens:​brand] <br>5. UNION[#3, #4] <br>6. PROJECT[col:​camera_lens:​name, #5] <br> | 1. SELECT[tbl:​photos] <br>2. PROJECT[tbl:​camera_lens, #1] <br>3. COMPARATIVE[#1, #2, comparative:​=:​Sigma:​col:​camera_lens:​brand] <br>4. COMPARATIVE[#1, #2, comparative:​=:​Olympus:​col:​camera_lens:​brand] <br>5. UNION[#3, #4] <br>6. PROJECT[col:​camera_lens:​name, #5] <br> | + | hard | 
  | SPIDER_train_3721 | How many different kinds of lens brands are there? | SELECT count(DISTINCT brand) FROM camera_lens | 1. SELECT[tbl:​camera_lens] <br>2. PROJECT[col:​camera_lens:​brand, #1] <br>3.*(distinct)* FILTER[#2, that are different] <br>4. AGGREGATE[count, #3] <br> | 1. SELECT[tbl:​camera_lens] <br>2. PROJECT[col:​camera_lens:​brand, #1] <br>3.*(distinct)* COMPARATIVE[#2, #2, None] <br>4. AGGREGATE[count, #3] <br> | + | easy | 
  | SPIDER_train_3722 | How many camera lenses are not used in taking any photos? | SELECT count(*) FROM camera_lens WHERE id NOT IN ( SELECT camera_lens_id FROM photos ) | 1. SELECT[tbl:​camera_lens] <br>2. FILTER[#1, tbl:​photos] <br>3. DISCARD[#1, #2] <br>4. AGGREGATE[count, #3] <br> | 1. SELECT[tbl:​camera_lens] <br>2. COMPARATIVE[#1, #1, tbl:​photos] <br>3. DISCARD[#1, #2] <br>4. AGGREGATE[count, #3] <br> | + | extra | 
  | SPIDER_train_3724 | List the brands of lenses that took both a picture of mountains with range 'Toubkal Atlas' and a picture of mountains with range 'Lasta Massif' | SELECT T3.brand FROM mountain AS T1 JOIN photos AS T2 ON T1.id  =  T2.mountain_id JOIN camera_lens AS T3 ON T2.camera_lens_id  =  T3.id WHERE T1.range  =  'Toubkal Atlas' INTERSECT SELECT T3.brand FROM mountain AS T1 JOIN photos AS T2 ON T1.id  =  T2.mountain_id JOIN camera_lens AS T3 ON T2.camera_lens_id  =  T3.id WHERE T1.range  =  'Lasta Massif' | 1. SELECT[tbl:​mountain] <br>2. PROJECT[col:​camera_lens:​brand, #1] <br>3. COMPARATIVE[#1, #2, comparative:​=:​Toubkal Atlas:​col:​mountain:​Range] <br>4. COMPARATIVE[#1, #2, comparative:​=:​Lasta Massif:​col:​mountain:​Range] <br>5. PROJECT[tbl:​photos, #3] <br>6. PROJECT[tbl:​photos, #4] <br>7. SELECT[tbl:​camera_lens] <br>8. INTERSECTION[#7, #5, #6] <br>9. PROJECT[col:​camera_lens:​brand, #8] <br> | 1. SELECT[tbl:​mountain] <br>2. PROJECT[col:​camera_lens:​brand, #1] <br>3. COMPARATIVE[#1, #2, comparative:​=:​Toubkal Atlas:​col:​mountain:​Range] <br>4. COMPARATIVE[#1, #2, comparative:​=:​Lasta Massif:​col:​mountain:​Range] <br>5. PROJECT[tbl:​photos, #3] <br>6. PROJECT[tbl:​photos, #4] <br>7. SELECT[tbl:​camera_lens] <br>8. INTERSECTION[#7, #5, #6] <br>9. PROJECT[col:​camera_lens:​brand, #8] <br> | + | extra | 
  | SPIDER_train_3726 | List the camera lens names containing substring "Digital". | SELECT name FROM camera_lens WHERE name LIKE "%Digital%" | 1. SELECT[tbl:​camera_lens] <br>2. PROJECT[col:​camera_lens:​name, #1] <br>3. FILTER[#2, comparative:​like:​%Digital%:​col:​camera_lens:​name] <br> | 1. SELECT[tbl:​camera_lens] <br>2. PROJECT[col:​camera_lens:​name, #1] <br>3. COMPARATIVE[#2, #2, comparative:​like:​Digital:​col:​camera_lens:​name] <br> | + | medium | 
  | SPIDER_train_3727 | What is the name of each camera lens and the number of photos taken by it? Order the result by the count of photos. | SELECT T1.name ,  count(*) FROM camera_lens AS T1 JOIN photos AS T2 ON T1.id  =  T2.camera_lens_id GROUP BY T1.id ORDER BY count(*) | 1. SELECT[tbl:​camera_lens] <br>2. PROJECT[col:​camera_lens:​name, #1] <br>3. PROJECT[tbl:​photos, #1] <br>4. GROUP[count, #3, #1] <br>5. UNION[#2, #4] <br>6. SORT[#5, #4] <br> | 1. SELECT[tbl:​camera_lens] <br>2. PROJECT[col:​camera_lens:​name, #1] <br>3. PROJECT[tbl:​photos, #1] <br>4. GROUP[count, #3, #1] <br>5. UNION[#2, #4] <br>6. SORT[#5, #4, sortdir:​ascending] <br> | + | hard | 
 ***
 Exec acc: **1.0000**
